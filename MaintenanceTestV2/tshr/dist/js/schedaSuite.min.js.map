{"version":3,"sources":["src/js/schedaSuite.js","../../src/js/shared/dom.js","../../src/js/shared/toggle.js","../../src/js/shared/toggle-over.js","../../src/js/nav/nav.js","../../src/js/shared/page.js","../../src/js/shared/scroll.anchor.js","../../node_modules/ssr-window/ssr-window.esm.js","../../node_modules/dom7/dom7.esm.js","../../node_modules/swiper/shared/dom.js","../../node_modules/swiper/shared/utils.js","../../node_modules/swiper/shared/get-support.js","../../node_modules/swiper/shared/get-device.js","../../node_modules/swiper/shared/get-browser.js","../../node_modules/swiper/core/events-emitter.js","../../node_modules/swiper/core/update/index.js","../../node_modules/swiper/core/update/updateSize.js","../../node_modules/swiper/core/update/updateSlides.js","../../node_modules/swiper/core/update/updateAutoHeight.js","../../node_modules/swiper/core/update/updateSlidesOffset.js","../../node_modules/swiper/core/update/updateSlidesProgress.js","../../node_modules/swiper/core/update/updateProgress.js","../../node_modules/swiper/core/update/updateSlidesClasses.js","../../node_modules/swiper/core/update/updateActiveIndex.js","../../node_modules/swiper/core/update/updateClickedSlide.js","../../node_modules/swiper/core/translate/index.js","../../node_modules/swiper/core/translate/getTranslate.js","../../node_modules/swiper/core/translate/setTranslate.js","../../node_modules/swiper/core/translate/minTranslate.js","../../node_modules/swiper/core/translate/maxTranslate.js","../../node_modules/swiper/core/translate/translateTo.js","../../node_modules/swiper/core/transition/transitionEmit.js","../../node_modules/swiper/core/slide/index.js","../../node_modules/swiper/core/slide/slideTo.js","../../node_modules/swiper/core/slide/slideToLoop.js","../../node_modules/swiper/core/slide/slideNext.js","../../node_modules/swiper/core/slide/slidePrev.js","../../node_modules/swiper/core/slide/slideReset.js","../../node_modules/swiper/core/slide/slideToClosest.js","../../node_modules/swiper/core/slide/slideToClickedSlide.js","../../node_modules/swiper/core/loop/index.js","../../node_modules/swiper/core/loop/loopCreate.js","../../node_modules/swiper/core/loop/loopFix.js","../../node_modules/swiper/core/loop/loopDestroy.js","../../node_modules/swiper/core/events/onTouchStart.js","../../node_modules/swiper/core/events/onTouchMove.js","../../node_modules/swiper/core/events/onTouchEnd.js","../../node_modules/swiper/core/events/onResize.js","../../node_modules/swiper/core/events/onClick.js","../../node_modules/swiper/core/events/onScroll.js","../../node_modules/swiper/core/events/index.js","../../node_modules/swiper/core/breakpoints/setBreakpoint.js","../../node_modules/swiper/core/classes/index.js","../../node_modules/swiper/core/classes/addClasses.js","../../node_modules/swiper/core/classes/removeClasses.js","../../node_modules/swiper/core/check-overflow/index.js","../../node_modules/swiper/core/defaults.js","../../node_modules/swiper/core/moduleExtendParams.js","../../node_modules/swiper/core/core.js","../../node_modules/swiper/core/transition/index.js","../../node_modules/swiper/core/transition/setTransition.js","../../node_modules/swiper/core/transition/transitionStart.js","../../node_modules/swiper/core/transition/transitionEnd.js","../../node_modules/swiper/core/grab-cursor/index.js","../../node_modules/swiper/core/grab-cursor/setGrabCursor.js","../../node_modules/swiper/core/grab-cursor/unsetGrabCursor.js","../../node_modules/swiper/core/breakpoints/index.js","../../node_modules/swiper/core/breakpoints/getBreakpoint.js","../../node_modules/swiper/core/images/index.js","../../node_modules/swiper/core/images/loadImage.js","../../node_modules/swiper/core/images/preloadImages.js","../../node_modules/swiper/shared/create-element-if-not-defined.js","../../node_modules/swiper/modules/navigation/navigation.js","../../node_modules/swiper/shared/classes-to-selector.js","../../node_modules/swiper/modules/pagination/pagination.js","../../node_modules/swiper/modules/autoplay/autoplay.js","../../node_modules/swiper/core/modules/resize/resize.js","../../node_modules/swiper/core/modules/observer/observer.js","../../src/js/swiper/swiper-settings.js","../../src/js/swiper/swiper-slider.js","../../src/js/accordion/accordion.selectFilters.js","../../src/js/accordion/accordion.js","../../node_modules/@fancyapps/ui/src/shared/utils/isPlainObject.js","../../node_modules/@fancyapps/ui/src/shared/utils/extend.js","../../node_modules/@fancyapps/ui/src/shared/utils/canUseDOM.js","../../node_modules/@fancyapps/ui/src/shared/utils/setFocusOn.js","../../node_modules/@fancyapps/ui/src/shared/Base/Base.js","../../node_modules/@fancyapps/ui/src/shared/utils/resolve.js","../../node_modules/@fancyapps/ui/src/shared/utils/round.js","../../node_modules/@fancyapps/ui/src/shared/utils/isScrollable.js","../../node_modules/@fancyapps/ui/src/shared/utils/ResizeObserver.js","../../node_modules/@fancyapps/ui/src/shared/utils/PointerTracker.js","../../node_modules/@fancyapps/ui/src/shared/utils/getTextNodeFromPoint.js","../../node_modules/@fancyapps/ui/src/Panzoom/Panzoom.js","../../node_modules/@fancyapps/ui/src/shared/utils/getDimensions.js","../../node_modules/@fancyapps/ui/src/Panzoom/plugins/index.js","../../node_modules/@fancyapps/ui/src/shared/utils/throttle.js","../../node_modules/@fancyapps/ui/src/Carousel/plugins/Navigation/Navigation.js","../../node_modules/@fancyapps/ui/src/Carousel/plugins/Sync/Sync.js","../../node_modules/@fancyapps/ui/src/Carousel/plugins/index.js","../../node_modules/@fancyapps/ui/src/Carousel/plugins/Dots/Dots.js","../../node_modules/@fancyapps/ui/src/Carousel/Carousel.js","../../node_modules/@fancyapps/ui/src/Carousel/l10n/en.js","../../node_modules/@fancyapps/ui/src/Fancybox/plugins/Thumbs/Thumbs.js","../../node_modules/@fancyapps/ui/src/Fancybox/plugins/Html/Html.js","../../node_modules/@fancyapps/ui/src/Fancybox/plugins/Image/Image.js","../../node_modules/@fancyapps/ui/src/Fancybox/plugins/Hash/Hash.js","../../node_modules/@fancyapps/ui/src/shared/utils/Fullscreen.js","../../node_modules/@fancyapps/ui/src/shared/utils/Slideshow.js","../../node_modules/@fancyapps/ui/src/Fancybox/plugins/Toolbar/Toolbar.js","../../node_modules/@fancyapps/ui/src/Fancybox/plugins/index.js","../../node_modules/@fancyapps/ui/src/Fancybox/plugins/ScrollLock/ScrollLock.js","../../node_modules/@fancyapps/ui/src/Fancybox/Fancybox.js","../../node_modules/@fancyapps/ui/src/Fancybox/l10n/en.js","../../src/js/schedaSuite.js"],"names":["schedaSuite","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_defineProperty","obj","value","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","Dom","detect","node","userAgent","navigator","toLowerCase","explorer","indexOf","frfx","opera","crm","saf","ed","android","match","blackberry","ios","operamini","iemobile","mobile","classList","overscroll","platform","getBattery","assign","keys","forEach","x","add","document","querySelector","style","display","addEventListener","onTouchStart","removeEventListener","touch","onMouseDown","mouse","fastscroll","fragmentFirstElement","fragment","Array","slice","call","children","find","nodeType","Node","ELEMENT_NODE","fragmentFromHTML","html","createRange","createContextualFragment","Toggle","selectorBtn","selectorTarget","wrapper","className","this","init","addListener","_proto","substring","getAttribute","hasAria","onClick","bind","contains","removeClassName","addClassName","resetAll","toggleAttribute","remove","removeAttribute","_this","querySelectorAll","item","items","from","map","ToggleOver","_Toggle","timeout","isOver","buttonOver","mouseOutArea","onOver","onOut","onEnter","onLeave","clearTimeout","setTimeout","Nav","selectors","mainWrapper","mobileToggle","buttonsAttribute","buttonsTarget","subButtonsAttribute","subButtonsTarget","backButtons","subBackButtons","settings","activeClass","wrapperClass","buttons","subButtons","backSubButtons","onToggle","toggle","Page","body","page","header","nav","isMobile","addListeners","window","e","checkDevice","scrollY","orientation","ScrollAnchor","index","setup","Constructor","protoProps","staticProps","anchorId","offset","content","scrollTo","cleanOffset","preventDefault","get","offsetTop","isObject","extend","src","ssrDocument","activeElement","blur","nodeName","getElementById","createEvent","initEvent","createElement","childNodes","setAttribute","getElementsByTagName","createElementNS","importNode","location","hash","host","hostname","href","origin","pathname","protocol","search","getDocument","doc","ssrWindow","history","replaceState","pushState","go","back","CustomEvent","getComputedStyle","getPropertyValue","Image","Date","screen","matchMedia","requestAnimationFrame","callback","cancelAnimationFrame","id","getWindow","win","Dom7","super","proto","set","makeReactive","arrayFlat","arr","res","el","isArray","push","arrayFilter","filter","$","selector","context","trim","toCreate","tempParent","innerHTML","a","qsa","uniqueArray","arrayUnique","fn","Methods","addClass","classes","classNames","c","split","removeClass","hasClass","toggleClass","attr","attrs","arguments","attrName","removeAttr","transform","transition","duration","transitionDuration","on","args","eventType","targetSelector","listener","capture","handleLiveEvent","eventData","dom7EventData","unshift","is","apply","parents","k","handleEvent","undefined","events","j","event","dom7LiveListeners","proxyListener","dom7Listeners","off","handlers","handler","dom7proxy","splice","trigger","evt","detail","bubbles","cancelable","data","dataIndex","dispatchEvent","transitionEnd","dom","fireCallBack","outerWidth","includeMargins","styles","offsetWidth","parseFloat","outerHeight","offsetHeight","box","getBoundingClientRect","clientTop","clientLeft","scrollTop","scrollLeft","scrollX","top","left","css","prop","each","text","textContent","compareWith","matches","webkitMatchesSelector","msMatchesSelector","child","previousSibling","eq","returnIndex","append","els","newChild","tempDiv","firstChild","appendChild","prepend","insertBefore","next","nextElementSibling","nextAll","nextEls","prev","previousElementSibling","prevAll","prevEls","parent","parentNode","closest","foundElements","found","removeChild","nextTick","delay","now","getTranslate","axis","matrix","curTransform","transformMatrix","curStyle","currentStyle","WebKitCSSMatrix","webkitTransform","replace","join","MozTransform","OTransform","MsTransform","msTransform","toString","m41","m42","to","noExtend","nextSource","HTMLElement","keysArray","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","__swiper__","setCSSProperty","varName","varValue","setProperty","animateCSSModeScroll","swiper","targetPosition","side","startPosition","translate","time","startTime","params","speed","wrapperEl","scrollSnapType","cssModeFrameID","dir","isOutOfBound","current","animate","getTime","progress","Math","max","min","easeProgress","cos","PI","currentPosition","overflow","support","deviceCached","browser","getSupport","smoothScroll","documentElement","DocumentTouch","passiveListener","supportsPassive","opts","gestures","calcSupport","getDevice","overrides","ua","device","screenWidth","width","screenHeight","height","ipad","ipod","iphone","windows","macos","os","calcDevice","getBrowser","isSafari","isWebView","test","calcBrowser","methodName","eventsEmitter","priority","self","method","eventsListeners","once","onceHandler","__emitterProxy","onAny","eventsAnyListeners","offAny","eventHandler","emit","update","updateSize","$el","clientWidth","clientHeight","isHorizontal","isVertical","parseInt","Number","isNaN","size","updateSlides","getDirectionLabel","property","marginRight","getDirectionPropertyValue","label","$wrapperEl","swiperSize","rtlTranslate","rtl","wrongRTL","isVirtual","virtual","enabled","previousSlidesLength","slides","slideClass","slidesLength","snapGrid","slidesGrid","slidesSizesGrid","offsetBefore","slidesOffsetBefore","offsetAfter","slidesOffsetAfter","previousSnapGridLength","previousSlidesGridLength","spaceBetween","slidePosition","prevSlideSize","virtualSize","marginLeft","marginBottom","marginTop","centeredSlides","cssMode","gridEnabled","grid","rows","slideSize","initSlides","shouldResetSlideSize","slidesPerView","breakpoints","slide","updateSlide","slideStyles","currentTransform","currentWebKitTransform","roundLengths","paddingLeft","paddingRight","boxSizing","floor","swiperSlideSize","abs","slidesPerGroup","slidesPerGroupSkip","effect","setWrapperSize","updateWrapperSize","newSlidesGrid","slidesGridItem","_","slideIndex","centeredSlidesBounds","allSlidesSize","slideSizeValue","maxSnap","snap","centerInsufficientSlides","allSlidesOffset","snapIndex","addToSnapGrid","addToSlidesGrid","v","watchOverflow","checkOverflow","watchSlidesProgress","updateSlidesOffset","updateAutoHeight","activeSlides","newHeight","setTransition","getSlideByIndex","visibleSlides","ceil","activeIndex","swiperSlideOffset","offsetLeft","updateSlidesProgress","offsetCenter","slideVisibleClass","visibleSlidesIndexes","slideOffset","slideProgress","minTranslate","originalSlideProgress","slideBefore","slideAfter","originalProgress","updateProgress","multiplier","translatesDiff","maxTranslate","isBeginning","isEnd","wasBeginning","wasEnd","autoHeight","updateSlidesClasses","realIndex","activeSlide","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","loop","slideDuplicateClass","nextSlide","prevSlide","emitSlidesClasses","updateActiveIndex","newActiveIndex","previousIndex","previousRealIndex","previousSnapIndex","normalizeSlideIndex","skip","initialized","runCallbacksOnInit","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToClickedSlide","virtualTranslate","currentTranslate","setTranslate","byController","newProgress","y","previousTranslate","translateTo","runCallbacks","translateBounds","internal","animating","preventInteractionOnTransition","newTranslate","isH","behavior","onTranslateToWrapperTransitionEnd","destroyed","transitionEmit","direction","step","slideTo","initial","Error","indexAsNumber","isFinite","initialSlide","normalizedTranslate","normalizedGrid","normalizedGridNext","allowSlideNext","allowSlidePrev","transitionStart","t","_immediateVirtual","_swiperImmediateVirtual","onSlideToWrapperTransitionEnd","slideToLoop","newIndex","loopedSlides","slideNext","perGroup","slidesPerGroupAuto","slidesPerViewDynamic","increment","loopPreventsSlide","loopFix","_clientLeft","slidePrev","normalize","val","normalizedSnapGrid","prevSnap","prevSnapIndex","prevIndex","slideReset","slideToClosest","threshold","currentSnap","slideToIndex","loopCreate","$selector","loopFillGroupWithBlank","blankSlidesNum","blankNode","slideBlankClass","loopAdditionalSlides","prependSlides","appendSlides","cloneNode","diff","loopDestroy","touchEventsData","touches","originalEvent","$targetEl","touchEventsTarget","isTouchEvent","type","which","button","isTouched","isMoved","noSwipingClass","shadowRoot","path","noSwipingSelector","isTargetShadow","noSwiping","base","__closestFrom","assignedSlot","getRootNode","closestElement","allowClick","swipeHandler","currentX","targetTouches","pageX","currentY","pageY","startX","startY","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","innerWidth","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","swipeDirection","allowThresholdMove","focusableElements","shouldPreventDefault","allowTouchMove","touchStartPreventDefault","touchStartForcePreventDefault","isContentEditable","onTouchMove","targetTouch","changedTouches","preventedByNestedSwiper","touchReleaseOnEdges","diffX","diffY","sqrt","touchAngle","atan2","touchMoveStopPropagation","nested","stopPropagation","startTranslate","allowMomentumBounce","grabCursor","setGrabCursor","touchRatio","disableParentSwiper","resistanceRatio","resistance","followFinger","freeMode","onTouchEnd","touchEndTime","timeDiff","lastClickTime","currentPos","stopIndex","groupSize","ratio","longSwipesMs","longSwipes","longSwipesRatio","shortSwipes","navigation","nextEl","prevEl","onResize","setBreakpoint","autoplay","running","paused","run","preventClicks","preventClicksPropagation","stopImmediatePropagation","onScroll","dummyEventAttached","dummyEventListener","touchEvents","domMethod","swiperMethod","start","passiveListeners","passive","move","end","cancel","updateOnWindowResize","events$1","attachEvents","detachEvents","isGridEnabled","addClasses","suffixes","entries","prefix","resultClasses","prepareClasses","autoheight","fill","centered","containerModifierClass","emitContainerClasses","removeClasses","defaults","resizeObserver","createElements","url","breakpointsBase","simulateTouch","uniqueNavElements","preloadImages","updateOnImagesReady","_emitClasses","moduleExtendParams","allModulesParams","moduleParamName","moduleParams","auto","prototypes","moving","isLocked","cursor","unsetGrabCursor","breakpoint","getBreakpoint","currentBreakpoint","breakpointParams","originalParams","wasMultiRow","isMultiRow","wasEnabled","directionChanged","needsReLoop","changeDirection","isEnabled","disable","enable","containerEl","currentHeight","innerHeight","points","point","minRatio","substr","sort","b","wasLocked","lastSlideIndex","lastSlideRightEdge","images","loadImage","imageEl","srcset","sizes","checkForComplete","image","onReady","complete","onload","onerror","imagesLoaded","imagesToLoad","currentSrc","extendedDefaults","Swiper","swipers","newParams","modules","__modules__","mod","extendParams","swiperParams","passedParams","eventName","velocity","desktop","touchEventsTouch","touchEventsDesktop","clickTimeout","velocities","setProgress","cls","getSlideClasses","slideEl","updates","view","exact","spv","breakLoop","translateValue","translated","newDirection","needUpdate","currentDirection","mount","mounted","getWrapperSelector","options","getWrapper","destroy","deleteInstance","cleanStyles","object","deleteProps","static","newDefaults","module","m","installModule","createElementIfNotDefined","checkProps","element","Navigation","getEl","toggleEl","disabled","disabledClass","tagName","lockClass","$nextEl","$prevEl","onPrevClick","onNextClick","hideOnClick","hiddenClass","_s","targetEl","pagination","clickable","isHidden","classesToSelector","Pagination","pfx","bulletSize","bulletElement","renderBullet","renderProgressbar","renderFraction","renderCustom","progressbarOpposite","dynamicBullets","dynamicMainBullets","formatFractionCurrent","number","formatFractionTotal","bulletClass","bulletActiveClass","modifierClass","currentClass","totalClass","progressbarFillClass","progressbarOppositeClass","clickableClass","horizontalClass","verticalClass","bullets","dynamicBulletIndex","isPaginationDisabled","setSideBullets","$bulletEl","position","total","paginationType","firstIndex","lastIndex","midIndex","suffix","bullet","$bullet","bulletIndex","$firstDisplayedBullet","$lastDisplayedBullet","dynamicBulletsLength","bulletsOffset","offsetProp","progressbarDirection","scale","scaleX","scaleY","render","paginationHTML","numberOfBullets","Autoplay","$activeSlideEl","autoplayResult","reverseDirection","stopOnLastSlide","stop","pause","waitForTransition","onTransitionEnd","onVisibilityChange","visibilityState","onMouseEnter","disableOnInteraction","onMouseLeave","pauseOnMouseEnter","prototypeGroup","protoMethod","use","observer","resizeHandler","orientationChangeHandler","ResizeObserver","newWidth","contentBoxSize","contentRect","inlineSize","blockSize","observe","unobserve","observers","attach","MutationObserver","WebkitMutationObserver","mutations","observerUpdate","attributes","childList","characterData","observeParents","observeSlideChildren","containerParents","disconnect","SwiperSettings","getParams","getFeatures","features","hero","names","carousel3col","SwiperSlider","dataset","swiperId","swiperSlider","AccordionSelectFilters","selectAttribute","categoriesAttribute","select","categories","getData","onChange","currentTarget","_this2","filteredArray","category","currentSelection","selectedIndex","filterCategory","reset","_this3","selectedElements","Accordion","buttonAttribute","contentAttribute","filtersSelect","closeOthers","toggleCurrent","defaultElementId","animations","contents","contentHeight","getHeight","open","currentId","close","setActive","isCurrent","hasActive","isOpen","elem","onOpen","onClose","_this4","onCompleteAnim","gsap","ease","Power2","easeOut","onComplete","_this5","isPlainObject","deep","shift","result","extenders","extender","hasOwnProperty","canUseDOM","preventScrollSupported","FOCUSABLE_ELEMENTS","setFocusOn","focus","preventScroll","pageXOffset","pageYOffset","Base","plugins","option","fallback","rest","String","reduce","curr","localize","str","subkey","rez","name","listeners","details","attachPlugins","newPlugins","Plugin","plugin","detachPlugins","detach","round","precision","EPSILON","isScrollable","Element","__Panzoom","overflowY","overflowX","vertical","scrollHeight","horizontal","scrollWidth","hasScrollbars","observables","boundCheck","check","some","observable","newObservable","changedEntries","currentWidth","Pointer","nativePointer","Touch","identifier","clientX","clientY","getDistance","getMidpoint","PointerTracker","_element","startPointers","currentPointers","_pointerStart","pointer","_triggerPointerStart","_move","_pointerEnd","_touchStart","previousPointers","changedPointers","findIndex","_moveCallback","_triggerPointerEnd","_endCallback","_touchEnd","_startCallback","zoom","pinchToZoom","panOnlyZoomed","lockAxis","friction","decelFriction","zoomFriction","bounceForce","baseScale","minScale","maxScale","textSelection","click","wheel","wheelFactor","wheelLimit","draggableClass","draggingClass","Panzoom","$container","state","initLayout","resetValues","Plugins","updateMetrics","panTo","$content","$viewport","updateRate","container","viewport","origWidth","origHeight","resetDragPosition","onLoad","defaultPrevented","getSelection","rect","getClientRects","dragPosition","midPoint","dragStart","zoomWithClick","onWheel","zoomWithWheel","changedDelta","delta","deltaY","deltaX","wheelDelta","newScale","zoomTo","toggleZoom","initObserver","pointerTracker","nodes","range","TEXT_NODE","selectNodeContents","right","bottom","getTextNodeFromPoint","prevMidpoint","newMidpoint","panX","panY","prevDistance","newDistance","scaleDiff","dragOffset","axisToLock","angle","startPoint","xPos","yPos","getZoomDelta","setDragResistance","startAnimation","_dragOffset","recalculateTransform","last","updateTimer","isAnimating","endAnimation","silently","contentIsImage","HTMLImageElement","contentIsZoomable","shouldResizeParent","naturalWidth","baseVal","naturalHeight","getFullHeight","maxWidth","maxHeight","viewportRect","containerRect","viewportWidth","viewportHeight","viewportStyles","paddingTop","paddingBottom","srcWidth","srcHeight","calculateAspectRatioFit","fitWidth","fitHeight","isZoomable","zoomIn","zoomOut","currentScale","percentXInCurrentBox","percentYInCurrentBox","ignoreBounds","boundX","boundY","getBounds","rAF","setEdgeForce","setDragForce","setTransform","pastLeft","pastRight","pastTop","pastBottom","force","restX","restY","bound","distance","final","handleCursor","version","throttle","func","limit","lastCall","carousel","$prev","$next","onRefresh","createButton","$btn","toUpperCase","build","pageCount","pages","elemDimWidth","wrapDimWidth","isInteger","cleanup","prevTpl","nextTpl","main","Sync","onNavReady","onNavClick","onNavCreateSlide","onTargetChange","addAsTargetFor","addAsNavFor","initialPage","panzoom","clickedNavSlide","selectedNavIndex","selectedSyncPage","findPageForSlide","markSelectedSlide","targetIndex","indexes","selectedNavPage","sync","Dots","$list","change","refresh","buildList","removeList","rebuildDots","listExists","pagesCount","dotCount","lastChild","$dot","code","nextSibling","setActiveDot","$activeDot","preload","slidesPerPage","center","infinite","dragFree","track","slideSelected","l10n","NEXT","PREV","GOTO","Carousel","__Carousel","pageIndex","prevPage","prevPageIndex","$track","manageSlideVisiblity","initPanzoom","isDom","lastSlideWidth","contentWidth","slideWidth","getSlideMetrics","currentPage","shouldCenter","shouldFill","sum","page2","updatePanzoom","firstSlide","isTestEl","visibility","customClass","setPage","wrapInner","resizeParent","centerOnStart","afterUpdate","updatePage","beforeTransform","onBeforeTransform","touchEnd","leftBoundary","rightBoundary","hasDiff","insideCurrentInterval","insidePrevInterval","insideNextInterval","createSlideEl","removeSlideEl","nextPos","updatedX","markSelectedSlides","curentIndex","lazySrc","lazySrcset","backgroundImage","div","allElelements","goal","refSlide","refIndex","selectedClass","manageInfiniteTrack","isFlipped","nextPageIndex","getPageFromPosition","interval","toClosest","nextPosition","nextInterval","currPosition","decreasedPosition","increasedPosition","diff1","diff2","diff3","Thumbs","fancybox","prepare","onPrepare","closing","onClosing","keydown","onKeydown","getSlides","$carousel","thumb","hide","show","minSlideCount","minScreenHeight","autoStart","buildURLQuery","URL","URLSearchParams","video","youtube","autohide","fs","rel","hd","wmode","enablejsapi","html5","vimeo","show_title","show_byline","show_portrait","fullscreen","html5video","tpl","format","Html","onInit","ready","onCreateSlide","onRemoveSlide","onSelectSlide","onUnselectSlide","processType","videoId","encodeURIComponent","vendor","charAt","_width","_height","setContent","getSlide","playVideo","loadInlineContent","tmp","$placeHolder","attrId","setError","loadAjaxContent","xhr","XMLHttpRequest","showLoading","onreadystatechange","readyState","DONE","hideLoading","status","responseText","setRequestHeader","send","ajax","loadIframeContent","$iframe","resizeIframe","isFirstLoad","isReady","revealContent","setAspectRatio","maxRatio","width_","height_","autoSize","$parent","parentStyle","compStyles","paddingX","paddingY","contentWindow","$html","$body","flex","error","newStyle","poster","$video","promise","play","then","catch","muted","err","poller","command","postMessage","JSON","stringify","abort","$closeButton","onMessage","parse","getElementsByClassName","source","ex","done","onDone","onPageChange","clickTimer","$image","canZoom","imageFit","onImageStatusChange","alt","draggable","shouldWrap","$wrap","initSlidePanzoom","startIndex","getZoomInfo","thumbRect","$thumb","thumbWidth","thumbHeight","shiftedTop","shiftedLeft","opacity","visualViewport","visibleTopLeft","elementFromPoint","visibleBottomRight","$caption","animatePosition","clickAction","touchIsEnabled","zoomInClass","zoomOutClass","process","action","dblclickAction","currSlide","canZoomInClass","canZoomOutClass","zoomOpacity","ignoreCoveredThumbnail","doubleClick","fit","wrap","Hash","initCarousel","hasCreatedHistory","origHash","timer","firstRun","currentSlide","currentHash","newHash","slug","$trigger","title","hasSilentClose","Fancybox","getInstance","getParsedURL","selectedElem","groupElems","instance","startFromUrl","proceed","onHashChange","pop","Fullscreen","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","activate","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","deactivate","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","Slideshow","active","handleVisibilityChange","isActive","setTimer","jumpTo","$progress","clearTimer","autoEnable","counter","class","tabindex","slideshow","download","thumbs","Toolbar","onSettle","hasImage","closeButton","onFsChange","$svg","all_items","all_groups","includes","fullscreenEnabled","fullScreen","group","idx","cnt","downloadSrc","ScrollLock","pendingUpdate","updateViewport","onTouchstart","onTouchmove","screenY","curY","isAtTop","isAtBottom","showClass","hideClass","animated","hideScrollbar","parentEl","mainClass","autoFocus","trapFocus","placeFocusBack","dragToClose","keyboard","Escape","Delete","Backspace","PageUp","PageDown","ArrowUp","ArrowDown","ArrowRight","ArrowLeft","template","spinner","CLOSE","MODAL","ERROR","IMAGE_ERROR","ELEMENT_NOT_FOUND","AJAX_NOT_FOUND","AJAX_FORBIDDEN","IFRAME_ERROR","TOGGLE_ZOOM","TOGGLE_THUMBS","TOGGLE_SLIDESHOW","TOGGLE_FULLSCREEN","DOWNLOAD","instances","Map","called","bindHandlers","setItems","onMousedown","onFocus","$root","mainTemplate","insertAdjacentHTML","onscroll","role","tabIndex","$backdrop","origTarget","caption","infiniteX","infiniteY","createSlide","settle","touchMove","afterTransform","onTransform","eventTarget","content_class","distanceY","ctrlKey","altKey","shiftKey","isUIElement","ignoreFocusChange","$currentSlide","allFocusableElems","$firstEl","enabledElems","isNodeVisible","offsetParent","isNodeInsideCurrentSlide","isNodeOutsideCarousel","origTabindex","hasAttribute","lastFocus","scrollbarWidth","$style","revealScrollbar","clearContent","_className","$fragment","manageCloseButton","animateCSS","$element","handleAnimationEnd","message","$spinner","delete","nextInstance","metaKey","triggerGroupName","matchingOpener","fancyboxTrigger","triggerItems","triggerIndex","fancyboxIndex","openers","reverse","opener","fromOpener","groupAll","groupAttr","groupValue","currentInstance","falseValues","trueValues","attachClickEvent","fromEvent","fb","values","all","SchedaSuite","_Page","pageInit","initAccordion"],"mappings":"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","file":"dist\\js\\schedaSuite.min.js","sourcesContent":[null,"export default class Dom {\n\n\tstatic detect(node) {\n\t\tconst userAgent = navigator.userAgent.toLowerCase();\n\t\tconst explorer = userAgent.indexOf('msie') > -1;\n\t\tconst frfx = userAgent.indexOf('firefox') > -1;\n\t\tconst opera = userAgent.toLowerCase().indexOf('op') > -1;\n\t\tlet crm = userAgent.indexOf('chrome') > -1;\n\t\tlet saf = userAgent.indexOf('safari') > -1;\n\t\tlet ed = userAgent.indexOf('edg') > -1;\n\t\tif ((crm) && (saf)) {\n\t\t\tsaf = false;\n\t\t}\n\t\tif ((crm) && (opera)) {\n\t\t\tcrm = false;\n\t\t}\n\t\tif ((crm) && (ed)) {\n\t\t\tcrm = false;\n\t\t}\n\n\t\tconst android = userAgent.match(/android/i);\n\t\tconst blackberry = userAgent.match(/blackberry/i);\n\t\tconst ios = userAgent.match(/iphone|ipod/i);\n\t\tconst operamini = userAgent.match(/opera mini/i);\n\t\tconst iemobile = userAgent.match(/iemobile/i) || navigator.userAgent.match(/wpdesktop/i);\n\t\tconst mobile = android || blackberry || ios || operamini || iemobile;\n\n\t\tconst overscroll = navigator.platform === 'MacIntel' && typeof navigator.getBattery === 'function';\n\t\tconst classList = {\n\t\t\tcrm,\n\t\t\texplorer,\n\t\t\tfrfx,\n\t\t\tsaf,\n\t\t\topera,\n\t\t\tandroid,\n\t\t\tblackberry,\n\t\t\tios,\n\t\t\toperamini,\n\t\t\tiemobile,\n\t\t\tmobile,\n\t\t\toverscroll,\n\t\t\ted\n\t\t};\n\t\tObject.assign(Dom, classList);\n\t\tObject.keys(classList).forEach(x => {\n\t\t\tif (classList[x]) {\n\t\t\t\tnode.classList.add(x);\n\t\t\t}\n\t\t});\n\t\tif (saf)\n\t\t\tdocument.querySelector('_blue-alt').style.display = 'none';\n\t\tconst onTouchStart = () => {\n\t\t\tdocument.removeEventListener('touchstart', onTouchStart);\n\t\t\tDom.touch = true;\n\t\t\tnode.classList.add('touch');\n\t\t};\n\t\tdocument.addEventListener('touchstart', onTouchStart);\n\t\tconst onMouseDown = () => {\n\t\t\tdocument.removeEventListener('mousedown', onMouseDown);\n\t\t\tDom.mouse = true;\n\t\t\tnode.classList.add('mouse');\n\t\t};\n\t\tdocument.addEventListener('mousedown', onMouseDown);\n\t\tif (mobile) {\n\t\t\tDom.fastscroll = true;\n\t\t\tnode.classList.add('fastscroll');\n\t\t}\n\t}\n\n\tstatic fragmentFirstElement(fragment) {\n\t\treturn Array.prototype.slice.call(fragment.children).find((x) => x.nodeType === Node.ELEMENT_NODE);\n\t}\n\n\tstatic fragmentFromHTML(html) {\n\t\treturn document.createRange().createContextualFragment(html);\n\t}\n}\n","\nexport default class Toggle {\n\n\tconstructor(node, selectorBtn, selectorTarget, wrapper, className) {\n\t\tthis.node = node;\n\t\tthis.selectorBtn = selectorBtn;\n\t\tthis.selectorTarget = selectorTarget;\n\t\tthis.wrapper = wrapper;\n\t\tthis.className = className;\n\t\tthis.init();\n\t\tthis.addListener();\n\t}\n\n\tinit() {\n\t\tthis.selectorBtn = this.selectorBtn.substring(1, this.selectorBtn.length -1);\n\t\tthis.selectorTarget = this.selectorTarget.substring(1, this.selectorTarget.length -1);\n\t\tthis.target = this.wrapper.querySelector(\n\t\t\t`[${this.selectorTarget}=${this.node.getAttribute(this.selectorBtn)}]`\n\t\t);\n\t\tthis.hasAria = this.node.getAttribute('aria-expanded');\n\t}\n\n\taddListener() {\n\t\tthis.node.addEventListener('click', this.onClick.bind(this));\n\t}\n\n\tonClick() {\n\t\tconst isActive = this.target.classList.contains(this.className);\n\t\tif(isActive) {\n\t\t\tthis.removeClassName();\n\t\t} else {\n\t\t\tthis.addClassName();\n\t\t}\n\t}\n\n\taddClassName() {\n\t\tthis.resetAll();\n\t\tthis.target.classList.add(this.className);\n\t\tif(this.hasAria)\n\t\t\tthis.node.toggleAttribute('aria-expanded');\n\t}\n\n\tremoveClassName() {\n\t\tthis.target.classList.remove(this.className);\n\t\tif(this.hasAria)\n\t\t\tthis.node.removeAttribute('aria-expanded');\n\t}\n\n\tresetAll() {\n\t\tconst items = this.wrapper.querySelectorAll(`[${this.selectorTarget}]`);\n\t\titems.forEach(item => {\n\t\t\titem.classList.remove(this.className);\n\t\t\tif(this.hasAria)\n\t\t\t\titem.removeAttribute('aria-expanded');\n\t\t})\n\t}\n\n\tstatic init(selectorBtn, selectorTarget, wrapper, className) {\n        Toggle.items = Array.from(wrapper.querySelectorAll(selectorBtn)).map((node) => \n\t\t\tnew Toggle(node, selectorBtn, selectorTarget, wrapper, className)\n\t\t);\n\t\treturn Toggle.items;\n    }\n}","import Toggle from \"./toggle\";\n\nexport default class ToggleOver extends Toggle  {\n\n\tconstructor(node, selectorBtn, selectorTarget, wrapper, className) {\n\t\tsuper(node, selectorBtn, selectorTarget, wrapper, className);\n\t}\n\n\taddListener() {\n\t\tthis.timeout;\n\t\tthis.isOver = false;\n\t\tthis.buttonOver = false;\n\t\tthis.mouseOutArea = this.target.querySelector('.subnav');\n\n\t\tif(document.querySelector('body').classList.contains('mobile')) {\n\t\t\tthis.node.addEventListener('click', this.onClick.bind(this));\n\t\t} else {\n\t\t\tthis.node.addEventListener('mouseover', this.onOver.bind(this));\n\t\t\tthis.node.addEventListener('mouseleave', this.onOut.bind(this));\n\n\t\t\tthis.mouseOutArea.addEventListener('mouseover', this.onEnter.bind(this));\n\t\t\tthis.mouseOutArea.addEventListener('mouseleave', this.onLeave.bind(this));\n\t\t}\n\t}\n\n\tonOver() {\n\t\tthis.addClassName();\n\t}\n\n\tonOut() {\n\t\tif(this.timeout !== 0) {\n\t\t\tclearTimeout(this.timeout)\n\t\t}\n\t\tthis.timeout = setTimeout(() => {\n\t\t\tif (!this.isOver) {\n\t\t\t\tthis.removeClassName();\n\t\t\t}\n\t\t}, 100)\n\t}\n\n\tonEnter() {\n\t\tthis.isOver = true;\n\t}\n\n\tonLeave() {\n\t\tthis.isOver = false;\n\t\tthis.removeClassName();\n\t}\n\n\tstatic init(selectorBtn, selectorTarget, wrapper, className) {\n        ToggleOver.items = Array.from(wrapper.querySelectorAll(selectorBtn)).map((node) => \n\t\t\tnew ToggleOver(node, selectorBtn, selectorTarget, wrapper, className)\n\t\t);\n\t\treturn ToggleOver.items;\n    }\n}","import Toggle from \"../shared/toggle\";\nimport ToggleOver from \"../shared/toggle-over\";\nexport default class Nav {\n\n\tconstructor(node) {\n\t\tthis.node = node;\n\n\t\tthis.selectors = {\n\t\t\tmainWrapper: 'body',\n\t\t\tmobileToggle: '[data-nav-toggle]',\n\t\t\tbuttonsAttribute: '[data-toggle-btn]',\n\t\t\tbuttonsTarget: '[data-toggle-target]',\n\t\t\tsubButtonsAttribute: '[data-toggle-sub-btn]',\n\t\t\tsubButtonsTarget: '[data-toggle-sub-target]',\n\t\t\tbackButtons: '[data-nav-back]',\n\t\t\tsubBackButtons: '[data-subnav-back]'\n\t\t}\n\n\t\tthis.settings = {\n\t\t\tactiveClass: 'active',\n\t\t\twrapperClass: 'no-scroll'\n\t\t}\n\n\t\tthis.init();\n\t\tthis.addListener();\n\t}\n\n\tinit() {\n\n\t\t//buttons for mobile and desktop\n\t\tthis.buttons = ToggleOver.init(\n\t\t\tthis.selectors.buttonsAttribute, \n\t\t\tthis.selectors.buttonsTarget, \n\t\t\tthis.node, \n\t\t\tthis.settings.activeClass\n\t\t);\n\n\t\t// sub buttons on mobile\n\t\tthis.subButtons = Toggle.init(\n\t\t\tthis.selectors.subButtonsAttribute, \n\t\t\tthis.selectors.subButtonsTarget,\n\t\t\tthis.node, \n\t\t\tthis.settings.activeClass\n\t\t);\n\n\t\t// back buttons on mobile\n\t\tthis.backButtons = Toggle.init(\n\t\t\tthis.selectors.backButtons,\n\t\t\tthis.selectors.buttonsTarget,\n\t\t\tthis.node,\n\t\t\tthis.settings.activeClass\n\t\t);\n\n\t\t// back sub buttons on mobile\n\t\tthis.backSubButtons = Toggle.init(\n\t\t\tthis.selectors.subBackButtons,\n\t\t\tthis.selectors.subButtonsTarget,\n\t\t\tthis.node,\n\t\t\tthis.settings.activeClass\n\t\t);\n\n\t\t//various\n\t\tthis.mobileToggle = document.querySelector(this.selectors.mobileToggle);\n\t\tthis.mainWrapper = document.querySelector(this.selectors.mainWrapper);\n\t}\n\n\taddListener() {\n\t\t//mobile toggle button\n\t\tthis.mobileToggle.addEventListener('click', this.onToggle.bind(this));\n\t}\n\n\tonToggle() {\n\t\t//toggle various classes to open/close mobile nav\n\t\tthis.mobileToggle.classList.toggle(this.settings.activeClass);\n\t\tthis.node.classList.toggle(this.settings.activeClass);\n\t\tthis.mainWrapper.classList.toggle(this.settings.wrapperClass);\n\n\t\t//reset all buttons\n\t\tthis.resetAll(this.buttons);\n\t\tthis.resetAll(this.subButtons);\n\t}\n\n\tresetAll(items) {\n\t\titems.forEach(item => {\n\t\t\titem.target.classList.remove(this.settings.activeClass);\n\t\t\titem.target.removeAttribute('aria-expanded');\n\t\t});\n\t}\n}","import Dom from './dom';\nimport Nav from '../nav/nav'\n\nexport default class Page {\n\n\tconstructor() {}\n\n\tinit() {\n\t\tconst body = document.querySelector('body');\n\t\tconst page = document.querySelector('.page');\n\t\tconst header = document.querySelector('.header');\n\t\tconst nav = document.querySelector('[data-nav]');\n\n\t\tDom.detect(body);\n\n\t\tthis.body = body;\n\t\tthis.page = page;\n\t\tthis.header = header;\n\t\tthis.isMobile = Dom.mobile;\n\t\tthis.nav = new Nav(nav);\n\n\t\tthis.addListeners();\n\t}\n\n\taddListeners() {\n\t\twindow.addEventListener('orientationchange', (e) => {\n\t\t\tthis.checkDevice();\n\t\t});\n\t\tif (this.isMobile) {\n\t\t\treturn;\n\t\t}\n\t\twindow.addEventListener('scroll', (e) => {\n\t\t\tif(window.scrollY > 0 ) {\n\t\t\t\tthis.header.classList.add('_sticky');\n\t\t\t\tthis.header.style.display = document.querySelector('body').classList.contains('ed') ?  'none': '';\n\t\t\t} else {\n\t\t\t\tthis.header.classList.remove('_sticky');\n\t\t\t\tthis.header.style.display = document.querySelector('body').classList.contains('ed') ?  'block': '';\n\t\t\t}\n\t\t})\n\t}\n\n\tcheckDevice(e) {\n\t\tif (!this.isMobile) {\n\t\t\treturn;\n\t\t}\n\t\tconst html = document.querySelector('html');\n\t\tconst orientation = window.orientation & 2;\n\t\tswitch (orientation){\n\t\t\tcase 0:\n\t\t\t\thtml.classList.remove('landscape');\n\t\t\t\thtml.classList.add('portrait');\n\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\thtml.classList.remove('portrait');\n\t\t\t\thtml.classList.add('landscape');\n\t\t\tbreak;\n\t\t}\n\t}\n}\n","export default class ScrollAnchor {\n\n\tconstructor(node, index) {\n\t\tthis.node = node;\n\t\tthis.index = index;\n\t\tthis.setup();\n\t\tthis.addListeners();\n\t}\n\n\tsetup() {\n\t\tthis.anchorId = this.node.getAttribute('data-anchor');\n\t\tthis.offset = this.node.getAttribute('data-anchor-offset');\n\t\tthis.content = document.querySelector('[data-anchor-content=' + this.anchorId + ']')\n\t}\n\n\taddListeners() {\n\t\tthis.node.addEventListener('click', this.onClick.bind(this));\n\t}\n\n\tonClick(e) {\n\t\twindow.scrollTo(0, this.cleanOffset);\n\t\te.preventDefault();\n\t}\n\n\tget cleanOffset() {\n\t\treturn this.content.offsetTop - this.offset;\n\t}\n\n\tstatic init() {\n        ScrollAnchor.items = Array.from(document.querySelectorAll('[data-anchor]')).map((node, index) => new ScrollAnchor(node, index));\n    }\n}","/**\n * SSR Window 4.0.1\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: October 27, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target = {}, src = {}) {\n    Object.keys(src).forEach((key) => {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nconst ssrDocument = {\n    body: {},\n    addEventListener() { },\n    removeEventListener() { },\n    activeElement: {\n        blur() { },\n        nodeName: '',\n    },\n    querySelector() {\n        return null;\n    },\n    querySelectorAll() {\n        return [];\n    },\n    getElementById() {\n        return null;\n    },\n    createEvent() {\n        return {\n            initEvent() { },\n        };\n    },\n    createElement() {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute() { },\n            getElementsByTagName() {\n                return [];\n            },\n        };\n    },\n    createElementNS() {\n        return {};\n    },\n    importNode() {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nconst ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState() { },\n        pushState() { },\n        go() { },\n        back() { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener() { },\n    removeEventListener() { },\n    getComputedStyle() {\n        return {\n            getPropertyValue() {\n                return '';\n            },\n        };\n    },\n    Image() { },\n    Date() { },\n    screen: {},\n    setTimeout() { },\n    clearTimeout() { },\n    matchMedia() {\n        return {};\n    },\n    requestAnimationFrame(callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame(id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n","/**\n * Dom7 4.0.1\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: October 27, 2021\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  const proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get() {\n      return proto;\n    },\n\n    set(value) {\n      proto.__proto__ = value;\n    }\n\n  });\n}\n\nclass Dom7 extends Array {\n  constructor(items) {\n    super(...(items || []));\n    makeReactive(this);\n  }\n\n}\n\nfunction arrayFlat(arr = []) {\n  const res = [];\n  arr.forEach(el => {\n    if (Array.isArray(el)) {\n      res.push(...arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  const uniqueArray = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group) => group.toUpperCase());\n}\n\n// eslint-disable-next-line\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  const a = [];\n  const res = context.querySelectorAll(selector);\n\n  for (let i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  const window = getWindow();\n  const document = getDocument();\n  let arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    const html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      let toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      const tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\n// eslint-disable-next-line\n\nfunction addClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.add(...classNames);\n  });\n  return this;\n}\n\nfunction removeClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.remove(...classNames);\n  });\n  return this;\n}\n\nfunction toggleClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    classNames.forEach(className => {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  return arrayFilter(this, el => {\n    return classNames.filter(className => el.classList.contains(className)).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  let el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    const dataKey = el.getAttribute(`data-${key}`);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      const attr = el.attributes[i];\n\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    const el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      const values = [];\n\n      for (let i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (Array.isArray(value) && el.multiple && el.nodeName.toLowerCase() === 'select') {\n      for (let j = 0; j < el.options.length; j += 1) {\n        el.options[j].selected = value.indexOf(el.options[j].value) >= 0;\n      }\n    } else {\n      el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n  }\n\n  return this;\n}\n\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      const parents = $(target).parents(); // eslint-disable-line\n\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  const events = eventType.split(' ');\n  let j;\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n        el.dom7LiveListeners[event].push({\n          listener,\n          proxyListener: handleLiveEvent\n        });\n        el.addEventListener(event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  const events = eventType.split(' ');\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      let handlers;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (let k = handlers.length - 1; k >= 0; k -= 1) {\n          const handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  function onceHandler(...eventArgs) {\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger(...args) {\n  const window = getWindow();\n  const events = args[0].split(' ');\n  const eventData = args[1];\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n\n      if (window.CustomEvent) {\n        const evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    const window = getWindow();\n    const document = getDocument();\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  const window = getWindow();\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  const window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  const window = getWindow();\n  let i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (const prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach((el, index) => {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  const result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  const window = getWindow();\n  const document = getDocument();\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  let child = this[0];\n  let i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    const returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append(...els) {\n  let newChild;\n  const document = getDocument();\n\n  for (let k = 0; k < els.length; k += 1) {\n    newChild = els[k];\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  const document = getDocument();\n  let i;\n  let j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  const before = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  const after = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n\n    el = next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n\n    el = prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n\n    while (parent) {\n      if (selector) {\n        if ($(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n\n      parent = parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  const foundElements = [];\n\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].children;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add(...els) {\n  const dom = this;\n  let i;\n  let j;\n\n  for (i = 0; i < els.length; i += 1) {\n    const toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\n// eslint-disable-next-line\n\nfunction scrollTo(...args) {\n  const window = getWindow();\n  let [left, top, duration, easing, callback] = args;\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n\n    let scrollLeft; // eslint-disable-line\n\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      let done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\n// eslint-disable-next-line\n\nfunction animate(initialProps, initialParams) {\n  const window = getWindow();\n  const els = this;\n  const a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n\n    stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n\n    done(complete) {\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      const elements = []; // Define & Cache Initials & Units\n\n      a.elements.each((el, index) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(prop => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(element => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(prop => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const {\n              initialValue,\n              finalValue,\n              unit\n            } = el[prop];\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            const currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nconst noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler(...args) {\n    if (typeof args[0] === 'undefined') {\n      for (let i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on(name, ...args);\n  }\n\n  return eventHandler;\n}\n\nconst click = shortcut('click');\nconst blur = shortcut('blur');\nconst focus = shortcut('focus');\nconst focusin = shortcut('focusin');\nconst focusout = shortcut('focusout');\nconst keyup = shortcut('keyup');\nconst keydown = shortcut('keydown');\nconst keypress = shortcut('keypress');\nconst submit = shortcut('submit');\nconst change = shortcut('change');\nconst mousedown = shortcut('mousedown');\nconst mousemove = shortcut('mousemove');\nconst mouseup = shortcut('mouseup');\nconst mouseenter = shortcut('mouseenter');\nconst mouseleave = shortcut('mouseleave');\nconst mouseout = shortcut('mouseout');\nconst mouseover = shortcut('mouseover');\nconst touchstart = shortcut('touchstart');\nconst touchend = shortcut('touchend');\nconst touchmove = shortcut('touchmove');\nconst resize = shortcut('resize');\nconst scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, trigger, val, value, width };\n","import { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, transform, transition, on, off, trigger, transitionEnd, outerWidth, outerHeight, styles, offset, css, each, html, text, is, index, eq, append, prepend, next, nextAll, prev, prevAll, parent, parents, closest, find, children, filter, remove } from 'dom7';\nconst Methods = {\n  addClass,\n  removeClass,\n  hasClass,\n  toggleClass,\n  attr,\n  removeAttr,\n  transform,\n  transition,\n  on,\n  off,\n  trigger,\n  transitionEnd,\n  outerWidth,\n  outerHeight,\n  styles,\n  offset,\n  css,\n  each,\n  html,\n  text,\n  is,\n  index,\n  eq,\n  append,\n  prepend,\n  next,\n  nextAll,\n  prev,\n  prevAll,\n  parent,\n  parents,\n  closest,\n  find,\n  children,\n  filter,\n  remove\n};\nObject.keys(Methods).forEach(methodName => {\n  Object.defineProperty($.fn, methodName, {\n    value: Methods[methodName],\n    writable: true\n  });\n});\nexport default $;","import { getWindow } from 'ssr-window';\n\nfunction deleteProps(obj) {\n  const object = obj;\n  Object.keys(object).forEach(key => {\n    try {\n      object[key] = null;\n    } catch (e) {// no getter for object\n    }\n\n    try {\n      delete object[key];\n    } catch (e) {// something got wrong\n    }\n  });\n}\n\nfunction nextTick(callback, delay = 0) {\n  return setTimeout(callback, delay);\n}\n\nfunction now() {\n  return Date.now();\n}\n\nfunction getComputedStyle(el) {\n  const window = getWindow();\n  let style;\n\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n\n  if (!style) {\n    style = el.style;\n  }\n\n  return style;\n}\n\nfunction getTranslate(el, axis = 'x') {\n  const window = getWindow();\n  let matrix;\n  let curTransform;\n  let transformMatrix;\n  const curStyle = getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n    } // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n\n\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n    else curTransform = parseFloat(matrix[4]);\n  }\n\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n    else curTransform = parseFloat(matrix[5]);\n  }\n\n  return curTransform || 0;\n}\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\n\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\n\nfunction extend(...args) {\n  const to = Object(args[0]);\n  const noExtend = ['__proto__', 'constructor', 'prototype'];\n\n  for (let i = 1; i < args.length; i += 1) {\n    const nextSource = args[i];\n\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\nfunction setCSSProperty(el, varName, varValue) {\n  el.style.setProperty(varName, varValue);\n}\n\nfunction animateCSSModeScroll({\n  swiper,\n  targetPosition,\n  side\n}) {\n  const window = getWindow();\n  const startPosition = -swiper.translate;\n  let startTime = null;\n  let time;\n  const duration = swiper.params.speed;\n  swiper.wrapperEl.style.scrollSnapType = 'none';\n  window.cancelAnimationFrame(swiper.cssModeFrameID);\n  const dir = targetPosition > startPosition ? 'next' : 'prev';\n\n  const isOutOfBound = (current, target) => {\n    return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n  };\n\n  const animate = () => {\n    time = new Date().getTime();\n\n    if (startTime === null) {\n      startTime = time;\n    }\n\n    const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n    const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n    let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      currentPosition = targetPosition;\n    }\n\n    swiper.wrapperEl.scrollTo({\n      [side]: currentPosition\n    });\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.scrollSnapType = '';\n      setTimeout(() => {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.scrollTo({\n          [side]: currentPosition\n        });\n      });\n      window.cancelAnimationFrame(swiper.cssModeFrameID);\n      return;\n    }\n\n    swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n  };\n\n  animate();\n}\n\nexport { animateCSSModeScroll, deleteProps, nextTick, now, getTranslate, isObject, extend, getComputedStyle, setCSSProperty };","import { getWindow, getDocument } from 'ssr-window';\nlet support;\n\nfunction calcSupport() {\n  const window = getWindow();\n  const document = getDocument();\n  return {\n    smoothScroll: document.documentElement && 'scrollBehavior' in document.documentElement.style,\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n    passiveListener: function checkPassiveListener() {\n      let supportsPassive = false;\n\n      try {\n        const opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get() {\n            supportsPassive = true;\n          }\n\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {// No support\n      }\n\n      return supportsPassive;\n    }(),\n    gestures: function checkGestures() {\n      return 'ongesturestart' in window;\n    }()\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n\n  return support;\n}\n\nexport { getSupport };","import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support.js';\nlet deviceCached;\n\nfunction calcDevice({\n  userAgent\n} = {}) {\n  const support = getSupport();\n  const window = getWindow();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n  const device = {\n    ios: false,\n    android: false\n  };\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  const windows = platform === 'Win32';\n  let macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n  const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  } // Android\n\n\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  } // Export object\n\n\n  return device;\n}\n\nfunction getDevice(overrides = {}) {\n  if (!deviceCached) {\n    deviceCached = calcDevice(overrides);\n  }\n\n  return deviceCached;\n}\n\nexport { getDevice };","import { getWindow } from 'ssr-window';\nlet browser;\n\nfunction calcBrowser() {\n  const window = getWindow();\n\n  function isSafari() {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n\n  return {\n    isSafari: isSafari(),\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\n\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n\n  return browser;\n}\n\nexport { getBrowser };","/* eslint-disable no-underscore-dangle */\nexport default {\n  on(events, handler, priority) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n\n  once(events, handler, priority) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler(...args) {\n      self.off(events, onceHandler);\n\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n\n  onAny(handler, priority) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n\n    return self;\n  },\n\n  offAny(handler) {\n    const self = this;\n    if (!self.eventsAnyListeners) return self;\n    const index = self.eventsAnyListeners.indexOf(handler);\n\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n\n    return self;\n  },\n\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n\n  emit(...args) {\n    const self = this;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n\n    data.unshift(context);\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(event => {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(eventHandler => {\n          eventHandler.apply(context, [event, ...data]);\n        });\n      }\n\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n\n};","import updateSize from './updateSize.js';\nimport updateSlides from './updateSlides.js';\nimport updateAutoHeight from './updateAutoHeight.js';\nimport updateSlidesOffset from './updateSlidesOffset.js';\nimport updateSlidesProgress from './updateSlidesProgress.js';\nimport updateProgress from './updateProgress.js';\nimport updateSlidesClasses from './updateSlidesClasses.js';\nimport updateActiveIndex from './updateActiveIndex.js';\nimport updateClickedSlide from './updateClickedSlide.js';\nexport default {\n  updateSize,\n  updateSlides,\n  updateAutoHeight,\n  updateSlidesOffset,\n  updateSlidesProgress,\n  updateProgress,\n  updateSlidesClasses,\n  updateActiveIndex,\n  updateClickedSlide\n};","export default function updateSize() {\n  const swiper = this;\n  let width;\n  let height;\n  const $el = swiper.$el;\n\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  } // Subtract paddings\n\n\n  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  Object.assign(swiper, {\n    width,\n    height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}","import { setCSSProperty } from '../../shared/utils.js';\nexport default function updateSlides() {\n  const swiper = this;\n\n  function getDirectionLabel(property) {\n    if (swiper.isHorizontal()) {\n      return property;\n    } // prettier-ignore\n\n\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n  }\n\n  const params = swiper.params;\n  const {\n    $wrapperEl,\n    size: swiperSize,\n    rtlTranslate: rtl,\n    wrongRTL\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);\n  const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  let snapGrid = [];\n  const slidesGrid = [];\n  const slidesSizesGrid = [];\n  let offsetBefore = params.slidesOffsetBefore;\n\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  let offsetAfter = params.slidesOffsetAfter;\n\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  const previousSnapGridLength = swiper.snapGrid.length;\n  const previousSlidesGridLength = swiper.slidesGrid.length;\n  let spaceBetween = params.spaceBetween;\n  let slidePosition = -offsetBefore;\n  let prevSlideSize = 0;\n  let index = 0;\n\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween; // reset margins\n\n  if (rtl) slides.css({\n    marginLeft: '',\n    marginBottom: '',\n    marginTop: ''\n  });else slides.css({\n    marginRight: '',\n    marginBottom: '',\n    marginTop: ''\n  }); // reset cssMode offsets\n\n  if (params.centeredSlides && params.cssMode) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', '');\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', '');\n  }\n\n  const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n\n  if (gridEnabled) {\n    swiper.grid.initSlides(slidesLength);\n  } // Calc slides\n\n\n  let slideSize;\n  const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n    return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n  }).length > 0;\n\n  for (let i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    const slide = slides.eq(i);\n\n    if (gridEnabled) {\n      swiper.grid.updateSlide(i, slide, slidesLength, getDirectionLabel);\n    }\n\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      if (shouldResetSlideSize) {\n        slides[i].style[getDirectionLabel('width')] = ``;\n      }\n\n      const slideStyles = getComputedStyle(slide[0]);\n      const currentTransform = slide[0].style.transform;\n      const currentWebKitTransform = slide[0].style.webkitTransform;\n\n      if (currentTransform) {\n        slide[0].style.transform = 'none';\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = 'none';\n      }\n\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      } else {\n        // eslint-disable-next-line\n        const width = getDirectionPropertyValue(slideStyles, 'width');\n        const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        const boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          const {\n            clientWidth,\n            offsetWidth\n          } = slide[0];\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n\n      if (currentTransform) {\n        slide[0].style.transform = currentTransform;\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = currentWebKitTransform;\n      }\n\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        slides[i].style[getDirectionLabel('width')] = `${slideSize}px`;\n      }\n    }\n\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n\n    slidesSizesGrid.push(slideSize);\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({\n      width: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (params.setWrapperSize) {\n    $wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (gridEnabled) {\n    swiper.grid.updateWrapperSize(slideSize, snapGrid, getDirectionLabel);\n  } // Remove last grid elements depending on width\n\n\n  if (!params.centeredSlides) {\n    const newSlidesGrid = [];\n\n    for (let i = 0; i < snapGrid.length; i += 1) {\n      let slidesGridItem = snapGrid[i];\n      if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n\n      if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(slidesGridItem);\n      }\n    }\n\n    snapGrid = newSlidesGrid;\n\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    const key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n    slides.filter((_, slideIndex) => {\n      if (!params.cssMode) return true;\n\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n\n      return true;\n    }).css({\n      [key]: `${spaceBetween}px`\n    });\n  }\n\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n    const maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(snap => {\n      if (snap < 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n\n  if (params.centerInsufficientSlides) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n\n    if (allSlidesSize < swiperSize) {\n      const allSlidesOffset = (swiperSize - allSlidesSize) / 2;\n      snapGrid.forEach((snap, snapIndex) => {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach((snap, snapIndex) => {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n\n  Object.assign(swiper, {\n    slides,\n    snapGrid,\n    slidesGrid,\n    slidesSizesGrid\n  });\n\n  if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n    const addToSnapGrid = -swiper.snapGrid[0];\n    const addToSlidesGrid = -swiper.slidesGrid[0];\n    swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n    swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n  }\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n}","export default function updateAutoHeight(speed) {\n  const swiper = this;\n  const activeSlides = [];\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  let newHeight = 0;\n  let i;\n\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n\n  const getSlideByIndex = index => {\n    if (isVirtual) {\n      return swiper.slides.filter(el => parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index)[0];\n    }\n\n    return swiper.slides.eq(index)[0];\n  }; // Find slides currently in view\n\n\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      swiper.visibleSlides.each(slide => {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        const index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  } // Find new height from highest slide in view\n\n\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      const height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  } // Update Height\n\n\n  if (newHeight) swiper.$wrapperEl.css('height', `${newHeight}px`);\n}","export default function updateSlidesOffset() {\n  const swiper = this;\n  const slides = swiper.slides;\n\n  for (let i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateSlidesProgress(translate = this && this.translate || 0) {\n  const swiper = this;\n  const params = swiper.params;\n  const {\n    slides,\n    rtlTranslate: rtl,\n    snapGrid\n  } = swiper;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  let offsetCenter = -translate;\n  if (rtl) offsetCenter = translate; // Visible Slides\n\n  slides.removeClass(params.slideVisibleClass);\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n\n  for (let i = 0; i < slides.length; i += 1) {\n    const slide = slides[i];\n    let slideOffset = slide.swiperSlideOffset;\n\n    if (params.cssMode && params.centeredSlides) {\n      slideOffset -= slides[0].swiperSlideOffset;\n    }\n\n    const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const slideBefore = -(offsetCenter - slideOffset);\n    const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n    const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n    if (isVisible) {\n      swiper.visibleSlides.push(slide);\n      swiper.visibleSlidesIndexes.push(i);\n      slides.eq(i).addClass(params.slideVisibleClass);\n    }\n\n    slide.progress = rtl ? -slideProgress : slideProgress;\n    slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n  }\n\n  swiper.visibleSlides = $(swiper.visibleSlides);\n}","export default function updateProgress(translate) {\n  const swiper = this;\n\n  if (typeof translate === 'undefined') {\n    const multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n\n  const params = swiper.params;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  let {\n    progress,\n    isBeginning,\n    isEnd\n  } = swiper;\n  const wasBeginning = isBeginning;\n  const wasEnd = isEnd;\n\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n\n  Object.assign(swiper, {\n    progress,\n    isBeginning,\n    isEnd\n  });\n  if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n}","export default function updateSlidesClasses() {\n  const swiper = this;\n  const {\n    slides,\n    params,\n    $wrapperEl,\n    activeIndex,\n    realIndex\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);\n  let activeSlide;\n\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index=\"${activeIndex}\"]`);\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  } // Active classes\n\n\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    }\n  } // Next Slide\n\n\n  let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);\n\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  } // Prev Slide\n\n\n  let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);\n\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    }\n\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    }\n  }\n\n  swiper.emitSlidesClasses();\n}","export default function updateActiveIndex(newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  const {\n    slidesGrid,\n    snapGrid,\n    params,\n    activeIndex: previousIndex,\n    realIndex: previousRealIndex,\n    snapIndex: previousSnapIndex\n  } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n\n  if (typeof activeIndex === 'undefined') {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    } // Normalize slideIndex\n\n\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n\n    return;\n  } // Get real index\n\n\n  const realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n  Object.assign(swiper, {\n    snapIndex,\n    realIndex,\n    previousIndex,\n    activeIndex\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateClickedSlide(e) {\n  const swiper = this;\n  const params = swiper.params;\n  const slide = $(e.target).closest(`.${params.slideClass}`)[0];\n  let slideFound = false;\n  let slideIndex;\n\n  if (slide) {\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}","import getTranslate from './getTranslate.js';\nimport setTranslate from './setTranslate.js';\nimport minTranslate from './minTranslate.js';\nimport maxTranslate from './maxTranslate.js';\nimport translateTo from './translateTo.js';\nexport default {\n  getTranslate,\n  setTranslate,\n  minTranslate,\n  maxTranslate,\n  translateTo\n};","import { getTranslate } from '../../shared/utils.js';\nexport default function getSwiperTranslate(axis = this.isHorizontal() ? 'x' : 'y') {\n  const swiper = this;\n  const {\n    params,\n    rtlTranslate: rtl,\n    translate,\n    $wrapperEl\n  } = swiper;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  if (params.cssMode) {\n    return translate;\n  }\n\n  let currentTranslate = getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}","export default function setTranslate(translate, byController) {\n  const swiper = this;\n  const {\n    rtlTranslate: rtl,\n    params,\n    $wrapperEl,\n    wrapperEl,\n    progress\n  } = swiper;\n  let x = 0;\n  let y = 0;\n  const z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);\n  }\n\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n}","export default function minTranslate() {\n  return -this.snapGrid[0];\n}","export default function maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function translateTo(translate = 0, speed = this.params.speed, runCallbacks = true, translateBounds = true, internal) {\n  const swiper = this;\n  const {\n    params,\n    wrapperEl\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  const minTranslate = swiper.minTranslate();\n  const maxTranslate = swiper.maxTranslate();\n  let newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n  swiper.updateProgress(newTranslate);\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: -newTranslate,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: -newTranslate,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","export default function transitionEmit({\n  swiper,\n  runCallbacks,\n  direction,\n  step\n}) {\n  const {\n    activeIndex,\n    previousIndex\n  } = swiper;\n  let dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit(`transition${step}`);\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit(`slideResetTransition${step}`);\n      return;\n    }\n\n    swiper.emit(`slideChangeTransition${step}`);\n\n    if (dir === 'next') {\n      swiper.emit(`slideNextTransition${step}`);\n    } else {\n      swiper.emit(`slidePrevTransition${step}`);\n    }\n  }\n}","import slideTo from './slideTo.js';\nimport slideToLoop from './slideToLoop.js';\nimport slideNext from './slideNext.js';\nimport slidePrev from './slidePrev.js';\nimport slideReset from './slideReset.js';\nimport slideToClosest from './slideToClosest.js';\nimport slideToClickedSlide from './slideToClickedSlide.js';\nexport default {\n  slideTo,\n  slideToLoop,\n  slideNext,\n  slidePrev,\n  slideReset,\n  slideToClosest,\n  slideToClickedSlide\n};","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function slideTo(index = 0, speed = this.params.speed, runCallbacks = true, internal, initial) {\n  if (typeof index !== 'number' && typeof index !== 'string') {\n    throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof index}] given.`);\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    previousIndex,\n    activeIndex,\n    rtlTranslate: rtl,\n    wrapperEl,\n    enabled\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n    return false;\n  }\n\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  }\n\n  const translate = -snapGrid[snapIndex]; // Update progress\n\n  swiper.updateProgress(translate); // Normalize slideIndex\n\n  if (params.normalizeSlideIndex) {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      const normalizedTranslate = -Math.floor(translate * 100);\n      const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n      const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGrid) {\n        slideIndex = i;\n      }\n    }\n  } // Directions locks\n\n\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  let direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex); // Update Height\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    swiper.updateSlidesClasses();\n\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n\n    return false;\n  }\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    const t = rtl ? translate : -translate;\n\n    if (speed === 0) {\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n      if (isVirtual) {\n        swiper.wrapperEl.style.scrollSnapType = 'none';\n        swiper._immediateVirtual = true;\n      }\n\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n\n      if (isVirtual) {\n        requestAnimationFrame(() => {\n          swiper.wrapperEl.style.scrollSnapType = '';\n          swiper._swiperImmediateVirtual = false;\n        });\n      }\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: t,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: t,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(translate);\n    swiper.updateActiveIndex(slideIndex);\n    swiper.updateSlidesClasses();\n    swiper.emit('beforeTransitionStart', speed, internal);\n    swiper.transitionStart(runCallbacks, direction);\n    swiper.transitionEnd(runCallbacks, direction);\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(translate);\n    swiper.updateActiveIndex(slideIndex);\n    swiper.updateSlidesClasses();\n    swiper.emit('beforeTransitionStart', speed, internal);\n    swiper.transitionStart(runCallbacks, direction);\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onSlideToWrapperTransitionEnd) {\n        swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n          swiper.onSlideToWrapperTransitionEnd = null;\n          delete swiper.onSlideToWrapperTransitionEnd;\n          swiper.transitionEnd(runCallbacks, direction);\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","export default function slideToLoop(index = 0, speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  let newIndex = index;\n\n  if (swiper.params.loop) {\n    newIndex += swiper.loopedSlides;\n  }\n\n  return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideNext(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const {\n    animating,\n    enabled,\n    params\n  } = swiper;\n  if (!enabled) return swiper;\n  let perGroup = params.slidesPerGroup;\n\n  if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n    perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n  }\n\n  const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slidePrev(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const {\n    params,\n    animating,\n    snapGrid,\n    slidesGrid,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return swiper;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n\n  const normalizedTranslate = normalize(translate);\n  const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n  let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    let prevSnapIndex;\n    snapGrid.forEach((snap, snapIndex) => {\n      if (normalizedTranslate >= snap) {\n        // prevSnap = snap;\n        prevSnapIndex = snapIndex;\n      }\n    });\n\n    if (typeof prevSnapIndex !== 'undefined') {\n      prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n    }\n  }\n\n  let prevIndex = 0;\n\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n      prevIndex = Math.max(prevIndex, 0);\n    }\n  }\n\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideReset(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideToClosest(speed = this.params.speed, runCallbacks = true, internal, threshold = 0.5) {\n  const swiper = this;\n  let index = swiper.activeIndex;\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    const currentSnap = swiper.snapGrid[snapIndex];\n    const nextSnap = swiper.snapGrid[snapIndex + 1];\n\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    const prevSnap = swiper.snapGrid[snapIndex - 1];\n    const currentSnap = swiper.snapGrid[snapIndex];\n\n    if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}","import $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nexport default function slideToClickedSlide() {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl\n  } = swiper;\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  let slideToIndex = swiper.clickedIndex;\n  let realIndex;\n\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n        nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n      nextTick(() => {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}","import loopCreate from './loopCreate.js';\nimport loopFix from './loopFix.js';\nimport loopDestroy from './loopDestroy.js';\nexport default {\n  loopCreate,\n  loopFix,\n  loopDestroy\n};","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loopCreate() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    $wrapperEl\n  } = swiper; // Remove duplicated slides\n\n  const $selector = $wrapperEl.children().length > 0 ? $($wrapperEl.children()[0].parentNode) : $wrapperEl;\n  $selector.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n  let slides = $selector.children(`.${params.slideClass}`);\n\n  if (params.loopFillGroupWithBlank) {\n    const blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (let i = 0; i < blankSlidesNum; i += 1) {\n        const blankNode = $(document.createElement('div')).addClass(`${params.slideClass} ${params.slideBlankClass}`);\n        $selector.append(blankNode);\n      }\n\n      slides = $selector.children(`.${params.slideClass}`);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n  swiper.loopedSlides += params.loopAdditionalSlides;\n\n  if (swiper.loopedSlides > slides.length) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  const prependSlides = [];\n  const appendSlides = [];\n  slides.each((el, index) => {\n    const slide = $(el);\n\n    if (index < swiper.loopedSlides) {\n      appendSlides.push(el);\n    }\n\n    if (index < slides.length && index >= slides.length - swiper.loopedSlides) {\n      prependSlides.push(el);\n    }\n\n    slide.attr('data-swiper-slide-index', index);\n  });\n\n  for (let i = 0; i < appendSlides.length; i += 1) {\n    $selector.append($(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n\n  for (let i = prependSlides.length - 1; i >= 0; i -= 1) {\n    $selector.prepend($(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n}","export default function loopFix() {\n  const swiper = this;\n  swiper.emit('beforeLoopFix');\n  const {\n    activeIndex,\n    slides,\n    loopedSlides,\n    allowSlidePrev,\n    allowSlideNext,\n    snapGrid,\n    rtlTranslate: rtl\n  } = swiper;\n  let newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  const snapTranslate = -snapGrid[activeIndex];\n  const diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n  if (activeIndex < loopedSlides) {\n    newIndex = slides.length - loopedSlides * 3 + activeIndex;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  } else if (activeIndex >= slides.length - loopedSlides) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  }\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  swiper.emit('loopFix');\n}","export default function loopDestroy() {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    slides\n  } = swiper;\n  $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass},.${params.slideClass}.${params.slideBlankClass}`).remove();\n  slides.removeAttr('data-swiper-slide-index');\n}","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js'; // Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\n\nfunction closestElement(selector, base = this) {\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    const found = el.closest(selector);\n    return found || __closestFrom(el.getRootNode().host);\n  }\n\n  return __closestFrom(base);\n}\n\nexport default function onTouchStart(event) {\n  const swiper = this;\n  const document = getDocument();\n  const window = getWindow();\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n\n  if (!swiper.animating && params.cssMode && params.loop) {\n    swiper.loopFix();\n  }\n\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  let $targetEl = $(e.target);\n\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!$targetEl.closest(swiper.wrapperEl).length) return;\n  }\n\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n  const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';\n\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && event.path && event.path[0]) {\n    $targetEl = $(event.path[0]);\n  }\n\n  const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n  const isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, e.target) : $targetEl.closest(noSwipingSelector)[0])) {\n    swiper.allowClick = true;\n    return;\n  }\n\n  if (params.swipeHandler) {\n    if (!$targetEl.closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  const startX = touches.currentX;\n  const startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  const edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n  const edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n    } else {\n      return;\n    }\n  }\n\n  Object.assign(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n\n  if (e.type !== 'touchstart') {\n    let preventDefault = true;\n    if ($targetEl.is(data.focusableElements)) preventDefault = false;\n\n    if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n      document.activeElement.blur();\n    }\n\n    const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n      e.preventDefault();\n    }\n  }\n\n  swiper.emit('touchStart', e);\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js';\nexport default function onTouchMove(event) {\n  const document = getDocument();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  const targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  const pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  const pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    // isMoved = true;\n    swiper.allowClick = false;\n\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop && !params.cssMode) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}","import { now, nextTick } from '../../shared/utils.js';\nexport default function onTouchEnd(event) {\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    slidesGrid,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n\n  data.allowTouchCallbacks = false;\n\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  } // Return Grab Cursor\n\n\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  } // Time diff\n\n\n  const touchEndTime = now();\n  const timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n  if (swiper.allowClick) {\n    swiper.updateClickedSlide(e);\n    swiper.emit('tap click', e);\n\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n\n  data.lastClickTime = now();\n  nextTick(() => {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  let currentPos;\n\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n\n  if (params.cssMode) {\n    return;\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled) {\n    swiper.freeMode.onTouchEnd({\n      currentPos\n    });\n    return;\n  } // Find current slide\n\n\n  let stopIndex = 0;\n  let groupSize = swiper.slidesSizesGrid[0];\n\n  for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (typeof slidesGrid[i + increment] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + increment] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  } // Find current slide size\n\n\n  const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(stopIndex + increment);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}","export default function onResize() {\n  const swiper = this;\n  const {\n    params,\n    el\n  } = swiper;\n  if (el && el.offsetWidth === 0) return; // Breakpoints\n\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  } // Save locks\n\n\n  const {\n    allowSlideNext,\n    allowSlidePrev,\n    snapGrid\n  } = swiper; // Disable locks on resize\n\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    swiper.slideTo(swiper.activeIndex, 0, false, true);\n  }\n\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    swiper.autoplay.run();\n  } // Return locks after resize\n\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}","export default function onClick(e) {\n  const swiper = this;\n  if (!swiper.enabled) return;\n\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}","export default function onScroll() {\n  const swiper = this;\n  const {\n    wrapperEl,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n\n  if (swiper.isHorizontal()) {\n    swiper.translate = -wrapperEl.scrollLeft;\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  } // eslint-disable-next-line\n\n\n  if (swiper.translate === -0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, false);\n}","import { getDocument } from 'ssr-window';\nimport onTouchStart from './onTouchStart.js';\nimport onTouchMove from './onTouchMove.js';\nimport onTouchEnd from './onTouchEnd.js';\nimport onResize from './onResize.js';\nimport onClick from './onClick.js';\nimport onScroll from './onScroll.js';\nlet dummyEventAttached = false;\n\nfunction dummyEventListener() {}\n\nconst events = (swiper, method) => {\n  const document = getDocument();\n  const {\n    params,\n    touchEvents,\n    el,\n    wrapperEl,\n    device,\n    support\n  } = swiper;\n  const capture = !!params.nested;\n  const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n  const swiperMethod = method; // Touch Events\n\n  if (!support.touch) {\n    el[domMethod](touchEvents.start, swiper.onTouchStart, false);\n    document[domMethod](touchEvents.move, swiper.onTouchMove, capture);\n    document[domMethod](touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    const passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    el[domMethod](touchEvents.start, swiper.onTouchStart, passiveListener);\n    el[domMethod](touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n      passive: false,\n      capture\n    } : capture);\n    el[domMethod](touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n    if (touchEvents.cancel) {\n      el[domMethod](touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el[domMethod]('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[domMethod]('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  if (params.updateOnWindowResize) {\n    swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper[swiperMethod]('observerUpdate', onResize, true);\n  }\n};\n\nfunction attachEvents() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    support\n  } = swiper;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n\n  if (support.touch && !dummyEventAttached) {\n    document.addEventListener('touchstart', dummyEventListener);\n    dummyEventAttached = true;\n  }\n\n  events(swiper, 'on');\n}\n\nfunction detachEvents() {\n  const swiper = this;\n  events(swiper, 'off');\n}\n\nexport default {\n  attachEvents,\n  detachEvents\n};","import { extend } from '../../shared/utils.js';\n\nconst isGridEnabled = (swiper, params) => {\n  return swiper.grid && params.grid && params.grid.rows > 1;\n};\n\nexport default function setBreakpoint() {\n  const swiper = this;\n  const {\n    activeIndex,\n    initialized,\n    loopedSlides = 0,\n    params,\n    $el\n  } = swiper;\n  const breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n  const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n  const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  const wasMultiRow = isGridEnabled(swiper, params);\n  const isMultiRow = isGridEnabled(swiper, breakpointParams);\n  const wasEnabled = params.enabled;\n\n  if (wasMultiRow && !isMultiRow) {\n    $el.removeClass(`${params.containerModifierClass}grid ${params.containerModifierClass}grid-column`);\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    $el.addClass(`${params.containerModifierClass}grid`);\n\n    if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n      $el.addClass(`${params.containerModifierClass}grid-column`);\n    }\n\n    swiper.emitContainerClasses();\n  }\n\n  const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n\n  extend(swiper.params, breakpointParams);\n  const isEnabled = swiper.params.enabled;\n  Object.assign(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n\n  if (needsReLoop && initialized) {\n    swiper.loopDestroy();\n    swiper.loopCreate();\n    swiper.updateSlides();\n    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n  }\n\n  swiper.emit('breakpoint', breakpointParams);\n}","import addClasses from './addClasses.js';\nimport removeClasses from './removeClasses.js';\nexport default {\n  addClasses,\n  removeClasses\n};","function prepareClasses(entries, prefix) {\n  const resultClasses = [];\n  entries.forEach(item => {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(classNames => {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\n\nexport default function addClasses() {\n  const swiper = this;\n  const {\n    classNames,\n    params,\n    rtl,\n    $el,\n    device,\n    support\n  } = swiper; // prettier-ignore\n\n  const suffixes = prepareClasses(['initialized', params.direction, {\n    'pointer-events': !support.touch\n  }, {\n    'free-mode': swiper.params.freeMode && params.freeMode.enabled\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'grid': params.grid && params.grid.rows > 1\n  }, {\n    'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }, {\n    'centered': params.cssMode && params.centeredSlides\n  }], params.containerModifierClass);\n  classNames.push(...suffixes);\n  $el.addClass([...classNames].join(' '));\n  swiper.emitContainerClasses();\n}","export default function removeClasses() {\n  const swiper = this;\n  const {\n    $el,\n    classNames\n  } = swiper;\n  $el.removeClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}","function checkOverflow() {\n  const swiper = this;\n  const {\n    isLocked: wasLocked,\n    params\n  } = swiper;\n  const {\n    slidesOffsetBefore\n  } = params;\n\n  if (slidesOffsetBefore) {\n    const lastSlideIndex = swiper.slides.length - 1;\n    const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n    swiper.isLocked = swiper.size > lastSlideRightEdge;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n\n  if (params.allowSlideNext === true) {\n    swiper.allowSlideNext = !swiper.isLocked;\n  }\n\n  if (params.allowSlidePrev === true) {\n    swiper.allowSlidePrev = !swiper.isLocked;\n  }\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n  }\n\n  if (wasLocked !== swiper.isLocked) {\n    swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n  }\n}\n\nexport default {\n  checkOverflow\n};","export default {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'wrapper',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: true,\n  nested: false,\n  createElements: false,\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  slidesPerGroupAuto: false,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: true,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopFillGroupWithBlank: false,\n  loopPreventsSlide: true,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  // NS\n  containerModifierClass: 'swiper-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};","import { extend } from '../shared/utils.js';\nexport default function moduleExtendParams(params, allModulesParams) {\n  return function extendParams(obj = {}) {\n    const moduleParamName = Object.keys(obj)[0];\n    const moduleParams = obj[moduleParamName];\n\n    if (typeof moduleParams !== 'object' || moduleParams === null) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        auto: true\n      };\n    }\n\n    if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        enabled: true\n      };\n    }\n\n    if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n      params[moduleParamName].enabled = true;\n    }\n\n    if (!params[moduleParamName]) params[moduleParamName] = {\n      enabled: false\n    };\n    extend(allModulesParams, obj);\n  };\n}","/* eslint no-param-reassign: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport $ from '../shared/dom.js';\nimport { extend, now, deleteProps } from '../shared/utils.js';\nimport { getSupport } from '../shared/get-support.js';\nimport { getDevice } from '../shared/get-device.js';\nimport { getBrowser } from '../shared/get-browser.js';\nimport Resize from './modules/resize/resize.js';\nimport Observer from './modules/observer/observer.js';\nimport eventsEmitter from './events-emitter.js';\nimport update from './update/index.js';\nimport translate from './translate/index.js';\nimport transition from './transition/index.js';\nimport slide from './slide/index.js';\nimport loop from './loop/index.js';\nimport grabCursor from './grab-cursor/index.js';\nimport events from './events/index.js';\nimport breakpoints from './breakpoints/index.js';\nimport classes from './classes/index.js';\nimport images from './images/index.js';\nimport checkOverflow from './check-overflow/index.js';\nimport defaults from './defaults.js';\nimport moduleExtendParams from './moduleExtendParams.js';\nconst prototypes = {\n  eventsEmitter,\n  update,\n  translate,\n  transition,\n  slide,\n  loop,\n  grabCursor,\n  events,\n  breakpoints,\n  checkOverflow,\n  classes,\n  images\n};\nconst extendedDefaults = {};\n\nclass Swiper {\n  constructor(...args) {\n    let el;\n    let params;\n\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      [el, params] = args;\n    }\n\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n\n    if (params.el && $(params.el).length > 1) {\n      const swipers = [];\n      $(params.el).each(containerEl => {\n        const newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      });\n      return swipers;\n    } // Swiper Instance\n\n\n    const swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n    swiper.modules = [...swiper.__modules__];\n\n    if (params.modules && Array.isArray(params.modules)) {\n      swiper.modules.push(...params.modules);\n    }\n\n    const allModulesParams = {};\n    swiper.modules.forEach(mod => {\n      mod({\n        swiper,\n        extendParams: moduleExtendParams(params, allModulesParams),\n        on: swiper.on.bind(swiper),\n        once: swiper.once.bind(swiper),\n        off: swiper.off.bind(swiper),\n        emit: swiper.emit.bind(swiper)\n      });\n    }); // Extend defaults with modules params\n\n    const swiperParams = extend({}, defaults, allModulesParams); // Extend defaults with passed params\n\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params); // add event listeners\n\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(eventName => {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    } // Save Dom lib\n\n\n    swiper.$ = $; // Extend Swiper\n\n    Object.assign(swiper, {\n      enabled: swiper.params.enabled,\n      el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n\n      // isDirection\n      isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n\n      isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEvents: function touchEvents() {\n        const touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n        const desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        swiper.touchEventsTouch = {\n          start: touch[0],\n          move: touch[1],\n          end: touch[2],\n          cancel: touch[3]\n        };\n        swiper.touchEventsDesktop = {\n          start: desktop[0],\n          move: desktop[1],\n          end: desktop[2]\n        };\n        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n      }(),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    });\n    swiper.emit('_swiper'); // Init\n\n    if (swiper.params.init) {\n      swiper.init();\n    } // Return app instance\n\n\n    return swiper;\n  }\n\n  enable() {\n    const swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    swiper.emit('enable');\n  }\n\n  disable() {\n    const swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n\n    swiper.emit('disable');\n  }\n\n  setProgress(progress, speed) {\n    const swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    const min = swiper.minTranslate();\n    const max = swiper.maxTranslate();\n    const current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  emitContainerClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const cls = swiper.el.className.split(' ').filter(className => {\n      return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', cls.join(' '));\n  }\n\n  getSlideClasses(slideEl) {\n    const swiper = this;\n    return slideEl.className.split(' ').filter(className => {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  }\n\n  emitSlidesClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const updates = [];\n    swiper.slides.each(slideEl => {\n      const classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl,\n        classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  }\n\n  slidesPerViewDynamic(view = 'current', exact = false) {\n    const swiper = this;\n    const {\n      params,\n      slides,\n      slidesGrid,\n      slidesSizesGrid,\n      size: swiperSize,\n      activeIndex\n    } = swiper;\n    let spv = 1;\n\n    if (params.centeredSlides) {\n      let slideSize = slides[activeIndex].swiperSlideSize;\n      let breakLoop;\n\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n\n      for (let i = activeIndex - 1; i >= 0; i -= 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      // eslint-disable-next-line\n      if (view === 'current') {\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      } else {\n        // previous\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      }\n    }\n\n    return spv;\n  }\n\n  update() {\n    const swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    const {\n      snapGrid,\n      params\n    } = swiper; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    let translated;\n\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled) {\n      setTranslate();\n\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n\n      if (!translated) {\n        setTranslate();\n      }\n    }\n\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n\n    swiper.emit('update');\n  }\n\n  changeDirection(newDirection, needUpdate = true) {\n    const swiper = this;\n    const currentDirection = swiper.params.direction;\n\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n\n    swiper.$el.removeClass(`${swiper.params.containerModifierClass}${currentDirection}`).addClass(`${swiper.params.containerModifierClass}${newDirection}`);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.each(slideEl => {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  }\n\n  mount(el) {\n    const swiper = this;\n    if (swiper.mounted) return true; // Find el\n\n    const $el = $(el || swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return false;\n    }\n\n    el.swiper = swiper;\n\n    const getWrapperSelector = () => {\n      return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n    };\n\n    const getWrapper = () => {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        const res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n        res.children = options => $el.children(options);\n\n        return res;\n      }\n\n      return $el.children(getWrapperSelector());\n    }; // Find Wrapper\n\n\n    let $wrapperEl = getWrapper();\n\n    if ($wrapperEl.length === 0 && swiper.params.createElements) {\n      const document = getDocument();\n      const wrapper = document.createElement('div');\n      $wrapperEl = $(wrapper);\n      wrapper.className = swiper.params.wrapperClass;\n      $el.append(wrapper);\n      $el.children(`.${swiper.params.slideClass}`).each(slideEl => {\n        $wrapperEl.append(slideEl);\n      });\n    }\n\n    Object.assign(swiper, {\n      $el,\n      el,\n      $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n    });\n    return true;\n  }\n\n  init(el) {\n    const swiper = this;\n    if (swiper.initialized) return swiper;\n    const mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit'); // Set breakpoint\n\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Add Classes\n\n\n    swiper.addClasses(); // Create loop\n\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    } // Update size\n\n\n    swiper.updateSize(); // Update slides\n\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    } // Set Grab Cursor\n\n\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    } // Slide To Initial Slide\n\n\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    } // Attach events\n\n\n    swiper.attachEvents(); // Init Flag\n\n    swiper.initialized = true; // Emit\n\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  }\n\n  destroy(deleteInstance = true, cleanStyles = true) {\n    const swiper = this;\n    const {\n      params,\n      $el,\n      $wrapperEl,\n      slides\n    } = swiper;\n\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n\n    swiper.emit('beforeDestroy'); // Init Flag\n\n    swiper.initialized = false; // Detach events\n\n    swiper.detachEvents(); // Destroy loop\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    } // Cleanup styles\n\n\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n\n      if (slides && slides.length) {\n        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n      }\n    }\n\n    swiper.emit('destroy'); // Detach emitter events\n\n    Object.keys(swiper.eventsListeners).forEach(eventName => {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      deleteProps(swiper);\n    }\n\n    swiper.destroyed = true;\n    return null;\n  }\n\n  static extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  }\n\n  static get extendedDefaults() {\n    return extendedDefaults;\n  }\n\n  static get defaults() {\n    return defaults;\n  }\n\n  static installModule(mod) {\n    if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n    const modules = Swiper.prototype.__modules__;\n\n    if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n      modules.push(mod);\n    }\n  }\n\n  static use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(m => Swiper.installModule(m));\n      return Swiper;\n    }\n\n    Swiper.installModule(module);\n    return Swiper;\n  }\n\n}\n\nObject.keys(prototypes).forEach(prototypeGroup => {\n  Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\nexport default Swiper;","import setTransition from './setTransition.js';\nimport transitionStart from './transitionStart.js';\nimport transitionEnd from './transitionEnd.js';\nexport default {\n  setTransition,\n  transitionStart,\n  transitionEnd\n};","export default function setTransition(duration, byController) {\n  const swiper = this;\n\n  if (!swiper.params.cssMode) {\n    swiper.$wrapperEl.transition(duration);\n  }\n\n  swiper.emit('setTransition', duration, byController);\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionStart(runCallbacks = true, direction) {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  if (params.cssMode) return;\n\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'Start'\n  });\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionEnd(runCallbacks = true, direction) {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'End'\n  });\n}","import setGrabCursor from './setGrabCursor.js';\nimport unsetGrabCursor from './unsetGrabCursor.js';\nexport default {\n  setGrabCursor,\n  unsetGrabCursor\n};","export default function setGrabCursor(moving) {\n  const swiper = this;\n  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? '-webkit-grabbing' : '-webkit-grab';\n  el.style.cursor = moving ? '-moz-grabbin' : '-moz-grab';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n}","export default function unsetGrabCursor() {\n  const swiper = this;\n\n  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n\n  swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n}","import setBreakpoint from './setBreakpoint.js';\nimport getBreakpoint from './getBreakpoint.js';\nexport default {\n  setBreakpoint,\n  getBreakpoint\n};","import { getWindow } from 'ssr-window';\nexport default function getBreakpoint(breakpoints, base = 'window', containerEl) {\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  let breakpoint = false;\n  const window = getWindow();\n  const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  const points = Object.keys(breakpoints).map(point => {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      const minRatio = parseFloat(point.substr(1));\n      const value = currentHeight * minRatio;\n      return {\n        value,\n        point\n      };\n    }\n\n    return {\n      value: point,\n      point\n    };\n  });\n  points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n\n  for (let i = 0; i < points.length; i += 1) {\n    const {\n      point,\n      value\n    } = points[i];\n\n    if (base === 'window') {\n      if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n\n  return breakpoint || 'max';\n}","import loadImage from './loadImage.js';\nimport preloadImages from './preloadImages.js';\nexport default {\n  loadImage,\n  preloadImages\n};","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  const window = getWindow();\n  let image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  const isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}","export default function preloadImages() {\n  const swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n\n  for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    const imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n  }\n}","import { getDocument } from 'ssr-window';\nexport default function createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n  const document = getDocument();\n\n  if (swiper.params.createElements) {\n    Object.keys(checkProps).forEach(key => {\n      if (!params[key] && params.auto === true) {\n        let element = swiper.$el.children(`.${checkProps[key]}`)[0];\n\n        if (!element) {\n          element = document.createElement('div');\n          element.className = checkProps[key];\n          swiper.$el.append(element);\n        }\n\n        params[key] = element;\n        originalParams[key] = element;\n      }\n    });\n  }\n\n  return params;\n}","import createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nimport $ from '../../shared/dom.js';\nexport default function Navigation({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock'\n    }\n  });\n  swiper.navigation = {\n    nextEl: null,\n    $nextEl: null,\n    prevEl: null,\n    $prevEl: null\n  };\n\n  function getEl(el) {\n    let $el;\n\n    if (el) {\n      $el = $(el);\n\n      if (swiper.params.uniqueNavElements && typeof el === 'string' && $el.length > 1 && swiper.$el.find(el).length === 1) {\n        $el = swiper.$el.find(el);\n      }\n    }\n\n    return $el;\n  }\n\n  function toggleEl($el, disabled) {\n    const params = swiper.params.navigation;\n\n    if ($el && $el.length > 0) {\n      $el[disabled ? 'addClass' : 'removeClass'](params.disabledClass);\n      if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n  }\n\n  function update() {\n    // Update Navigation Buttons\n    if (swiper.params.loop) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    toggleEl($prevEl, swiper.isBeginning);\n    toggleEl($nextEl, swiper.isEnd);\n  }\n\n  function onPrevClick(e) {\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop) return;\n    swiper.slidePrev();\n  }\n\n  function onNextClick(e) {\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop) return;\n    swiper.slideNext();\n  }\n\n  function init() {\n    const params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper, swiper.originalParams.navigation, swiper.params.navigation, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    const $nextEl = getEl(params.nextEl);\n    const $prevEl = getEl(params.prevEl);\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', onPrevClick);\n    }\n\n    Object.assign(swiper.navigation, {\n      $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n\n    if (!swiper.enabled) {\n      if ($nextEl) $nextEl.addClass(params.lockClass);\n      if ($prevEl) $prevEl.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n\n  on('init', () => {\n    init();\n    update();\n  });\n  on('toEdge fromEdge lock unlock', () => {\n    update();\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl) {\n      $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n\n    if ($prevEl) {\n      $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n  });\n  on('click', (_s, e) => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    const targetEl = e.target;\n\n    if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n      if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n      let isHidden;\n\n      if ($nextEl) {\n        isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n      } else if ($prevEl) {\n        isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if (isHidden === true) {\n        emit('navigationShow');\n      } else {\n        emit('navigationHide');\n      }\n\n      if ($nextEl) {\n        $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if ($prevEl) {\n        $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n    }\n  });\n  Object.assign(swiper.navigation, {\n    update,\n    init,\n    destroy\n  });\n}","export default function classesToSelector(classes = '') {\n  return `.${classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n  .replace(/ /g, '.')}`;\n}","import $ from '../../shared/dom.js';\nimport classesToSelector from '../../shared/classes-to-selector.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Pagination({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const pfx = 'swiper-pagination';\n  extendParams({\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      progressbarOpposite: false,\n      type: 'bullets',\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n      dynamicMainBullets: 1,\n      formatFractionCurrent: number => number,\n      formatFractionTotal: number => number,\n      bulletClass: `${pfx}-bullet`,\n      bulletActiveClass: `${pfx}-bullet-active`,\n      modifierClass: `${pfx}-`,\n      currentClass: `${pfx}-current`,\n      totalClass: `${pfx}-total`,\n      hiddenClass: `${pfx}-hidden`,\n      progressbarFillClass: `${pfx}-progressbar-fill`,\n      progressbarOppositeClass: `${pfx}-progressbar-opposite`,\n      clickableClass: `${pfx}-clickable`,\n      lockClass: `${pfx}-lock`,\n      horizontalClass: `${pfx}-horizontal`,\n      verticalClass: `${pfx}-vertical`\n    }\n  });\n  swiper.pagination = {\n    el: null,\n    $el: null,\n    bullets: []\n  };\n  let bulletSize;\n  let dynamicBulletIndex = 0;\n\n  function isPaginationDisabled() {\n    return !swiper.params.pagination.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0;\n  }\n\n  function setSideBullets($bulletEl, position) {\n    const {\n      bulletActiveClass\n    } = swiper.params.pagination;\n    $bulletEl[position]().addClass(`${bulletActiveClass}-${position}`)[position]().addClass(`${bulletActiveClass}-${position}-${position}`);\n  }\n\n  function update() {\n    // Render || Update Pagination bullets/items\n    const rtl = swiper.rtl;\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el; // Current/Total\n\n    let current;\n    const total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n      if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n        current -= slidesLength - swiper.loopedSlides * 2;\n      }\n\n      if (current > total - 1) current -= total;\n      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    } // Types\n\n\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      const bullets = swiper.pagination.bullets;\n      let firstIndex;\n      let lastIndex;\n      let midIndex;\n\n      if (params.dynamicBullets) {\n        bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', `${bulletSize * (params.dynamicMainBullets + 4)}px`);\n\n        if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n          dynamicBulletIndex += current - swiper.previousIndex;\n\n          if (dynamicBulletIndex > params.dynamicMainBullets - 1) {\n            dynamicBulletIndex = params.dynamicMainBullets - 1;\n          } else if (dynamicBulletIndex < 0) {\n            dynamicBulletIndex = 0;\n          }\n        }\n\n        firstIndex = current - dynamicBulletIndex;\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n        midIndex = (lastIndex + firstIndex) / 2;\n      }\n\n      bullets.removeClass(['', '-next', '-next-next', '-prev', '-prev-prev', '-main'].map(suffix => `${params.bulletActiveClass}${suffix}`).join(' '));\n\n      if ($el.length > 1) {\n        bullets.each(bullet => {\n          const $bullet = $(bullet);\n          const bulletIndex = $bullet.index();\n\n          if (bulletIndex === current) {\n            $bullet.addClass(params.bulletActiveClass);\n          }\n\n          if (params.dynamicBullets) {\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n              $bullet.addClass(`${params.bulletActiveClass}-main`);\n            }\n\n            if (bulletIndex === firstIndex) {\n              setSideBullets($bullet, 'prev');\n            }\n\n            if (bulletIndex === lastIndex) {\n              setSideBullets($bullet, 'next');\n            }\n          }\n        });\n      } else {\n        const $bullet = bullets.eq(current);\n        const bulletIndex = $bullet.index();\n        $bullet.addClass(params.bulletActiveClass);\n\n        if (params.dynamicBullets) {\n          const $firstDisplayedBullet = bullets.eq(firstIndex);\n          const $lastDisplayedBullet = bullets.eq(lastIndex);\n\n          for (let i = firstIndex; i <= lastIndex; i += 1) {\n            bullets.eq(i).addClass(`${params.bulletActiveClass}-main`);\n          }\n\n          if (swiper.params.loop) {\n            if (bulletIndex >= bullets.length - params.dynamicMainBullets) {\n              for (let i = params.dynamicMainBullets; i >= 0; i -= 1) {\n                bullets.eq(bullets.length - i).addClass(`${params.bulletActiveClass}-main`);\n              }\n\n              bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(`${params.bulletActiveClass}-prev`);\n            } else {\n              setSideBullets($firstDisplayedBullet, 'prev');\n              setSideBullets($lastDisplayedBullet, 'next');\n            }\n          } else {\n            setSideBullets($firstDisplayedBullet, 'prev');\n            setSideBullets($lastDisplayedBullet, 'next');\n          }\n        }\n      }\n\n      if (params.dynamicBullets) {\n        const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n        const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;\n        const offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', `${bulletsOffset}px`);\n      }\n    }\n\n    if (params.type === 'fraction') {\n      $el.find(classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n      $el.find(classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));\n    }\n\n    if (params.type === 'progressbar') {\n      let progressbarDirection;\n\n      if (params.progressbarOpposite) {\n        progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n      } else {\n        progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n      }\n\n      const scale = (current + 1) / total;\n      let scaleX = 1;\n      let scaleY = 1;\n\n      if (progressbarDirection === 'horizontal') {\n        scaleX = scale;\n      } else {\n        scaleY = scale;\n      }\n\n      $el.find(classesToSelector(params.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`).transition(swiper.params.speed);\n    }\n\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      emit('paginationRender', $el[0]);\n    } else {\n      emit('paginationUpdate', $el[0]);\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  }\n\n  function render() {\n    // Render Container\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el;\n    let paginationHTML = '';\n\n    if (params.type === 'bullets') {\n      let numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.loop && numberOfBullets > slidesLength) {\n        numberOfBullets = slidesLength;\n      }\n\n      for (let i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += `<${params.bulletElement} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n        }\n      }\n\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find(classesToSelector(params.bulletClass));\n    }\n\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML = `<span class=\"${params.currentClass}\"></span>` + ' / ' + `<span class=\"${params.totalClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type !== 'custom') {\n      emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  }\n\n  function init() {\n    swiper.params.pagination = createElementIfNotDefined(swiper, swiper.originalParams.pagination, swiper.params.pagination, {\n      el: 'swiper-pagination'\n    });\n    const params = swiper.params.pagination;\n    if (!params.el) return;\n    let $el = $(params.el);\n    if ($el.length === 0) return;\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n      $el = swiper.$el.find(params.el); // check if it belongs to another nested Swiper\n\n      if ($el.length > 1) {\n        $el = $el.filter(el => {\n          if ($(el).parents('.swiper')[0] !== swiper.el) return false;\n          return true;\n        });\n      }\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n    $el.addClass(params.modifierClass + swiper.params.direction);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass(`${params.modifierClass}${params.type}-dynamic`);\n      dynamicBulletIndex = 0;\n\n      if (params.dynamicMainBullets < 1) {\n        params.dynamicMainBullets = 1;\n      }\n    }\n\n    if (params.type === 'progressbar' && params.progressbarOpposite) {\n      $el.addClass(params.progressbarOppositeClass);\n    }\n\n    if (params.clickable) {\n      $el.on('click', classesToSelector(params.bulletClass), function onClick(e) {\n        e.preventDefault();\n        let index = $(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) index += swiper.loopedSlides;\n        swiper.slideTo(index);\n      });\n    }\n\n    Object.assign(swiper.pagination, {\n      $el,\n      el: $el[0]\n    });\n\n    if (!swiper.enabled) {\n      $el.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const $el = swiper.pagination.$el;\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    $el.removeClass(params.modifierClass + swiper.params.direction);\n    if (swiper.pagination.bullets && swiper.pagination.bullets.removeClass) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n    if (params.clickable) {\n      $el.off('click', classesToSelector(params.bulletClass));\n    }\n  }\n\n  on('init', () => {\n    init();\n    render();\n    update();\n  });\n  on('activeIndexChange', () => {\n    if (swiper.params.loop) {\n      update();\n    } else if (typeof swiper.snapIndex === 'undefined') {\n      update();\n    }\n  });\n  on('snapIndexChange', () => {\n    if (!swiper.params.loop) {\n      update();\n    }\n  });\n  on('slidesLengthChange', () => {\n    if (swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('snapGridLengthChange', () => {\n    if (!swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.pagination;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n    }\n  });\n  on('lock unlock', () => {\n    update();\n  });\n  on('click', (_s, e) => {\n    const targetEl = e.target;\n    const {\n      $el\n    } = swiper.pagination;\n\n    if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && $el.length > 0 && !$(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n      if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n      const isHidden = $el.hasClass(swiper.params.pagination.hiddenClass);\n\n      if (isHidden === true) {\n        emit('paginationShow');\n      } else {\n        emit('paginationHide');\n      }\n\n      $el.toggleClass(swiper.params.pagination.hiddenClass);\n    }\n  });\n  Object.assign(swiper.pagination, {\n    render,\n    update,\n    init,\n    destroy\n  });\n}","/* eslint no-underscore-dangle: \"off\" */\n\n/* eslint no-use-before-define: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport { nextTick } from '../../shared/utils.js';\nexport default function Autoplay({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  let timeout;\n  swiper.autoplay = {\n    running: false,\n    paused: false\n  };\n  extendParams({\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  });\n\n  function run() {\n    const $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    let delay = swiper.params.autoplay.delay;\n\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n\n    clearTimeout(timeout);\n    timeout = nextTick(() => {\n      let autoplayResult;\n\n      if (swiper.params.autoplay.reverseDirection) {\n        if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.isBeginning) {\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n          emit('autoplay');\n        } else {\n          stop();\n        }\n      } else if (swiper.params.loop) {\n        swiper.loopFix();\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.isEnd) {\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n        emit('autoplay');\n      } else {\n        stop();\n      }\n\n      if (swiper.params.cssMode && swiper.autoplay.running) run();else if (autoplayResult === false) {\n        run();\n      }\n    }, delay);\n  }\n\n  function start() {\n    if (typeof timeout !== 'undefined') return false;\n    if (swiper.autoplay.running) return false;\n    swiper.autoplay.running = true;\n    emit('autoplayStart');\n    run();\n    return true;\n  }\n\n  function stop() {\n    if (!swiper.autoplay.running) return false;\n    if (typeof timeout === 'undefined') return false;\n\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = undefined;\n    }\n\n    swiper.autoplay.running = false;\n    emit('autoplayStop');\n    return true;\n  }\n\n  function pause(speed) {\n    if (!swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) return;\n    if (timeout) clearTimeout(timeout);\n    swiper.autoplay.paused = true;\n\n    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n      swiper.autoplay.paused = false;\n      run();\n    } else {\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].addEventListener(event, onTransitionEnd);\n      });\n    }\n  }\n\n  function onVisibilityChange() {\n    const document = getDocument();\n\n    if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n      pause();\n    }\n\n    if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n      run();\n      swiper.autoplay.paused = false;\n    }\n  }\n\n  function onTransitionEnd(e) {\n    if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n    if (e.target !== swiper.$wrapperEl[0]) return;\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n    swiper.autoplay.paused = false;\n\n    if (!swiper.autoplay.running) {\n      stop();\n    } else {\n      run();\n    }\n  }\n\n  function onMouseEnter() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      stop();\n    } else {\n      pause();\n    }\n\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n  }\n\n  function onMouseLeave() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      return;\n    }\n\n    swiper.autoplay.paused = false;\n    run();\n  }\n\n  function attachMouseEvents() {\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.$el.on('mouseenter', onMouseEnter);\n      swiper.$el.on('mouseleave', onMouseLeave);\n    }\n  }\n\n  function detachMouseEvents() {\n    swiper.$el.off('mouseenter', onMouseEnter);\n    swiper.$el.off('mouseleave', onMouseLeave);\n  }\n\n  on('init', () => {\n    if (swiper.params.autoplay.enabled) {\n      start();\n      const document = getDocument();\n      document.addEventListener('visibilitychange', onVisibilityChange);\n      attachMouseEvents();\n    }\n  });\n  on('beforeTransitionStart', (_s, speed, internal) => {\n    if (swiper.autoplay.running) {\n      if (internal || !swiper.params.autoplay.disableOnInteraction) {\n        swiper.autoplay.pause(speed);\n      } else {\n        stop();\n      }\n    }\n  });\n  on('sliderFirstMove', () => {\n    if (swiper.autoplay.running) {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        stop();\n      } else {\n        pause();\n      }\n    }\n  });\n  on('touchEnd', () => {\n    if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n      run();\n    }\n  });\n  on('destroy', () => {\n    detachMouseEvents();\n\n    if (swiper.autoplay.running) {\n      stop();\n    }\n\n    const document = getDocument();\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n  });\n  Object.assign(swiper.autoplay, {\n    pause,\n    run,\n    start,\n    stop\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function Resize({\n  swiper,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  let observer = null;\n\n  const resizeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('beforeResize');\n    emit('resize');\n  };\n\n  const createObserver = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    observer = new ResizeObserver(entries => {\n      const {\n        width,\n        height\n      } = swiper;\n      let newWidth = width;\n      let newHeight = height;\n      entries.forEach(({\n        contentBoxSize,\n        contentRect,\n        target\n      }) => {\n        if (target && target !== swiper.el) return;\n        newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n        newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n      });\n\n      if (newWidth !== width || newHeight !== height) {\n        resizeHandler();\n      }\n    });\n    observer.observe(swiper.el);\n  };\n\n  const removeObserver = () => {\n    if (observer && observer.unobserve && swiper.el) {\n      observer.unobserve(swiper.el);\n      observer = null;\n    }\n  };\n\n  const orientationChangeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('orientationchange');\n  };\n\n  on('init', () => {\n    if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n      createObserver();\n      return;\n    }\n\n    window.addEventListener('resize', resizeHandler);\n    window.addEventListener('orientationchange', orientationChangeHandler);\n  });\n  on('destroy', () => {\n    removeObserver();\n    window.removeEventListener('resize', resizeHandler);\n    window.removeEventListener('orientationchange', orientationChangeHandler);\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function Observer({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const observers = [];\n  const window = getWindow();\n\n  const attach = (target, options = {}) => {\n    const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    const observer = new ObserverFunc(mutations => {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      const observerUpdate = function observerUpdate() {\n        emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    observers.push(observer);\n  };\n\n  const init = () => {\n    if (!swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      const containerParents = swiper.$el.parents();\n\n      for (let i = 0; i < containerParents.length; i += 1) {\n        attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  };\n\n  const destroy = () => {\n    observers.forEach(observer => {\n      observer.disconnect();\n    });\n    observers.splice(0, observers.length);\n  };\n\n  extendParams({\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  });\n  on('init', init);\n  on('destroy', destroy);\n}","export default class SwiperSettings {\n\n\tstatic params = {\n\t\thero: {\n\t\t\tpagination: {\n\t\t\t\tel: '.swiper-pagination',\n\t\t\t\tclickable: true,\n\t\t\t\ttype: 'custom',\n\t\t\t\trenderCustom: function(swiper, current, total) {\n\t\t\t\t\tlet text = ``;\n\t\t\t\t\tlet names = [];\n\t\t\t\t\tArray.from(swiper.slides).forEach(x => names.push(x.getAttribute('data-swiper-name')));\n\t\t\t\t\tfor (let i = 1; i <= total; i++) {\n\t\t\t\t\t\tconst activeClass = current == i ? 'swiper-pagination-bullet-active' : '';\n\t\t\t\t\t\ttext += `<span class='swiper-pagination-bullet ${activeClass}'>${names[i]}</span>`;\n\t\t\t\t\t}\n\t\t\t\t\treturn text;\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.swiper-button-next',\n\t\t\t\tprevEl: '.swiper-button-prev'\n\t\t\t},\n\t\t\t// autoplay: {\n\t\t\t// \tdelay: 5000,\n\t\t\t// \tdisableOnInteraction: false\n\t\t\t// },\n\t\t\tspeed: 1200,\n\t\t\tloop: true,\n\t\t\twatchSlidesProgress: true,\n\t\t},\n\t\tcarousel3col: {\n\t\t\tpagination: {\n\t\t\t\tel: '.swiper-pagination',\n\t\t\t\tclickable: true,\n\t\t\t\ttype: 'bullets',\n\t\t\t},\n\t\t\tspeed: 1200,\n\t\t\tbreakpoints: {\n\t\t\t\t300: {\n\t\t\t\t  slidesPerView: 1,\n\t\t\t\t  spaceBetween: 40\n\t\t\t\t},\n\t\t\t\t640: {\n\t\t\t\t  slidesPerView: 3,\n\t\t\t\t  spaceBetween: 40\n\t\t\t\t}\n\t\t\t  }\n\t\t}\n\t}\n\n\tstatic features = {}\n\n\tstatic getParams(key) {\n\t\treturn Object.assign({}, this.params[key]);\n\t}\n\n\tstatic getFeatures(key) {\n\t\treturn this.features[key];\n\t}\n\n\tstatic get(key) {\n\t\treturn {\n\t\t\tparams: this.getParams(key),\n\t\t\tfeatures: this.getFeatures(key),\n\t\t}\n\t}\n}\n","import Swiper, { Navigation, Pagination, Autoplay } from 'swiper';\nimport SwiperSettings from './swiper-settings';\n\nexport default class SwiperSlider {\n\n\tconstructor(node) {\n\t\tthis.node = node;\n\t\tthis.id = this.node.dataset.swiperId;\n\t\tthis.type = this.node.dataset.swiperSlider;\n\t\tthis.params = SwiperSettings.getParams(this.type);\n\t\tthis.features = SwiperSettings.getFeatures(this.type);\n\t\tthis.init();\n\t}\n\n\tinit() {\n\t\tSwiper.use([Navigation, Pagination, Autoplay]);\n\t\tthis.swiper = new Swiper(this.node, this.params);\n\t}\n\n\tstatic init() {\n\t\tSwiperSlider.item = document.querySelector('body').classList.contains('chr') ? Array.from(document.querySelectorAll('[data-swiper-slider]')).map((node, index) => new SwiperSlider(node, index)) : Array.from(document.querySelectorAll('[data-swiper]')).map((node, index) => new SwiperSlider(node, index));\n\t}\n}","\nimport Dom from \"../shared/dom\";\n\nexport default class AccordionSelectFilters {\n\n\tconstructor(node, selectAttribute, categoriesAttribute) {\n\t\tthis.node = node;\n\t\tthis.selectAttribute = selectAttribute;\n\t\tthis.categoriesAttribute = categoriesAttribute;\n\t\tthis.select = this.node.querySelector(`[${this.selectAttribute}]`)\n\t\tthis.categories = Array.from(this.node.querySelectorAll(`[${this.categoriesAttribute}]`));\n\n\t\tthis.data = this.getData();\n\t\t\n\t\tthis.addListener();\n\t}\n\n\taddListener() {\n\t\tthis.select.addEventListener('change', (e) => {\n\t\t\tthis.onChange(e.currentTarget)\n\t\t});\n\t}\n\n\tgetData() {\n\t\tlet filteredArray = [];\n\t\tif(Dom.crm){\n\t\t\tthis.categories.forEach(category => {\n\t\t\t\tfilteredArray.push({\n\t\t\t\t\tnode: category,\n\t\t\t\t\tcategories: category.getAttribute(this.categoriesAttribute).replace(/\\s/g, '').split(',')\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t\treturn filteredArray;\n\t}\n\n\tonChange(node) {\n\t\tthis.currentSelection = node.options[node.selectedIndex].value;\n\t\tif (this.currentSelection !== '0') {\n\t\t\tthis.filterCategory();\n\t\t} else {\n\t\t\tthis.reset();\n\t\t}\n\t}\n\n\tfilterCategory() {\n\t\tlet selectedElements = [];\n\t\tthis.data.forEach(item => {\n\t\t\titem.node.style.display = 'none';\n\t\t\tconst findCat = item.categories.find(x => {\n\t\t\t\treturn x === this.currentSelection;\n\t\t\t})\n\t\t\tif(findCat !== undefined) {\n\t\t\t\tselectedElements.push(item)\n\t\t\t}\n\t\t})\n\t\tselectedElements.forEach(item => item.node.style.display = 'block');\n\t}\n\n\treset() {\n\t\tthis.data.forEach(item => item.node.style.display = 'block');\n\t}\n}","import AccordionSelectFilters from \"./accordion.selectFilters.js\";\nimport Dom from \"../shared/dom\";\n\nexport default class Accordion {\n\n\tconstructor(node, selectors, settings, index) {\n\t\tthis.node = node;\n\t\tthis.index = index;\n\n\t\t//default selectors\n\t\tthis.selectors = {\n\t\t\tbuttonAttribute: 'accordion-button',\n\t\t\tcontentAttribute: 'accordion-content',\n\t\t\tfiltersSelect: {\n\t\t\t\tselect: 'data-accordion-select',\n\t\t\t\tcategory: 'data-accordion-cat'\n\t\t\t},\n\t\t\tactiveClass: 'active',\n\t\t};\n\n\t\t//default settings\n\t\tthis.settings = {\n\t\t\tcloseOthers: false,\n\t\t\ttoggleCurrent: false,\n\t\t\tdefaultElementId: 0,\n\t\t\tfiltersSelect: false,\n\t\t\tanimations: false //import gsap\n\t\t}\n\n\t\tif (selectors) { // assign custom selectors\n\t\t\tthis.selectors = Object.assign(this.selectors, selectors);\n\t\t}\n\n\t\tif(settings) { // assign custom settings\n\t\t\tthis.settings = Object.assign(this.settings, settings);\n\t\t}\n\n\t\t//import gsap 3.0 for animations: https://greensock.com/docs/v3/GSAP and uncomment lines:\n\t\t//if (this.settings.animations) {\n\t\t\t//this.gsap = gsap; \n\t\t\t//this.onCompleteAnim;\n\t\t//}\n\n\t\tthis.buttons = Array.from(this.node.querySelectorAll(`[${this.selectors.buttonAttribute}]`));\n\t\tthis.contents = Array.from(this.node.querySelectorAll(`[${this.selectors.contentAttribute}]`));\n\t\t\n\t\tthis.init();\n\t\tthis.addListeners();\n\t}\n\n\tinit() {\n\t\tif (typeof(this.settings.defaultElementId) === 'number' && this.settings.defaultElementId <= this.buttons.length) {\n\t\t\tthis.contentHeight = this.getHeight(this.contents[this.settings.defaultElementId]);\n\t\t\tthis.open(this.buttons[this.settings.defaultElementId], this.contents[this.settings.defaultElementId]);\n\t\t}\n\t\tif(this.settings.filtersSelect) {\n\t\t\tthis.filtersSelect = new AccordionSelectFilters(\n\t\t\t\tthis.node,\n\t\t\t\tthis.selectors.filtersSelect.select,\n\t\t\t\tthis.selectors.filtersSelect.category\n\t\t\t);\n\t\t}\n\t}\n\n\taddListeners() {\n\t\tthis.buttons.forEach(button => {\n\t\t\tbutton.addEventListener('click', this.onClick.bind(this));\n\t\t});\n\t\twindow.addEventListener('resize', this.onResize.bind(this));\n\t}\n\n\tonClick(e) {\n\t\tconst button = e.currentTarget;\n\t\tif(!button) {\n\t\t\treturn\n\t\t}\n\t\tthis.currentId = button.getAttribute(this.selectors.buttonAttribute);\n\t\t\n\t\t//set active button or close the current active button\n\t\tif (!button.classList.contains(this.selectors.activeClass)) {\n\t\t\tthis.reset();\n\t\t\tthis.setActive(button);\n\t\t} else if (!this.settings.toggleCurrent) {\n\t\t\tthis.close(button, this.contents[this.currentId]);\n\t\t}\n\t}\n\n\tsetActive(button) {\n\t\tthis.contents.forEach(content => {\n\t\t\tconst contentId = content.getAttribute(this.selectors.contentAttribute);\n\t\t\tconst isCurrent = contentId === this.currentId;\n\t\t\tconst hasActive = button.classList.contains(this.selectors.activeClass);\n\t\t\tif (!(isCurrent && !hasActive)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.contentHeight = this.getHeight(content);\n\t\t\tthis.open(button, content);\n\t\t})\n\t}\n\n\treset() {\n\t\tthis.buttons.forEach((button, i) => {\n\t\t\tconst isOpen = button.getAttribute(this.selectors.buttonAttribute) !== this.currentId;\n\t\t\tconst hasActive = button.classList.contains(this.selectors.activeClass);\n\t\t\tif (!(hasActive && isOpen)) {\n\t\t\t\treturn\n\t\t\t} \n\t\t\tthis.contentHeight = this.getHeight(this.contents[i]);\n\t\t\t\n\t\t\t//close other panels on click\n\t\t\tif (this.settings.closeOthers) { \n\t\t\t\tthis.close(button, this.contents[i]);\n\t\t\t};\n\t\t});\n\t}\n\n\tgetHeight(elem) {\n\t\tif(elem !== null){\n\t\t\telem.style.height = 'auto';\n\t\t\telem.style.display = 'block';\n\t\t\treturn elem.offsetHeight !== 0 ? elem.offsetHeight : this.contentHeight;\n\t\t} else return\n\t}\n\n\topen(button, content) {\n\t\tthis.onOpen(content);\n\t\t//console.log('open ', this.selectors.activeClass);\n\t\tbutton.classList.add(this.selectors.activeClass);\n\t\tcontent.classList.add(this.selectors.activeClass);\n\t}\n\n\tclose(button, content) {\n\t\tif (Dom.crm) this.onClose(content);\n\t\t//console.log('close ', this.selectors.activeClass);\n\t\tbutton.classList.remove(this.selectors.activeClass);\n\t\tcontent.classList.remove(this.selectors.activeClass);\n\t}\n\n\tonOpen(elem) {\n\t\tif (!this.settings.animations) {\n\t\t\telem.style.height = this.contentHeight;\n\t\t\treturn;\n\t\t}\n\t\t//gsap animation\n\t\tthis.onCompleteAnim = false;\n\t\tthis.gsap.set(elem, { height: 0 });\n\t\tthis.gsap.to(elem, 0.4, {\n\t\t\theight: this.contentHeight,\n\t\t\tease: Power2.easeOut,\n\t\t\tonComplete: () => {\n\t\t\t\tthis.onCompleteAnim = true;\n\t\t\t}\n\t\t});\t\n\t}\n\n\tonClose(elem) {\n\t\tif (!this.settings.animations) {\n\t\t\telem.style.height = 0;\n\t\t\treturn;\n\t\t}\n\t\t//gsap animation\n\t\tthis.onCompleteAnim = false;\n\t\tthis.gsap.to(elem, 0.4, {\n\t\t\theight: 0,\n\t\t\tease: Power2.easeOut,\n\t\t\tonComplete: () => {\n\t\t\t\tthis.onCompleteAnim = true;\n\t\t\t}\n\t\t});\n\t}\n\n\tonResize() {\n\t\tconst content = this.node.querySelector(`[${this.selectors.contentAttribute}=\"${this.currentId}\"]`);\n\t\tif (!content) {\n\t\t\treturn;\n\t\t}\n\t    this.contentHeight = this.getHeight(content);\n\t\tcontent.style.height = this.contentHeight;\n\t}\n\n\tstatic init(elem, selectors, settings) {\n        Accordion.items = Array.from(document.querySelectorAll(`[${elem}]`)).map((node, index) => new Accordion(node, selectors, settings, index));\n    }\n}","/**\n * Check to see if an object is a plain object (created using \"{}\" or \"new Object\").\n * @param {*} obj Variable of any type\n * @returns {Boolean}\n */\nexport const isPlainObject = (obj) => {\n  return (\n    // separate from primitives\n    typeof obj === \"object\" &&\n    // is obvious\n    obj !== null &&\n    // separate instances (Array, DOM, ...)\n    obj.constructor === Object &&\n    // separate build-in like Math\n    Object.prototype.toString.call(obj) === \"[object Object]\"\n  );\n};\n","import { isPlainObject } from \"./isPlainObject.js\";\n\n/**\n * Merge the contents of two or more objects together into the first object.\n * If passing \"true\" for first argument, the merge becomes recursive (aka. deep copy).\n * @param  {...any} args\n * @returns {Object}\n */\nexport const extend = (...args) => {\n  let deep = false;\n\n  if (typeof args[0] == \"boolean\") {\n    deep = args.shift();\n  }\n\n  let result = args[0];\n\n  if (!result || typeof result !== \"object\") {\n    throw new Error(\"extendee must be an object\");\n  }\n\n  const extenders = args.slice(1);\n  const len = extenders.length;\n\n  for (let i = 0; i < len; i++) {\n    const extender = extenders[i];\n\n    for (let key in extender) {\n      if (extender.hasOwnProperty(key)) {\n        const value = extender[key];\n\n        if (deep && (Array.isArray(value) || isPlainObject(value))) {\n          const base = Array.isArray(value) ? [] : {};\n\n          result[key] = extend(true, result.hasOwnProperty(key) ? result[key] : base, value);\n        } else {\n          result[key] = value;\n        }\n      }\n    }\n  }\n\n  return result;\n};\n","/**\r\n * Detect if rendering from the client or the server\r\n */\r\nexport const canUseDOM = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\r\n","import { canUseDOM } from \"./canUseDOM.js\";\r\n\r\nlet preventScrollSupported = null;\r\n\r\nexport const FOCUSABLE_ELEMENTS = [\r\n  \"a[href]\",\r\n  \"area[href]\",\r\n  'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\r\n  \"select:not([disabled]):not([aria-hidden])\",\r\n  \"textarea:not([disabled]):not([aria-hidden])\",\r\n  \"button:not([disabled]):not([aria-hidden])\",\r\n  \"iframe\",\r\n  \"object\",\r\n  \"embed\",\r\n  \"video\",\r\n  \"audio\",\r\n  \"[contenteditable]\",\r\n  '[tabindex]:not([tabindex^=\"-\"]):not([disabled]):not([aria-hidden])',\r\n];\r\n\r\nexport const setFocusOn = (node) => {\r\n  if (!node || !canUseDOM) {\r\n    return;\r\n  }\r\n\r\n  if (preventScrollSupported === null) {\r\n    document.createElement(\"div\").focus({\r\n      get preventScroll() {\r\n        preventScrollSupported = true;\r\n\r\n        return false;\r\n      },\r\n    });\r\n  }\r\n\r\n  try {\r\n    if (node.setActive) {\r\n      // IE/Edge\r\n      node.setActive();\r\n    } else if (preventScrollSupported) {\r\n      // Modern browsers\r\n      node.focus({ preventScroll: true });\r\n    } else {\r\n      // Safari does not support `preventScroll` option\r\n      // https://bugs.webkit.org/show_bug.cgi?id=178583\r\n\r\n      // Save position\r\n      const scrollTop = window.pageXOffset || document.body.scrollTop;\r\n      const scrollLeft = window.pageYOffset || document.body.scrollLeft;\r\n\r\n      node.focus();\r\n\r\n      document.body.scrollTo({\r\n        top: scrollTop,\r\n        left: scrollLeft,\r\n        behavior: \"auto\",\r\n      });\r\n    }\r\n  } catch (e) {}\r\n};\r\n","import { extend } from \"../utils/extend.js\";\nimport { resolve } from \"../utils/resolve.js\";\nimport { isPlainObject } from \"../utils/isPlainObject.js\";\n\n/**\n * Base class, all components inherit from this class\n */\nexport class Base {\n  /**\n   * Base constructor\n   * @param {Object} [options] - Options as `key: value` pairs\n   */\n  constructor(options = {}) {\n    this.options = extend(true, {}, options);\n\n    this.plugins = [];\n    this.events = {};\n\n    // * Prefill with initial events\n    for (const type of [\"on\", \"once\"]) {\n      for (const args of Object.entries(this.options[type] || {})) {\n        this[type](...args);\n      }\n    }\n  }\n\n  /**\n   * Retrieve option value by key, supports subkeys\n   * @param {String} key Option name\n   * @param {*} [fallback] Fallback value for non-existing key\n   * @returns {*}\n   */\n  option(key, fallback, ...rest) {\n    // Make sure it is string\n    key = String(key);\n\n    let value = resolve(key, this.options);\n\n    // Allow to have functions as options\n    if (typeof value === \"function\") {\n      value = value.call(this, this, ...rest);\n    }\n\n    return value === undefined ? fallback : value;\n  }\n\n  /**\n   * Simple l10n support - replaces object keys\n   * found in template with corresponding values\n   * @param {String} str String containing values to localize\n   * @param {Array} params Substitute parameters\n   * @returns {String}\n   */\n  localize(str, params = []) {\n    str = String(str).replace(/\\{\\{(\\w+).?(\\w+)?\\}\\}/g, (match, key, subkey) => {\n      let rez = \"\";\n\n      // Plugins have `Plugin.l10n.KEY`\n      if (subkey) {\n        rez = this.option(`${key[0] + key.toLowerCase().substring(1)}.l10n.${subkey}`);\n      } else if (key) {\n        rez = this.option(`l10n.${key}`);\n      }\n\n      if (!rez) {\n        rez = match;\n      }\n\n      for (let index = 0; index < params.length; index++) {\n        rez = rez.split(params[index][0]).join(params[index][1]);\n      }\n\n      return rez;\n    });\n\n    str = str.replace(/\\{\\{(.*)\\}\\}/, (match, key) => {\n      return key;\n    });\n\n    return str;\n  }\n\n  /**\n   * Subscribe to an event\n   * @param {String} name\n   * @param {Function} callback\n   * @returns {Object}\n   */\n  on(name, callback) {\n    if (isPlainObject(name)) {\n      for (const args of Object.entries(name)) {\n        this.on(...args);\n      }\n\n      return this;\n    }\n\n    String(name)\n      .split(\" \")\n      .forEach((item) => {\n        const listeners = (this.events[item] = this.events[item] || []);\n\n        if (listeners.indexOf(callback) == -1) {\n          listeners.push(callback);\n        }\n      });\n\n    return this;\n  }\n\n  /**\n   * Subscribe to an event only once\n   * @param {String} name\n   * @param {Function} callback\n   * @returns {Object}\n   */\n  once(name, callback) {\n    if (isPlainObject(name)) {\n      for (const args of Object.entries(name)) {\n        this.once(...args);\n      }\n\n      return this;\n    }\n\n    String(name)\n      .split(\" \")\n      .forEach((item) => {\n        const listener = (...details) => {\n          this.off(item, listener);\n          callback.call(this, this, ...details);\n        };\n\n        listener._ = callback;\n\n        this.on(item, listener);\n      });\n\n    return this;\n  }\n\n  /**\n   * Unsubscribe event with name and callback\n   * @param {String} name\n   * @param {Function} callback\n   * @returns {Object}\n   */\n  off(name, callback) {\n    if (isPlainObject(name)) {\n      for (const args of Object.entries(name)) {\n        this.off(...args);\n      }\n\n      return;\n    }\n\n    name.split(\" \").forEach((item) => {\n      const listeners = this.events[item];\n\n      if (!listeners || !listeners.length) {\n        return this;\n      }\n\n      let index = -1;\n\n      for (let i = 0, len = listeners.length; i < len; i++) {\n        const listener = listeners[i];\n\n        if (listener && (listener === callback || listener._ === callback)) {\n          index = i;\n          break;\n        }\n      }\n\n      if (index != -1) {\n        listeners.splice(index, 1);\n      }\n    });\n\n    return this;\n  }\n\n  /**\n   * Emit an event.\n   * If present, `\"*\"` handlers are invoked after name-matched handlers.\n   * @param {String} name\n   * @param  {...any} details\n   * @returns {Boolean}\n   */\n  trigger(name, ...details) {\n    for (const listener of [...(this.events[name] || [])].slice()) {\n      if (listener && listener.call(this, this, ...details) === false) {\n        return false;\n      }\n    }\n\n    // A wildcard \"*\" event type\n    for (const listener of [...(this.events[\"*\"] || [])].slice()) {\n      if (listener && listener.call(this, name, this, ...details) === false) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * Add given plugins to this instance,\n   * this will end up calling `attach` method of each plugin\n   * @param {Object} Plugins\n   * @returns {Object}\n   */\n  attachPlugins(plugins) {\n    const newPlugins = {};\n\n    for (const [key, Plugin] of Object.entries(plugins || {})) {\n      // Check if this plugin is not disabled by option\n      if (this.options[key] !== false && !this.plugins[key]) {\n        // Populate options with defaults from the plugin\n        this.options[key] = extend({}, Plugin.defaults || {}, this.options[key]);\n\n        // Initialise plugin\n        newPlugins[key] = new Plugin(this);\n      }\n    }\n\n    for (const [key, plugin] of Object.entries(newPlugins)) {\n      plugin.attach(this);\n    }\n\n    this.plugins = Object.assign({}, this.plugins, newPlugins);\n\n    return this;\n  }\n\n  /**\n   * Remove all plugin instances from this instance,\n   * this will end up calling `detach` method of each plugin\n   * @returns {Object}\n   */\n  detachPlugins() {\n    for (const key in this.plugins) {\n      let plugin;\n\n      if ((plugin = this.plugins[key]) && typeof plugin.detach === \"function\") {\n        plugin.detach(this);\n      }\n    }\n\n    this.plugins = {};\n\n    return this;\n  }\n}\n","/**\n * Access nested JavaScript objects by string path.\n * Example: `resolve(\"a.b.c\", {a:{b:{c:\"d\"}})` would return `d`\n * @param {String} path\n * @param {Object} obj\n * @returns {*}\n */\nexport const resolve = function (path, obj) {\n  return path.split(\".\").reduce(function (prev, curr) {\n    return prev && prev[curr];\n  }, obj);\n};\n","/**\n * Round half up; to be more specific and to ensure things like 1.005 round correctly\n * @param {Float} value\n * @param {Integer} precision\n * @returns {Float}\n */\nexport const round = (value, precision = 10000) => {\n  value = parseFloat(value) || 0;\n\n  return Math.round((value + Number.EPSILON) * precision) / precision;\n};\n","/**\n * Check if  element has scrollable content\n * @param {Node} node\n * @returns {Boolean}\n */\nexport const hasScrollbars = function (node) {\n  const overflowY = getComputedStyle(node)[\"overflow-y\"],\n    overflowX = getComputedStyle(node)[\"overflow-x\"],\n    vertical = (overflowY === \"scroll\" || overflowY === \"auto\") && Math.abs(node.scrollHeight - node.clientHeight) > 1,\n    horizontal = (overflowX === \"scroll\" || overflowX === \"auto\") && Math.abs(node.scrollWidth - node.clientWidth) > 1;\n\n  return vertical || horizontal;\n};\n\n/**\n * Check if element or one of the parents is scrollable\n * @param {Node} node  DOM Node element\n * @returns {Boolean}\n */\nexport const isScrollable = function (node) {\n  if (!node || !(typeof node === \"object\" && node instanceof Element) || node === document.body) {\n    return false;\n  }\n\n  if (node.__Panzoom) {\n    return false;\n  }\n\n  if (hasScrollbars(node)) {\n    return node;\n  }\n\n  return isScrollable(node.parentNode);\n};\n","/**\n * ResizeObserver Polyfill\n */\nexport const ResizeObserver =\n  (typeof window !== \"undefined\" && window.ResizeObserver) ||\n  class {\n    constructor(callback) {\n      this.observables = [];\n      // Array of observed elements that looks like this:\n      // [{\n      //   el: domNode,\n      //   size: {height: x, width: y}\n      // }]\n      this.boundCheck = this.check.bind(this);\n      this.boundCheck();\n      this.callback = callback;\n    }\n\n    observe(el) {\n      if (this.observables.some((observable) => observable.el === el)) {\n        return;\n      }\n\n      const newObservable = {\n        el: el,\n        size: {\n          height: el.clientHeight,\n          width: el.clientWidth,\n        },\n      };\n\n      this.observables.push(newObservable);\n    }\n\n    unobserve(el) {\n      this.observables = this.observables.filter((obj) => obj.el !== el);\n    }\n\n    disconnect() {\n      this.observables = [];\n    }\n\n    check() {\n      const changedEntries = this.observables\n        .filter((obj) => {\n          const currentHeight = obj.el.clientHeight;\n          const currentWidth = obj.el.clientWidth;\n          if (obj.size.height !== currentHeight || obj.size.width !== currentWidth) {\n            obj.size.height = currentHeight;\n            obj.size.width = currentWidth;\n            return true;\n          }\n        })\n        .map((obj) => obj.el);\n\n      if (changedEntries.length > 0) {\n        this.callback(changedEntries);\n      }\n\n      window.requestAnimationFrame(this.boundCheck);\n    }\n  };\n","class Pointer {\r\n  constructor(nativePointer) {\r\n    this.id = self.Touch && nativePointer instanceof Touch ? nativePointer.identifier : -1;\r\n\r\n    this.pageX = nativePointer.pageX;\r\n    this.pageY = nativePointer.pageY;\r\n\r\n    this.clientX = nativePointer.clientX;\r\n    this.clientY = nativePointer.clientY;\r\n  }\r\n}\r\n\r\nconst getDistance = (a, b) => {\r\n  if (!b) {\r\n    return 0;\r\n  }\r\n\r\n  return Math.sqrt((b.clientX - a.clientX) ** 2 + (b.clientY - a.clientY) ** 2);\r\n};\r\n\r\nconst getMidpoint = (a, b) => {\r\n  if (!b) {\r\n    return a;\r\n  }\r\n\r\n  return {\r\n    clientX: (a.clientX + b.clientX) / 2,\r\n    clientY: (a.clientY + b.clientY) / 2,\r\n  };\r\n};\r\n\r\nconst isTouchEvent = (event) => \"changedTouches\" in event;\r\n\r\nclass PointerTracker {\r\n  constructor(_element, { start = () => true, move = () => {}, end = () => {} } = {}) {\r\n    this._element = _element;\r\n\r\n    this.startPointers = [];\r\n    this.currentPointers = [];\r\n\r\n    this._pointerStart = (event) => {\r\n      if (!(event.buttons & 1)) {\r\n        return;\r\n      }\r\n\r\n      const pointer = new Pointer(event);\r\n\r\n      if (this.currentPointers.some((p) => p.id === pointer.id)) {\r\n        return;\r\n      }\r\n\r\n      if (!this._triggerPointerStart(pointer, event)) {\r\n        return;\r\n      }\r\n\r\n      window.addEventListener(\"mousemove\", this._move, { passive: false });\r\n      window.addEventListener(\"mouseup\", this._pointerEnd, { passive: false });\r\n    };\r\n\r\n    this._touchStart = (event) => {\r\n      for (const touch of Array.from(event.changedTouches || [])) {\r\n        this._triggerPointerStart(new Pointer(touch), event);\r\n      }\r\n    };\r\n\r\n    this._move = (event) => {\r\n      const previousPointers = this.currentPointers.slice();\r\n      const changedPointers = isTouchEvent(event)\r\n        ? Array.from(event.changedTouches).map((t) => new Pointer(t))\r\n        : [new Pointer(event)];\r\n\r\n      const trackedChangedPointers = [];\r\n\r\n      for (const pointer of changedPointers) {\r\n        const index = this.currentPointers.findIndex((p) => p.id === pointer.id);\r\n\r\n        if (index < 0) {\r\n          continue;\r\n        }\r\n\r\n        trackedChangedPointers.push(pointer);\r\n\r\n        this.currentPointers[index] = pointer;\r\n      }\r\n\r\n      this._moveCallback(previousPointers, this.currentPointers.slice(), event);\r\n    };\r\n\r\n    this._triggerPointerEnd = (pointer, event) => {\r\n      if (!isTouchEvent(event) && event.buttons & 1) {\r\n        return false;\r\n      }\r\n\r\n      const index = this.currentPointers.findIndex((p) => p.id === pointer.id);\r\n\r\n      if (index < 0) {\r\n        return false;\r\n      }\r\n\r\n      this.currentPointers.splice(index, 1);\r\n      this.startPointers.splice(index, 1);\r\n\r\n      this._endCallback(pointer, event);\r\n\r\n      return true;\r\n    };\r\n\r\n    this._pointerEnd = (event) => {\r\n      if (!this._triggerPointerEnd(new Pointer(event), event)) {\r\n        return;\r\n      }\r\n\r\n      window.removeEventListener(\"mousemove\", this._move);\r\n      window.removeEventListener(\"mouseup\", this._pointerEnd);\r\n    };\r\n\r\n    this._touchEnd = (event) => {\r\n      for (const touch of Array.from(event.changedTouches || [])) {\r\n        this._triggerPointerEnd(new Pointer(touch), event);\r\n      }\r\n    };\r\n\r\n    this._startCallback = start;\r\n    this._moveCallback = move;\r\n    this._endCallback = end;\r\n\r\n    this._element.addEventListener(\"mousedown\", this._pointerStart, { passive: true });\r\n    this._element.addEventListener(\"touchstart\", this._touchStart, { passive: true });\r\n    this._element.addEventListener(\"touchmove\", this._move, { passive: false });\r\n    this._element.addEventListener(\"touchend\", this._touchEnd);\r\n    this._element.addEventListener(\"touchcancel\", this._touchEnd);\r\n  }\r\n\r\n  stop() {\r\n    this._element.removeEventListener(\"mousedown\", this._pointerStart, { passive: true });\r\n    this._element.removeEventListener(\"touchstart\", this._touchStart, { passive: true });\r\n    this._element.removeEventListener(\"touchmove\", this._move, { passive: false });\r\n    this._element.removeEventListener(\"touchend\", this._touchEnd);\r\n    this._element.removeEventListener(\"touchcancel\", this._touchEnd);\r\n\r\n    window.removeEventListener(\"mousemove\", this._move, { passive: false });\r\n    window.removeEventListener(\"mouseup\", this._pointerEnd, { passive: false });\r\n  }\r\n\r\n  _triggerPointerStart(pointer, event) {\r\n    if (!this._startCallback(pointer, event)) {\r\n      return false;\r\n    }\r\n\r\n    this.currentPointers.push(pointer);\r\n    this.startPointers.push(pointer);\r\n\r\n    return true;\r\n  }\r\n}\r\n\r\nexport { PointerTracker, getDistance, getMidpoint };\r\n","/**\n * Get element child node at the given coordinates\n * @param {Element} HTML element\n * @param {Float|Integer} x\n * @param {Float|Integer} y\n * @returns {Node|Boolean}}\n */\nexport const getTextNodeFromPoint = (element, x, y) => {\n  const nodes = element.childNodes;\n  const range = document.createRange();\n\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n\n    if (node.nodeType !== Node.TEXT_NODE) {\n      continue;\n    }\n\n    range.selectNodeContents(node);\n\n    const rect = range.getBoundingClientRect();\n\n    if (x >= rect.left && y >= rect.top && x <= rect.right && y <= rect.bottom) {\n      return node;\n    }\n  }\n\n  return false;\n};\n","import { extend } from \"../shared/utils/extend.js\";\nimport { round } from \"../shared/utils/round.js\";\nimport { isScrollable } from \"../shared/utils/isScrollable.js\";\n\nimport { ResizeObserver } from \"../shared/utils/ResizeObserver.js\";\nimport { PointerTracker, getMidpoint, getDistance } from \"../shared/utils/PointerTracker.js\";\n\nimport { getTextNodeFromPoint } from \"../shared/utils/getTextNodeFromPoint.js\";\n\nimport { getFullWidth, getFullHeight, calculateAspectRatioFit } from \"../shared/utils/getDimensions.js\";\n\nimport { Base } from \"../shared/Base/Base.js\";\n\nimport { Plugins } from \"./plugins/index.js\";\n\nconst defaults = {\n  // Enable touch guestures\n  touch: true,\n\n  // Enable zooming\n  zoom: true,\n\n  // Enable pinch gesture to zoom in/out using two fingers\n  pinchToZoom: true,\n\n  // Disable dragging if scale level is equal to value of `baseScale` option\n  panOnlyZoomed: false,\n\n  // Lock axis while dragging,\n  // possible values: false | \"x\" | \"y\" | \"xy\"\n  lockAxis: false,\n\n  // * All friction values are inside [0, 1) interval,\n  // * where 0 would change instantly, but 0.99 would update extremely slowly\n\n  // Friction while panning/dragging\n  friction: 0.64,\n\n  // Friction while decelerating after drag end\n  decelFriction: 0.88,\n\n  // Friction while scaling\n  zoomFriction: 0.74,\n\n  // Bounciness after hitting the edge\n  bounceForce: 0.2,\n\n  // Initial scale level\n  baseScale: 1,\n\n  // Minimum scale level\n  minScale: 1,\n\n  // Maximum scale level\n  maxScale: 2,\n\n  // Default scale step while zooming\n  step: 0.5,\n\n  // Allow to select text,\n  // if enabled, dragging will be disabled when text selection is detected\n  textSelection: false,\n\n  // Add `click` event listener,\n  // possible values: true | false | function | \"toggleZoom\"\n  click: \"toggleZoom\",\n\n  // Add `wheel` event listener,\n  // possible values: true | false | function |  \"zoom\"\n  wheel: \"zoom\",\n\n  // Value for zoom on mouse wheel\n  wheelFactor: 42,\n\n  // Number of wheel events after which it should stop preventing default behaviour of mouse wheel\n  wheelLimit: 5,\n\n  // Class name added to `$viewport` element to indicate if content is draggable\n  draggableClass: \"is-draggable\",\n\n  // Class name added to `$viewport` element to indicate that user is currently dragging\n  draggingClass: \"is-dragging\",\n\n  // Content will be scaled by this number,\n  // this can also be a function which should return a number, for example:\n  // ratio: function() { return 1 / (window.devicePixelRatio || 1) }\n  ratio: 1,\n};\n\nexport class Panzoom extends Base {\n  /**\n   * Panzoom constructor\n   * @constructs Panzoom\n   * @param {HTMLElement} $viewport Panzoom container\n   * @param {Object} [options] Options for Panzoom\n   */\n  constructor($container, options = {}) {\n    super(extend(true, {}, defaults, options));\n\n    this.state = \"init\";\n\n    this.$container = $container;\n\n    // Bind event handlers for referencability\n    for (const methodName of [\"onLoad\", \"onWheel\", \"onClick\"]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n\n    this.initLayout();\n\n    this.resetValues();\n\n    this.attachPlugins(Panzoom.Plugins);\n\n    this.trigger(\"init\");\n\n    this.updateMetrics();\n\n    this.attachEvents();\n\n    this.trigger(\"ready\");\n\n    if (this.option(\"centerOnStart\") === false) {\n      this.state = \"ready\";\n    } else {\n      this.panTo({\n        friction: 0,\n      });\n    }\n\n    $container.__Panzoom = this;\n  }\n\n  /**\n   * Create references to container, viewport and content elements\n   */\n  initLayout() {\n    const $container = this.$container;\n\n    // Make sure content element exists\n    if (!($container instanceof HTMLElement)) {\n      throw new Error(\"Panzoom: Container not found\");\n    }\n\n    const $content = this.option(\"content\") || $container.querySelector(\".panzoom__content\");\n\n    // Make sure content element exists\n    if (!$content) {\n      throw new Error(\"Panzoom: Content not found\");\n    }\n\n    this.$content = $content;\n\n    let $viewport = this.option(\"viewport\") || $container.querySelector(\".panzoom__viewport\");\n\n    if (!$viewport && this.option(\"wrapInner\") !== false) {\n      $viewport = document.createElement(\"div\");\n      $viewport.classList.add(\"panzoom__viewport\");\n\n      $viewport.append(...$container.childNodes);\n\n      $container.appendChild($viewport);\n    }\n\n    this.$viewport = $viewport || $content.parentNode;\n  }\n\n  /**\n   * Restore instance variables to default values\n   */\n  resetValues() {\n    this.updateRate = this.option(\"updateRate\", /iPhone|iPad|iPod|Android/i.test(navigator.userAgent) ? 250 : 24);\n\n    this.container = {\n      width: 0,\n      height: 0,\n    };\n\n    this.viewport = {\n      width: 0,\n      height: 0,\n    };\n\n    this.content = {\n      // Full content dimensions (naturalWidth/naturalHeight for images)\n      origWidth: 0,\n      origHeight: 0,\n\n      // Current dimensions of the content\n      width: 0,\n      height: 0,\n\n      // Current position; these values reflect CSS `transform` value\n      x: this.option(\"x\", 0),\n      y: this.option(\"y\", 0),\n\n      // Current scale; does not reflect CSS `transform` value\n      scale: this.option(\"baseScale\"),\n    };\n\n    // End values of current pan / zoom animation\n    this.transform = {\n      x: 0,\n      y: 0,\n      scale: 1,\n    };\n\n    this.resetDragPosition();\n  }\n\n  /**\n   * Handle `load` event\n   * @param {Event} event\n   */\n  onLoad(event) {\n    this.updateMetrics();\n\n    this.panTo({ scale: this.option(\"baseScale\"), friction: 0 });\n\n    this.trigger(\"load\", event);\n  }\n\n  /**\n   * Handle `click` event\n   * @param {Event} event\n   */\n  onClick(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    // Skip if text is selected\n    if (this.option(\"textSelection\") && window.getSelection().toString().length) {\n      event.stopPropagation();\n      return;\n    }\n\n    const rect = this.$content.getClientRects()[0];\n\n    // Check if container has changed position (for example, when current instance is inside another one)\n    if (this.state !== \"ready\") {\n      if (\n        this.dragPosition.midPoint ||\n        Math.abs(rect.top - this.dragStart.rect.top) > 1 ||\n        Math.abs(rect.left - this.dragStart.rect.left) > 1\n      ) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        return;\n      }\n    }\n\n    if (this.trigger(\"click\", event) === false) {\n      return;\n    }\n\n    if (this.option(\"zoom\") && this.option(\"click\") === \"toggleZoom\") {\n      event.preventDefault();\n      event.stopPropagation();\n\n      this.zoomWithClick(event);\n    }\n  }\n\n  /**\n   * Handle `wheel` event\n   * @param {Event} event\n   */\n  onWheel(event) {\n    if (this.trigger(\"wheel\", event) === false) {\n      return;\n    }\n\n    if (this.option(\"zoom\") && this.option(\"wheel\")) {\n      this.zoomWithWheel(event);\n    }\n  }\n\n  /**\n   * Change zoom level depending on scroll direction\n   * @param {Event} event `wheel` event\n   */\n  zoomWithWheel(event) {\n    if (this.changedDelta === undefined) {\n      this.changedDelta = 0;\n    }\n\n    const delta = Math.max(-1, Math.min(1, -event.deltaY || -event.deltaX || event.wheelDelta || -event.detail));\n    const scale = this.content.scale;\n\n    let newScale = (scale * (100 + delta * this.option(\"wheelFactor\"))) / 100;\n\n    if (\n      (delta < 0 && Math.abs(scale - this.option(\"minScale\")) < 0.01) ||\n      (delta > 0 && Math.abs(scale - this.option(\"maxScale\")) < 0.01)\n    ) {\n      this.changedDelta += Math.abs(delta);\n      newScale = scale;\n    } else {\n      this.changedDelta = 0;\n      newScale = Math.max(Math.min(newScale, this.option(\"maxScale\")), this.option(\"minScale\"));\n    }\n\n    if (this.changedDelta > this.option(\"wheelLimit\")) {\n      return;\n    }\n\n    event.preventDefault();\n\n    if (newScale === scale) {\n      return;\n    }\n\n    const rect = this.$content.getBoundingClientRect();\n\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    this.zoomTo(newScale, { x, y });\n  }\n\n  /**\n   * Change zoom level depending on click coordinates\n   * @param {Event} event `click` event\n   */\n  zoomWithClick(event) {\n    const rect = this.$content.getClientRects()[0];\n\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    this.toggleZoom({ x, y });\n  }\n\n  /**\n   * Attach load, wheel and click event listeners, initialize `resizeObserver` and `PointerTracker`\n   */\n  attachEvents() {\n    this.$content.addEventListener(\"load\", this.onLoad);\n\n    this.$container.addEventListener(\"wheel\", this.onWheel, { passive: false });\n    this.$container.addEventListener(\"click\", this.onClick, { passive: false });\n\n    this.initObserver();\n\n    const pointerTracker = new PointerTracker(this.$container, {\n      start: (pointer, event) => {\n        if (!this.option(\"touch\")) {\n          return false;\n        }\n\n        if (this.velocity.scale < 0) {\n          return false;\n        }\n\n        if (!pointerTracker.currentPointers.length) {\n          const ignoreClickedElement =\n            [\"BUTTON\", \"TEXTAREA\", \"OPTION\", \"INPUT\", \"SELECT\", \"VIDEO\"].indexOf(event.target.nodeName) !== -1;\n\n          if (ignoreClickedElement) {\n            return false;\n          }\n\n          // Allow text selection\n          if (this.option(\"textSelection\") && getTextNodeFromPoint(event.target, event.clientX, event.clientY)) {\n            return false;\n          }\n        }\n\n        if (isScrollable(event.target)) {\n          return false;\n        }\n\n        if (this.trigger(\"touchStart\", event) === false) {\n          return false;\n        }\n\n        this.state = \"pointerdown\";\n\n        this.resetDragPosition();\n\n        this.dragPosition.midPoint = null;\n        this.dragPosition.time = Date.now();\n\n        return true;\n      },\n      move: (previousPointers, currentPointers, event) => {\n        if (this.state !== \"pointerdown\") {\n          return;\n        }\n\n        if (this.trigger(\"touchMove\", event) === false) {\n          event.preventDefault();\n          return;\n        }\n\n        // Disable touch action if current zoom level is below base level\n        if (\n          currentPointers.length < 2 &&\n          this.option(\"panOnlyZoomed\") === true &&\n          this.content.width <= this.viewport.width &&\n          this.content.height <= this.viewport.height &&\n          this.transform.scale <= this.option(\"baseScale\")\n        ) {\n          return;\n        }\n\n        if (currentPointers.length > 1 && (!this.option(\"zoom\") || this.option(\"pinchToZoom\") === false)) {\n          return;\n        }\n\n        const prevMidpoint = getMidpoint(previousPointers[0], previousPointers[1]);\n        const newMidpoint = getMidpoint(currentPointers[0], currentPointers[1]);\n\n        const panX = newMidpoint.clientX - prevMidpoint.clientX;\n        const panY = newMidpoint.clientY - prevMidpoint.clientY;\n\n        const prevDistance = getDistance(previousPointers[0], previousPointers[1]);\n        const newDistance = getDistance(currentPointers[0], currentPointers[1]);\n\n        const scaleDiff = prevDistance && newDistance ? newDistance / prevDistance : 1;\n\n        this.dragOffset.x += panX;\n        this.dragOffset.y += panY;\n\n        this.dragOffset.scale *= scaleDiff;\n\n        this.dragOffset.time = Date.now() - this.dragPosition.time;\n\n        const axisToLock = this.dragStart.scale === 1 && this.option(\"lockAxis\");\n\n        if (axisToLock && !this.lockAxis) {\n          if (Math.abs(this.dragOffset.x) < 6 && Math.abs(this.dragOffset.y) < 6) {\n            event.preventDefault();\n            return;\n          }\n\n          const angle = Math.abs((Math.atan2(this.dragOffset.y, this.dragOffset.x) * 180) / Math.PI);\n\n          this.lockAxis = angle > 45 && angle < 135 ? \"y\" : \"x\";\n        }\n\n        if (axisToLock !== \"xy\" && this.lockAxis === \"y\") {\n          if (event.type === \"mousemove\") {\n            event.preventDefault();\n          }\n\n          return;\n        }\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        event.stopImmediatePropagation();\n\n        if (this.lockAxis) {\n          this.dragOffset[this.lockAxis === \"x\" ? \"y\" : \"x\"] = 0;\n        }\n\n        this.$container.classList.add(this.option(\"draggingClass\"));\n\n        if (!(this.transform.scale === this.option(\"baseScale\") && this.lockAxis === \"y\")) {\n          this.dragPosition.x = this.dragStart.x + this.dragOffset.x;\n        }\n\n        if (!(this.transform.scale === this.option(\"baseScale\") && this.lockAxis === \"x\")) {\n          this.dragPosition.y = this.dragStart.y + this.dragOffset.y;\n        }\n\n        this.dragPosition.scale = this.dragStart.scale * this.dragOffset.scale;\n\n        if (currentPointers.length > 1) {\n          const startPoint = getMidpoint(pointerTracker.startPointers[0], pointerTracker.startPointers[1]);\n\n          const xPos = startPoint.clientX - this.dragStart.rect.x;\n          const yPos = startPoint.clientY - this.dragStart.rect.y;\n\n          const { deltaX, deltaY } = this.getZoomDelta(this.content.scale * this.dragOffset.scale, xPos, yPos);\n\n          this.dragPosition.x -= deltaX;\n          this.dragPosition.y -= deltaY;\n\n          this.dragPosition.midPoint = newMidpoint;\n        } else {\n          this.setDragResistance();\n        }\n\n        // Update final position\n        this.transform = {\n          x: this.dragPosition.x,\n          y: this.dragPosition.y,\n          scale: this.dragPosition.scale,\n        };\n\n        this.startAnimation();\n      },\n      end: (pointer, event) => {\n        if (this.state !== \"pointerdown\") {\n          return;\n        }\n\n        this._dragOffset = { ...this.dragOffset };\n\n        if (pointerTracker.currentPointers.length) {\n          this.resetDragPosition();\n\n          return;\n        }\n\n        this.state = \"decel\";\n        this.friction = this.option(\"decelFriction\");\n\n        this.recalculateTransform();\n\n        this.$container.classList.remove(this.option(\"draggingClass\"));\n\n        if (this.trigger(\"touchEnd\", event) === false) {\n          return;\n        }\n\n        if (this.state !== \"decel\") {\n          return;\n        }\n\n        // * Check if scaled content past limits\n\n        // Below minimum\n        const minScale = this.option(\"minScale\");\n\n        if (this.transform.scale < minScale) {\n          this.zoomTo(minScale, { friction: 0.64 });\n\n          return;\n        }\n\n        // Exceed maximum\n        const maxScale = this.option(\"maxScale\");\n\n        if (this.transform.scale - maxScale > 0.01) {\n          const last = this.dragPosition.midPoint || pointer;\n          const rect = this.$content.getClientRects()[0];\n\n          this.zoomTo(maxScale, {\n            friction: 0.64,\n            x: last.clientX - rect.left,\n            y: last.clientY - rect.top,\n          });\n\n          return;\n        }\n      },\n    });\n\n    this.pointerTracker = pointerTracker;\n  }\n\n  initObserver() {\n    if (this.resizeObserver) {\n      return;\n    }\n\n    this.resizeObserver = new ResizeObserver(() => {\n      if (this.updateTimer) {\n        return;\n      }\n\n      this.updateTimer = setTimeout(() => {\n        const rect = this.$container.getBoundingClientRect();\n\n        if (!(rect.width && rect.height)) {\n          this.updateTimer = null;\n          return;\n        }\n\n        // Check to see if there are any changes\n        if (Math.abs(rect.width - this.container.width) > 1 || Math.abs(rect.height - this.container.height) > 1) {\n          if (this.isAnimating()) {\n            this.endAnimation(true);\n          }\n\n          this.updateMetrics();\n\n          this.panTo({\n            x: this.content.x,\n            y: this.content.y,\n            scale: this.option(\"baseScale\"),\n            friction: 0,\n          });\n        }\n\n        this.updateTimer = null;\n      }, this.updateRate);\n    });\n\n    this.resizeObserver.observe(this.$container);\n  }\n\n  /**\n   * Restore drag related variables to default values\n   */\n  resetDragPosition() {\n    this.lockAxis = null;\n    this.friction = this.option(\"friction\");\n\n    this.velocity = {\n      x: 0,\n      y: 0,\n      scale: 0,\n    };\n\n    const { x, y, scale } = this.content;\n\n    this.dragStart = {\n      rect: this.$content.getBoundingClientRect(),\n      x,\n      y,\n      scale,\n    };\n\n    this.dragPosition = {\n      ...this.dragPosition,\n      x,\n      y,\n      scale,\n    };\n\n    this.dragOffset = {\n      x: 0,\n      y: 0,\n      scale: 1,\n      time: 0,\n    };\n  }\n\n  /**\n   * Trigger update events before/after resizing content and viewport\n   * @param {Boolean} silently Should trigger `afterUpdate` event at the end\n   */\n  updateMetrics(silently) {\n    if (silently !== true) {\n      this.trigger(\"beforeUpdate\");\n    }\n\n    const $container = this.$container;\n    const $content = this.$content;\n    const $viewport = this.$viewport;\n\n    const contentIsImage = $content instanceof HTMLImageElement;\n    const contentIsZoomable = this.option(\"zoom\");\n    const shouldResizeParent = this.option(\"resizeParent\", contentIsZoomable);\n\n    let width = this.option(\"width\");\n    let height = this.option(\"height\");\n\n    let origWidth = width || getFullWidth($content);\n    let origHeight = height || getFullHeight($content);\n\n    Object.assign($content.style, {\n      width: width ? `${width}px` : \"\",\n      height: height ? `${height}px` : \"\",\n      maxWidth: \"\",\n      maxHeight: \"\",\n    });\n\n    if (shouldResizeParent) {\n      Object.assign($viewport.style, { width: \"\", height: \"\" });\n    }\n\n    const ratio = this.option(\"ratio\");\n\n    origWidth = round(origWidth * ratio);\n    origHeight = round(origHeight * ratio);\n\n    width = origWidth;\n    height = origHeight;\n\n    const contentRect = $content.getBoundingClientRect();\n    const viewportRect = $viewport.getBoundingClientRect();\n\n    const containerRect = $viewport == $container ? viewportRect : $container.getBoundingClientRect();\n\n    let viewportWidth = Math.max($viewport.offsetWidth, round(viewportRect.width));\n    let viewportHeight = Math.max($viewport.offsetHeight, round(viewportRect.height));\n\n    let viewportStyles = window.getComputedStyle($viewport);\n    viewportWidth -= parseFloat(viewportStyles.paddingLeft) + parseFloat(viewportStyles.paddingRight);\n    viewportHeight -= parseFloat(viewportStyles.paddingTop) + parseFloat(viewportStyles.paddingBottom);\n\n    this.viewport.width = viewportWidth;\n    this.viewport.height = viewportHeight;\n\n    if (contentIsZoomable) {\n      if (Math.abs(origWidth - contentRect.width) > 0.1 || Math.abs(origHeight - contentRect.height) > 0.1) {\n        const rez = calculateAspectRatioFit(\n          origWidth,\n          origHeight,\n          Math.min(origWidth, contentRect.width),\n          Math.min(origHeight, contentRect.height)\n        );\n\n        width = round(rez.width);\n        height = round(rez.height);\n      }\n\n      Object.assign($content.style, {\n        width: `${width}px`,\n        height: `${height}px`,\n        transform: \"\",\n      });\n    }\n\n    if (shouldResizeParent) {\n      Object.assign($viewport.style, { width: `${width}px`, height: `${height}px` });\n\n      this.viewport = { ...this.viewport, width, height };\n    }\n\n    if (contentIsImage && contentIsZoomable && typeof this.options.maxScale !== \"function\") {\n      const maxScale = this.option(\"maxScale\");\n\n      this.options.maxScale = function () {\n        return this.content.origWidth > 0 && this.content.fitWidth > 0\n          ? this.content.origWidth / this.content.fitWidth\n          : maxScale;\n      };\n    }\n\n    this.content = {\n      ...this.content,\n      origWidth,\n      origHeight,\n      fitWidth: width,\n      fitHeight: height,\n      width,\n      height,\n      scale: 1,\n      isZoomable: contentIsZoomable,\n    };\n\n    this.container = { width: containerRect.width, height: containerRect.height };\n\n    if (silently !== true) {\n      this.trigger(\"afterUpdate\");\n    }\n  }\n\n  /**\n   * Increase zoom level\n   * @param {Number} [step] Zoom ratio; `0.5` would increase scale from 1 to 1.5\n   */\n  zoomIn(step) {\n    this.zoomTo(this.content.scale + (step || this.option(\"step\")));\n  }\n\n  /**\n   * Decrease zoom level\n   * @param {Number} [step] Zoom ratio; `0.5` would decrease scale from 1.5 to 1\n   */\n  zoomOut(step) {\n    this.zoomTo(this.content.scale - (step || this.option(\"step\")));\n  }\n\n  /**\n   * Toggles zoom level between max and base levels\n   * @param {Object} [options] Additional options\n   */\n  toggleZoom(props = {}) {\n    const maxScale = this.option(\"maxScale\");\n    const baseScale = this.option(\"baseScale\");\n\n    const scale = this.content.scale > baseScale + (maxScale - baseScale) * 0.5 ? baseScale : maxScale;\n\n    this.zoomTo(scale, props);\n  }\n\n  /**\n   * Animate to given zoom level\n   * @param {Number} scale New zoom level\n   * @param {Object} [options] Additional options\n   */\n  zoomTo(scale = this.option(\"baseScale\"), { x = null, y = null } = {}) {\n    scale = Math.max(Math.min(scale, this.option(\"maxScale\")), this.option(\"minScale\"));\n\n    // Adjust zoom position\n    const currentScale = round(this.content.scale / (this.content.width / this.content.fitWidth), 10000000);\n\n    if (x === null) {\n      x = this.content.width * currentScale * 0.5;\n    }\n\n    if (y === null) {\n      y = this.content.height * currentScale * 0.5;\n    }\n\n    const { deltaX, deltaY } = this.getZoomDelta(scale, x, y);\n\n    x = this.content.x - deltaX;\n    y = this.content.y - deltaY;\n\n    this.panTo({ x, y, scale, friction: this.option(\"zoomFriction\") });\n  }\n\n  /**\n   * Calculate difference for top/left values if content would scale at given coordinates\n   * @param {Number} scale\n   * @param {Number} x\n   * @param {Number} y\n   * @returns {Object}\n   */\n  getZoomDelta(scale, x = 0, y = 0) {\n    const currentWidth = this.content.fitWidth * this.content.scale;\n    const currentHeight = this.content.fitHeight * this.content.scale;\n\n    const percentXInCurrentBox = x > 0 && currentWidth ? x / currentWidth : 0;\n    const percentYInCurrentBox = y > 0 && currentHeight ? y / currentHeight : 0;\n\n    const nextWidth = this.content.fitWidth * scale;\n    const nextHeight = this.content.fitHeight * scale;\n\n    const deltaX = (nextWidth - currentWidth) * percentXInCurrentBox;\n    const deltaY = (nextHeight - currentHeight) * percentYInCurrentBox;\n\n    return { deltaX, deltaY };\n  }\n\n  /**\n   * Animate to given positon and/or zoom level\n   * @param {Object} [options] Additional options\n   */\n  panTo({\n    x = this.content.x,\n    y = this.content.y,\n    scale,\n    friction = this.option(\"friction\"),\n    ignoreBounds = false,\n  } = {}) {\n    scale = scale || this.content.scale || 1;\n\n    if (!ignoreBounds) {\n      const { boundX, boundY } = this.getBounds(scale);\n\n      if (boundX) {\n        x = Math.max(Math.min(x, boundX.to), boundX.from);\n      }\n\n      if (boundY) {\n        y = Math.max(Math.min(y, boundY.to), boundY.from);\n      }\n    }\n\n    this.friction = friction;\n\n    this.transform = {\n      ...this.transform,\n      x,\n      y,\n      scale,\n    };\n\n    if (friction) {\n      this.state = \"panning\";\n\n      this.velocity = {\n        x: (1 / this.friction - 1) * (x - this.content.x),\n        y: (1 / this.friction - 1) * (y - this.content.y),\n        scale: (1 / this.friction - 1) * (scale - this.content.scale),\n      };\n\n      this.startAnimation();\n    } else {\n      this.endAnimation();\n    }\n  }\n\n  /**\n   * Start animation loop\n   */\n  startAnimation() {\n    if (!this.rAF) {\n      this.trigger(\"startAnimation\");\n    } else {\n      cancelAnimationFrame(this.rAF);\n    }\n\n    this.rAF = requestAnimationFrame(() => this.animate());\n  }\n\n  /**\n   * Process animation frame\n   */\n  animate() {\n    this.setEdgeForce();\n    this.setDragForce();\n\n    this.velocity.x *= this.friction;\n    this.velocity.y *= this.friction;\n\n    this.velocity.scale *= this.friction;\n\n    this.content.x += this.velocity.x;\n    this.content.y += this.velocity.y;\n\n    this.content.scale += this.velocity.scale;\n\n    if (this.isAnimating()) {\n      this.setTransform();\n    } else if (this.state !== \"pointerdown\") {\n      this.endAnimation();\n\n      return;\n    }\n\n    this.rAF = requestAnimationFrame(() => this.animate());\n  }\n\n  /**\n   * Calculate boundaries\n   */\n  getBounds(scale) {\n    let boundX = this.boundX;\n    let boundY = this.boundY;\n\n    if (boundX !== undefined && boundY !== undefined) {\n      return { boundX, boundY };\n    }\n\n    boundX = { from: 0, to: 0 };\n    boundY = { from: 0, to: 0 };\n\n    scale = scale || this.transform.scale;\n\n    const width = this.content.fitWidth * scale;\n    const height = this.content.fitHeight * scale;\n\n    const viewportWidth = this.viewport.width;\n    const viewportHeight = this.viewport.height;\n\n    if (width < viewportWidth) {\n      const deltaX = round((viewportWidth - width) * 0.5);\n\n      boundX.from = deltaX;\n      boundX.to = deltaX;\n    } else {\n      boundX.from = round(viewportWidth - width);\n    }\n\n    if (height < viewportHeight) {\n      const deltaY = (viewportHeight - height) * 0.5;\n\n      boundY.from = deltaY;\n      boundY.to = deltaY;\n    } else {\n      boundY.from = round(viewportHeight - height);\n    }\n\n    return { boundX, boundY };\n  }\n\n  /**\n   * Change animation velocity if boundary is reached\n   */\n  setEdgeForce() {\n    if (this.state !== \"decel\") {\n      return;\n    }\n\n    const bounceForce = this.option(\"bounceForce\");\n\n    const { boundX, boundY } = this.getBounds(Math.max(this.transform.scale, this.content.scale));\n\n    let pastLeft, pastRight, pastTop, pastBottom;\n\n    if (boundX) {\n      pastLeft = this.content.x < boundX.from;\n      pastRight = this.content.x > boundX.to;\n    }\n\n    if (boundY) {\n      pastTop = this.content.y < boundY.from;\n      pastBottom = this.content.y > boundY.to;\n    }\n\n    if (pastLeft || pastRight) {\n      const bound = pastLeft ? boundX.from : boundX.to;\n      const distance = bound - this.content.x;\n\n      let force = distance * bounceForce;\n\n      const restX = this.content.x + (this.velocity.x + force) / this.friction;\n\n      if (restX >= boundX.from && restX <= boundX.to) {\n        force += this.velocity.x;\n      }\n\n      this.velocity.x = force;\n\n      this.recalculateTransform();\n    }\n\n    if (pastTop || pastBottom) {\n      const bound = pastTop ? boundY.from : boundY.to;\n      const distance = bound - this.content.y;\n\n      let force = distance * bounceForce;\n\n      const restY = this.content.y + (force + this.velocity.y) / this.friction;\n\n      if (restY >= boundY.from && restY <= boundY.to) {\n        force += this.velocity.y;\n      }\n\n      this.velocity.y = force;\n\n      this.recalculateTransform();\n    }\n  }\n\n  /**\n   * Change dragging position if boundary is reached\n   */\n  setDragResistance() {\n    if (this.state !== \"pointerdown\") {\n      return;\n    }\n\n    const { boundX, boundY } = this.getBounds(this.dragPosition.scale);\n\n    let pastLeft, pastRight, pastTop, pastBottom;\n\n    if (boundX) {\n      pastLeft = this.dragPosition.x < boundX.from;\n      pastRight = this.dragPosition.x > boundX.to;\n    }\n\n    if (boundY) {\n      pastTop = this.dragPosition.y < boundY.from;\n      pastBottom = this.dragPosition.y > boundY.to;\n    }\n\n    if ((pastLeft || pastRight) && !(pastLeft && pastRight)) {\n      const bound = pastLeft ? boundX.from : boundX.to;\n      const distance = bound - this.dragPosition.x;\n\n      this.dragPosition.x = bound - distance * 0.3;\n    }\n\n    if ((pastTop || pastBottom) && !(pastTop && pastBottom)) {\n      const bound = pastTop ? boundY.from : boundY.to;\n      const distance = bound - this.dragPosition.y;\n\n      this.dragPosition.y = bound - distance * 0.3;\n    }\n  }\n\n  /**\n   * Set velocity to move content to drag position\n   */\n  setDragForce() {\n    if (this.state === \"pointerdown\") {\n      this.velocity.x = this.dragPosition.x - this.content.x;\n      this.velocity.y = this.dragPosition.y - this.content.y;\n      this.velocity.scale = this.dragPosition.scale - this.content.scale;\n    }\n  }\n\n  /**\n   * Update end values based on current velocity and friction;\n   */\n  recalculateTransform() {\n    this.transform.x = this.content.x + this.velocity.x / (1 / this.friction - 1);\n    this.transform.y = this.content.y + this.velocity.y / (1 / this.friction - 1);\n    this.transform.scale = this.content.scale + this.velocity.scale / (1 / this.friction - 1);\n  }\n\n  /**\n   * Check if content is currently animating\n   * @returns {Boolean}\n   */\n  isAnimating() {\n    return !!(\n      this.friction &&\n      (Math.abs(this.velocity.x) > 0.05 || Math.abs(this.velocity.y) > 0.05 || Math.abs(this.velocity.scale) > 0.05)\n    );\n  }\n\n  /**\n   * Set content `style.transform` value based on current animation frame\n   */\n  setTransform(final) {\n    let x, y, scale;\n\n    if (final) {\n      x = round(this.transform.x);\n      y = round(this.transform.y);\n\n      scale = this.transform.scale;\n\n      this.content = { ...this.content, x, y, scale };\n    } else {\n      x = round(this.content.x);\n      y = round(this.content.y);\n\n      scale = this.content.scale / (this.content.width / this.content.fitWidth);\n\n      this.content = { ...this.content, x, y };\n    }\n\n    this.trigger(\"beforeTransform\");\n\n    x = round(this.content.x);\n    y = round(this.content.y);\n\n    if (final && this.option(\"zoom\")) {\n      let width;\n      let height;\n\n      width = round(this.content.fitWidth * scale);\n      height = round(this.content.fitHeight * scale);\n\n      this.content.width = width;\n      this.content.height = height;\n\n      this.transform = { ...this.transform, width, height, scale };\n\n      Object.assign(this.$content.style, {\n        width: `${width}px`,\n        height: `${height}px`,\n        maxWidth: \"none\",\n        maxHeight: \"none\",\n        transform: `translate3d(${x}px, ${y}px, 0) scale(1)`,\n      });\n    } else {\n      this.$content.style.transform = `translate3d(${x}px, ${y}px, 0) scale(${scale})`;\n    }\n\n    this.trigger(\"afterTransform\");\n  }\n\n  /**\n   * Stop animation loop\n   */\n  endAnimation(silently) {\n    cancelAnimationFrame(this.rAF);\n    this.rAF = null;\n\n    this.velocity = {\n      x: 0,\n      y: 0,\n      scale: 0,\n    };\n\n    this.setTransform(true);\n\n    this.state = \"ready\";\n\n    this.handleCursor();\n\n    if (silently !== true) {\n      this.trigger(\"endAnimation\");\n    }\n  }\n\n  /**\n   * Update the class name depending on whether the content is scaled\n   */\n  handleCursor() {\n    const draggableClass = this.option(\"draggableClass\");\n\n    if (!draggableClass || !this.option(\"touch\")) {\n      return;\n    }\n\n    if (\n      this.option(\"panOnlyZoomed\") == true &&\n      this.content.width <= this.viewport.width &&\n      this.content.height <= this.viewport.height &&\n      this.transform.scale <= this.option(\"baseScale\")\n    ) {\n      this.$container.classList.remove(draggableClass);\n    } else {\n      this.$container.classList.add(draggableClass);\n    }\n  }\n\n  /**\n   * Remove observation and detach event listeners\n   */\n  detachEvents() {\n    this.$content.removeEventListener(\"load\", this.onLoad);\n\n    this.$container.removeEventListener(\"wheel\", this.onWheel, { passive: false });\n    this.$container.removeEventListener(\"click\", this.onClick, { passive: false });\n\n    if (this.pointerTracker) {\n      this.pointerTracker.stop();\n      this.pointerTracker = null;\n    }\n\n    if (this.resizeObserver) {\n      this.resizeObserver.disconnect();\n      this.resizeObserver = null;\n    }\n  }\n\n  /**\n   * Clean up\n   */\n  destroy() {\n    if (this.state === \"destroy\") {\n      return;\n    }\n\n    this.state = \"destroy\";\n\n    clearTimeout(this.updateTimer);\n    this.updateTimer = null;\n\n    cancelAnimationFrame(this.rAF);\n    this.rAF = null;\n\n    this.detachEvents();\n\n    this.detachPlugins();\n\n    this.resetDragPosition();\n  }\n}\n\n// Expose version\nPanzoom.version = \"__VERSION__\";\n\n// Static properties are a recent addition that dont work in all browsers yet\nPanzoom.Plugins = Plugins;\n","/**\n * Get actual width of the element, regardless of how much of content is currently visible\n * @param {Element} elem\n * @returns {Integer}\n */\nexport const getFullWidth = (elem) => {\n  return Math.max(\n    parseFloat(elem.naturalWidth || 0),\n    parseFloat((elem.width && elem.width.baseVal && elem.width.baseVal.value) || 0),\n    parseFloat(elem.offsetWidth || 0),\n    parseFloat(elem.scrollWidth || 0)\n  );\n};\n\n/**\n * Get actual height of the element, regardless of how much of content is currently visible\n * @param {Element} elem\n * @returns {Integer}\n */\nexport const getFullHeight = (elem) => {\n  return Math.max(\n    parseFloat(elem.naturalHeight || 0),\n    parseFloat((elem.height && elem.height.baseVal && elem.height.baseVal.value) || 0),\n    parseFloat(elem.offsetHeight || 0),\n    parseFloat(elem.scrollHeight || 0)\n  );\n};\n\n/**\n * Calculate bounding size to fit dimensions while preserving aspect ratio\n * @param {Number} srcWidth\n * @param {Number} srcHeight\n * @param {Number} maxWidth\n * @param {Number} maxHeight\n * @returns {Object}\n */\nexport const calculateAspectRatioFit = (srcWidth, srcHeight, maxWidth, maxHeight) => {\n  const ratio = Math.min(maxWidth / srcWidth || 0, maxHeight / srcHeight);\n\n  return { width: srcWidth * ratio || 0, height: srcHeight * ratio || 0 };\n};\n","export const Plugins = {};\n","/**\n * Throttling enforces a maximum number of times a function can be called over time\n * @param {Function} func Callback function\n * @param {Integer} limit Milliseconds\n * @returns {Function}\n */\nexport const throttle = (func, limit) => {\n  let lastCall = 0;\n\n  return function (...args) {\n    const now = new Date().getTime();\n\n    if (now - lastCall < limit) {\n      return;\n    }\n\n    lastCall = now;\n\n    return func(...args);\n  };\n};\n","const defaults = {\n  prevTpl: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" tabindex=\"-1\"><path d=\"M15 3l-9 9 9 9\"/></svg>',\n  nextTpl: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" tabindex=\"-1\"><path d=\"M9 3l9 9-9 9\"/></svg>',\n\n  classNames: {\n    main: \"carousel__nav\",\n    button: \"carousel__button\",\n\n    next: \"is-next\",\n    prev: \"is-prev\",\n  },\n};\n\nexport class Navigation {\n  constructor(carousel) {\n    this.$container = null;\n\n    this.$prev = null;\n    this.$next = null;\n\n    this.carousel = carousel;\n\n    this.onRefresh = this.onRefresh.bind(this);\n  }\n\n  /**\n   * Shortcut to get option for this plugin\n   * @param {String} name option name\n   * @returns option value\n   */\n  option(name) {\n    return this.carousel.option(`Navigation.${name}`);\n  }\n\n  /**\n   * Creates and returns new button element with default class names and click event\n   * @param {String} type\n   */\n  createButton(type) {\n    const $btn = document.createElement(\"button\");\n\n    $btn.setAttribute(\"title\", this.carousel.localize(`{{${type.toUpperCase()}}}`));\n\n    const classNames = this.option(\"classNames.button\") + \" \" + this.option(`classNames.${type}`);\n\n    $btn.classList.add(...classNames.split(\" \"));\n    $btn.setAttribute(\"tabindex\", \"0\");\n    $btn.innerHTML = this.carousel.localize(this.option(`${type}Tpl`));\n\n    $btn.addEventListener(\"click\", (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n\n      this.carousel[`slide${type === \"next\" ? \"Next\" : \"Prev\"}`]();\n    });\n\n    return $btn;\n  }\n\n  /**\n   * Build necessary DOM elements\n   */\n  build() {\n    if (!this.$container) {\n      this.$container = document.createElement(\"div\");\n      this.$container.classList.add(...this.option(\"classNames.main\").split(\" \"));\n\n      this.carousel.$container.appendChild(this.$container);\n    }\n\n    if (!this.$next) {\n      this.$next = this.createButton(\"next\");\n\n      this.$container.appendChild(this.$next);\n    }\n\n    if (!this.$prev) {\n      this.$prev = this.createButton(\"prev\");\n\n      this.$container.appendChild(this.$prev);\n    }\n  }\n\n  /**\n   *  Process carousel `refresh` and `change` events to enable/disable buttons if needed\n   */\n  onRefresh() {\n    const pageCount = this.carousel.pages.length;\n\n    if (\n      pageCount <= 1 ||\n      (pageCount > 1 &&\n        this.carousel.elemDimWidth < this.carousel.wrapDimWidth &&\n        !Number.isInteger(this.carousel.option(\"slidesPerPage\")))\n    ) {\n      this.cleanup();\n\n      return;\n    }\n\n    this.build();\n\n    this.$prev.removeAttribute(\"disabled\");\n    this.$next.removeAttribute(\"disabled\");\n\n    if (this.carousel.option(\"infiniteX\", this.carousel.option(\"infinite\"))) {\n      return;\n    }\n\n    if (this.carousel.page <= 0) {\n      this.$prev.setAttribute(\"disabled\", \"\");\n    }\n\n    if (this.carousel.page >= pageCount - 1) {\n      this.$next.setAttribute(\"disabled\", \"\");\n    }\n  }\n\n  cleanup() {\n    if (this.$prev) {\n      this.$prev.remove();\n    }\n\n    this.$prev = null;\n\n    if (this.$next) {\n      this.$next.remove();\n    }\n\n    this.$next = null;\n\n    if (this.$container) {\n      this.$container.remove();\n    }\n\n    this.$container = null;\n  }\n\n  attach() {\n    this.carousel.on(\"refresh change\", this.onRefresh);\n  }\n\n  detach() {\n    this.carousel.off(\"refresh change\", this.onRefresh);\n\n    this.cleanup();\n  }\n}\n\n// Expose defaults\nNavigation.defaults = defaults;\n","const defaults = {\n  friction: 0.92,\n};\n\nexport class Sync {\n  constructor(carousel) {\n    this.carousel = carousel;\n\n    this.selectedIndex = null;\n    this.friction = 0;\n\n    this.onNavReady = this.onNavReady.bind(this);\n    this.onNavClick = this.onNavClick.bind(this);\n    this.onNavCreateSlide = this.onNavCreateSlide.bind(this);\n\n    this.onTargetChange = this.onTargetChange.bind(this);\n  }\n\n  /**\n   * Make this one as main carousel and selected carousel as navigation\n   * @param {Object} nav Carousel\n   */\n  addAsTargetFor(nav) {\n    this.target = this.carousel;\n    this.nav = nav;\n\n    this.attachEvents();\n  }\n\n  /**\n   * Make this one as navigation carousel for selected carousel\n   * @param {Object} target\n   */\n  addAsNavFor(target) {\n    this.target = target;\n    this.nav = this.carousel;\n\n    this.attachEvents();\n  }\n\n  /**\n   * Attach event listeners on both carousels\n   */\n  attachEvents() {\n    this.nav.options.initialSlide = this.target.options.initialPage;\n\n    this.nav.on(\"ready\", this.onNavReady);\n    this.nav.on(\"createSlide\", this.onNavCreateSlide);\n    this.nav.on(\"Panzoom.click\", this.onNavClick);\n\n    this.target.on(\"change\", this.onTargetChange);\n    this.target.on(\"Panzoom.afterUpdate\", this.onTargetChange);\n  }\n\n  /**\n   * Process main carousel `ready` event; bind events and set initial page\n   */\n  onNavReady() {\n    this.onTargetChange(true);\n  }\n\n  /**\n   * Process main carousel `click` event\n   * @param {Object} panzoom\n   * @param {Object} event\n   */\n  onNavClick(carousel, panzoom, event) {\n    const clickedNavSlide = event.target.closest(\".carousel__slide\");\n\n    if (!clickedNavSlide) {\n      return;\n    }\n\n    event.stopPropagation();\n\n    const selectedNavIndex = parseInt(clickedNavSlide.dataset.index, 10);\n    const selectedSyncPage = this.target.findPageForSlide(selectedNavIndex);\n\n    if (this.target.page !== selectedSyncPage) {\n      this.target.slideTo(selectedSyncPage, { friction: this.friction });\n    }\n\n    this.markSelectedSlide(selectedNavIndex);\n  }\n\n  /**\n   * Process main carousel `createSlide` event\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onNavCreateSlide(carousel, slide) {\n    if (slide.index === this.selectedIndex) {\n      this.markSelectedSlide(slide.index);\n    }\n  }\n\n  /**\n   * Process target carousel `change` event\n   * @param {Object} target\n   */\n  onTargetChange() {\n    const targetIndex = this.target.pages[this.target.page].indexes[0];\n    const selectedNavPage = this.nav.findPageForSlide(targetIndex);\n\n    this.nav.slideTo(selectedNavPage);\n\n    this.markSelectedSlide(targetIndex);\n  }\n\n  /**\n   * Toggle classname for slides that marks currently selected slides\n   * @param {Number} selectedIndex\n   */\n  markSelectedSlide(selectedIndex) {\n    this.selectedIndex = selectedIndex;\n\n    [...this.nav.slides].filter((slide) => slide.$el && slide.$el.classList.remove(\"is-nav-selected\"));\n\n    const slide = this.nav.slides[selectedIndex];\n\n    if (slide && slide.$el) slide.$el.classList.add(\"is-nav-selected\");\n  }\n\n  attach(carousel) {\n    const sync = carousel.options.Sync;\n\n    if (!sync.target && !sync.nav) {\n      return;\n    }\n\n    if (sync.target) {\n      this.addAsNavFor(sync.target);\n    } else if (sync.nav) {\n      this.addAsTargetFor(sync.nav);\n    }\n\n    this.friction = sync.friction;\n  }\n\n  detach() {\n    if (this.nav) {\n      this.nav.off(\"ready\", this.onNavReady);\n      this.nav.off(\"Panzoom.click\", this.onNavClick);\n      this.nav.off(\"createSlide\", this.onNavCreateSlide);\n    }\n\n    if (this.target) {\n      this.target.off(\"Panzoom.afterUpdate\", this.onTargetChange);\n      this.target.off(\"change\", this.onTargetChange);\n    }\n  }\n}\n\n// Expose defaults\nSync.defaults = defaults;\n","import { Navigation } from \"./Navigation/Navigation.js\";\nimport { Dots } from \"./Dots/Dots.js\";\nimport { Sync } from \"./Sync/Sync.js\";\n\nexport const Plugins = { Navigation, Dots, Sync };\n","const defaults = {\n  // The minimum number of slides to display dots\n  minSlideCount: 2,\n};\n\nexport class Dots {\n  constructor(carousel) {\n    this.carousel = carousel;\n\n    this.$list = null;\n\n    this.events = {\n      change: this.onChange.bind(this),\n      refresh: this.onRefresh.bind(this),\n    };\n  }\n\n  /**\n   * Build wrapping DOM element containing all dots\n   */\n  buildList() {\n    if (this.carousel.pages.length < this.carousel.option(\"Dots.minSlideCount\")) {\n      return;\n    }\n\n    const $list = document.createElement(\"ol\");\n\n    $list.classList.add(\"carousel__dots\");\n\n    $list.addEventListener(\"click\", (e) => {\n      if (!(\"page\" in e.target.dataset)) {\n        return;\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      const page = parseInt(e.target.dataset.page, 10);\n      const carousel = this.carousel;\n\n      if (page === carousel.page) {\n        return;\n      }\n\n      if (carousel.pages.length < 3 && carousel.option(\"infinite\")) {\n        carousel[page == 0 ? \"slidePrev\" : \"slideNext\"]();\n      } else {\n        carousel.slideTo(page);\n      }\n    });\n\n    this.$list = $list;\n\n    this.carousel.$container.appendChild($list);\n    this.carousel.$container.classList.add(\"has-dots\");\n\n    return $list;\n  }\n\n  /**\n   * Remove wrapping DOM element\n   */\n  removeList() {\n    if (this.$list) {\n      this.$list.parentNode.removeChild(this.$list);\n      this.$list = null;\n    }\n\n    this.carousel.$container.classList.remove(\"has-dots\");\n  }\n\n  /**\n   * Remove existing dots and create fresh ones\n   */\n  rebuildDots() {\n    let $list = this.$list;\n\n    const listExists = !!$list;\n    const pagesCount = this.carousel.pages.length;\n\n    if (pagesCount < 2) {\n      if (listExists) {\n        this.removeList();\n      }\n\n      return;\n    }\n\n    if (!listExists) {\n      $list = this.buildList();\n    }\n\n    // Remove existing dots\n    const dotCount = this.$list.children.length;\n\n    if (dotCount > pagesCount) {\n      for (let i = pagesCount; i < dotCount; i++) {\n        this.$list.removeChild(this.$list.lastChild);\n      }\n\n      return;\n    }\n\n    // Create fresh DOM elements (dots) for each page\n    for (let index = dotCount; index < pagesCount; index++) {\n      const $dot = document.createElement(\"li\");\n\n      $dot.classList.add(\"carousel__dot\");\n      $dot.dataset.page = index;\n\n      $dot.setAttribute(\"role\", \"button\");\n      $dot.setAttribute(\"tabindex\", \"0\");\n      $dot.setAttribute(\"title\", this.carousel.localize(\"{{GOTO}}\", [[\"%d\", index + 1]]));\n\n      $dot.addEventListener(\"keydown\", (event) => {\n        const code = event.code;\n\n        let $el;\n\n        if (code === \"Enter\" || code === \"NumpadEnter\") {\n          $el = $dot;\n        } else if (code === \"ArrowRight\") {\n          $el = $dot.nextSibling;\n        } else if (code === \"ArrowLeft\") {\n          $el = $dot.previousSibling;\n        }\n\n        $el && $el.click();\n      });\n\n      this.$list.appendChild($dot);\n    }\n\n    this.setActiveDot();\n  }\n\n  /**\n   * Mark active dot by toggling class name\n   */\n  setActiveDot() {\n    if (!this.$list) {\n      return;\n    }\n\n    this.$list.childNodes.forEach(($dot) => {\n      $dot.classList.remove(\"is-selected\");\n    });\n\n    const $activeDot = this.$list.childNodes[this.carousel.page];\n\n    if ($activeDot) {\n      $activeDot.classList.add(\"is-selected\");\n    }\n  }\n\n  /**\n   * Process carousel `change` event\n   */\n  onChange() {\n    this.setActiveDot();\n  }\n\n  /**\n   * Process carousel `refresh` event\n   */\n  onRefresh() {\n    this.rebuildDots();\n  }\n\n  attach() {\n    this.carousel.on(this.events);\n  }\n\n  detach() {\n    this.removeList();\n\n    this.carousel.off(this.events);\n    this.carousel = null;\n  }\n}\n","import { Base } from \"../shared/Base/Base.js\";\r\nimport { Panzoom } from \"../Panzoom/Panzoom.js\";\r\n\r\nimport { extend } from \"../shared/utils/extend.js\";\r\nimport { round } from \"../shared/utils/round.js\";\r\nimport { throttle } from \"../shared/utils/throttle.js\";\r\n\r\nimport { Plugins } from \"./plugins/index.js\";\r\n\r\n// Default language\r\nimport en from \"./l10n/en.js\";\r\n\r\nconst defaults = {\r\n  // Virtual slides. Each object should have at least `html` property that will be used to set content,\r\n  // example: `slides: [{html: 'First slide'}, {html: 'Second slide'}]`\r\n  slides: [],\r\n\r\n  // Number of slides to preload before/after visible slides\r\n  preload: 0,\r\n\r\n  // Number of slides to group into the page,\r\n  // if `auto` - group all slides that fit into the viewport\r\n  slidesPerPage: \"auto\",\r\n\r\n  // Index of initial page\r\n  initialPage: null,\r\n\r\n  // Index of initial slide\r\n  initialSlide: null,\r\n\r\n  // Panzoom friction while changing page\r\n  friction: 0.92,\r\n\r\n  // Should center active page\r\n  center: true,\r\n\r\n  // Should carousel scroll infinitely\r\n  infinite: true,\r\n\r\n  // Should the gap be filled before first and after last slide if `infinite: false`\r\n  fill: true,\r\n\r\n  // Should Carousel settle at any position after a swipe.\r\n  dragFree: false,\r\n\r\n  // Prefix for CSS classes, must be the same as the  SCSS `$carousel-prefix` variable\r\n  prefix: \"\",\r\n\r\n  // Class names for DOM elements (without prefix)\r\n  classNames: {\r\n    viewport: \"carousel__viewport\",\r\n    track: \"carousel__track\",\r\n    slide: \"carousel__slide\",\r\n\r\n    // Classname toggled for slides inside current page\r\n    slideSelected: \"is-selected\",\r\n  },\r\n\r\n  // Localization of strings\r\n  l10n: en,\r\n};\r\n\r\nexport class Carousel extends Base {\r\n  /**\r\n   * Carousel constructor\r\n   * @constructs Carousel\r\n   * @param {HTMLElement} $container - Carousel container\r\n   * @param {Object} [options] - Options for Carousel\r\n   */\r\n  constructor($container, options = {}) {\r\n    options = extend(true, {}, defaults, options);\r\n\r\n    super(options);\r\n\r\n    this.state = \"init\";\r\n\r\n    this.$container = $container;\r\n\r\n    if (!(this.$container instanceof HTMLElement)) {\r\n      throw new Error(\"No root element provided\");\r\n    }\r\n\r\n    this.slideNext = throttle(this.slideNext.bind(this), 250, true);\r\n    this.slidePrev = throttle(this.slidePrev.bind(this), 250, true);\r\n\r\n    this.init();\r\n\r\n    $container.__Carousel = this;\r\n  }\r\n\r\n  /**\r\n   * Perform initialization\r\n   */\r\n  init() {\r\n    this.pages = [];\r\n    this.page = this.pageIndex = null;\r\n    this.prevPage = this.prevPageIndex = null;\r\n\r\n    this.attachPlugins(Carousel.Plugins);\r\n\r\n    this.trigger(\"init\");\r\n\r\n    this.initLayout();\r\n\r\n    this.initSlides();\r\n\r\n    this.updateMetrics();\r\n\r\n    if (this.$track && this.pages.length) {\r\n      this.$track.style.transform = `translate3d(${this.pages[this.page].left * -1}px, 0px, 0) scale(1)`;\r\n    }\r\n\r\n    this.manageSlideVisiblity();\r\n\r\n    this.initPanzoom();\r\n\r\n    this.state = \"ready\";\r\n\r\n    this.trigger(\"ready\");\r\n  }\r\n\r\n  /**\r\n   * Initialize layout; create necessary elements\r\n   */\r\n  initLayout() {\r\n    const prefix = this.option(\"prefix\");\r\n    const classNames = this.option(\"classNames\");\r\n\r\n    this.$viewport = this.option(\"viewport\") || this.$container.querySelector(`.${prefix}${classNames.viewport}`);\r\n\r\n    if (!this.$viewport) {\r\n      this.$viewport = document.createElement(\"div\");\r\n      this.$viewport.classList.add(...(prefix + classNames.viewport).split(\" \"));\r\n\r\n      this.$viewport.append(...this.$container.childNodes);\r\n\r\n      this.$container.appendChild(this.$viewport);\r\n    }\r\n\r\n    this.$track = this.option(\"track\") || this.$container.querySelector(`.${prefix}${classNames.track}`);\r\n\r\n    if (!this.$track) {\r\n      this.$track = document.createElement(\"div\");\r\n      this.$track.classList.add(...(prefix + classNames.track).split(\" \"));\r\n\r\n      this.$track.append(...this.$viewport.childNodes);\r\n\r\n      this.$viewport.appendChild(this.$track);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Fill `slides` array with objects from existing nodes and/or `slides` option\r\n   */\r\n  initSlides() {\r\n    this.slides = [];\r\n\r\n    // Get existing slides from the DOM\r\n    const elems = this.$viewport.querySelectorAll(`.${this.option(\"prefix\")}${this.option(\"classNames.slide\")}`);\r\n\r\n    elems.forEach((el) => {\r\n      const slide = {\r\n        $el: el,\r\n        isDom: true,\r\n      };\r\n\r\n      this.slides.push(slide);\r\n\r\n      this.trigger(\"createSlide\", slide, this.slides.length);\r\n    });\r\n\r\n    // Add virtual slides, but do not create DOM elements yet,\r\n    // because they will be created dynamically based on current carousel position\r\n    if (Array.isArray(this.options.slides)) {\r\n      this.slides = extend(true, [...this.slides], this.options.slides);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Do all calculations related to slide size and paging\r\n   */\r\n  updateMetrics() {\r\n    // Calculate content width, viewport width\r\n    // ===\r\n    let contentWidth = 0;\r\n    let indexes = [];\r\n    let lastSlideWidth;\r\n\r\n    this.slides.forEach((slide, index) => {\r\n      const $el = slide.$el;\r\n      const slideWidth = slide.isDom || !lastSlideWidth ? this.getSlideMetrics($el) : lastSlideWidth;\r\n\r\n      slide.index = index;\r\n      slide.width = slideWidth;\r\n      slide.left = contentWidth;\r\n\r\n      lastSlideWidth = slideWidth;\r\n      contentWidth += slideWidth;\r\n\r\n      indexes.push(index);\r\n    });\r\n\r\n    let viewportWidth = Math.max(this.$track.offsetWidth, round(this.$track.getBoundingClientRect().width));\r\n\r\n    let viewportStyles = getComputedStyle(this.$track);\r\n    viewportWidth = viewportWidth - (parseFloat(viewportStyles.paddingLeft) + parseFloat(viewportStyles.paddingRight));\r\n\r\n    this.contentWidth = contentWidth;\r\n    this.viewportWidth = viewportWidth;\r\n\r\n    // Split slides into pages\r\n    // ===\r\n    const pages = [];\r\n    const slidesPerPage = this.option(\"slidesPerPage\");\r\n\r\n    if (Number.isInteger(slidesPerPage) && contentWidth > viewportWidth) {\r\n      // Fixed number of slides in the page\r\n      for (let i = 0; i < this.slides.length; i += slidesPerPage) {\r\n        pages.push({\r\n          indexes: indexes.slice(i, i + slidesPerPage),\r\n          slides: this.slides.slice(i, i + slidesPerPage),\r\n        });\r\n      }\r\n    } else {\r\n      // Slides that fit inside viewport\r\n      let currentPage = 0;\r\n      let currentWidth = 0;\r\n\r\n      for (let i = 0; i < this.slides.length; i += 1) {\r\n        let slide = this.slides[i];\r\n\r\n        // Add next page\r\n        if (!pages.length || currentWidth + slide.width > viewportWidth) {\r\n          pages.push({\r\n            indexes: [],\r\n            slides: [],\r\n          });\r\n\r\n          currentPage = pages.length - 1;\r\n          currentWidth = 0;\r\n        }\r\n\r\n        currentWidth += slide.width;\r\n\r\n        pages[currentPage].indexes.push(i);\r\n        pages[currentPage].slides.push(slide);\r\n      }\r\n    }\r\n\r\n    const shouldCenter = this.option(\"center\");\r\n    const shouldFill = this.option(\"fill\");\r\n\r\n    // Calculate width and start position for each page\r\n    // ===\r\n    pages.forEach((page, index) => {\r\n      page.index = index;\r\n      page.width = page.slides.reduce((sum, slide) => sum + slide.width, 0);\r\n\r\n      page.left = page.slides[0].left;\r\n\r\n      if (shouldCenter) {\r\n        page.left += (viewportWidth - page.width) * 0.5 * -1;\r\n      }\r\n\r\n      if (shouldFill && !this.option(\"infiniteX\", this.option(\"infinite\")) && contentWidth > viewportWidth) {\r\n        page.left = Math.max(page.left, 0);\r\n        page.left = Math.min(page.left, contentWidth - viewportWidth);\r\n      }\r\n    });\r\n\r\n    // Merge pages\r\n    // ===\r\n    const rez = [];\r\n    let prevPage;\r\n\r\n    pages.forEach((page2) => {\r\n      const page = { ...page2 };\r\n\r\n      if (prevPage && page.left === prevPage.left) {\r\n        prevPage.width += page.width;\r\n\r\n        prevPage.slides = [...prevPage.slides, ...page.slides];\r\n        prevPage.indexes = [...prevPage.indexes, ...page.indexes];\r\n      } else {\r\n        page.index = rez.length;\r\n\r\n        prevPage = page;\r\n\r\n        rez.push(page);\r\n      }\r\n    });\r\n\r\n    this.pages = rez;\r\n\r\n    let page = this.page;\r\n\r\n    if (page === null) {\r\n      const initialSlide = this.option(\"initialSlide\");\r\n\r\n      if (initialSlide !== null) {\r\n        page = this.findPageForSlide(initialSlide);\r\n      } else {\r\n        page = parseInt(this.option(\"initialPage\", 0), 10) || 0;\r\n      }\r\n\r\n      if (!rez[page]) {\r\n        page = rez.length && page > rez.length ? rez[rez.length - 1].index : 0;\r\n      }\r\n\r\n      this.page = page;\r\n      this.pageIndex = page;\r\n    }\r\n\r\n    this.updatePanzoom();\r\n\r\n    this.trigger(\"refresh\");\r\n  }\r\n\r\n  /**\r\n   * Calculate slide element width (including left, right margins)\r\n   * @param {Object} node\r\n   * @returns {Number} Width in px\r\n   */\r\n  getSlideMetrics(node) {\r\n    if (!node) {\r\n      const firstSlide = this.slides[0];\r\n\r\n      node = document.createElement(\"div\");\r\n\r\n      node.dataset.isTestEl = 1;\r\n      node.style.visibility = \"hidden\";\r\n      node.classList.add(...(this.option(\"prefix\") + this.option(\"classNames.slide\")).split(\" \"));\r\n\r\n      // Assume all slides have the same custom class, if any\r\n      if (firstSlide.customClass) {\r\n        node.classList.add(...firstSlide.customClass.split(\" \"));\r\n      }\r\n\r\n      this.$track.prepend(node);\r\n    }\r\n\r\n    let width = Math.max(node.offsetWidth, round(node.getBoundingClientRect().width));\r\n\r\n    // Add left/right margin\r\n    const style = node.currentStyle || window.getComputedStyle(node);\r\n    width = width + (parseFloat(style.marginLeft) || 0) + (parseFloat(style.marginRight) || 0);\r\n\r\n    if (node.dataset.isTestEl) {\r\n      node.remove();\r\n    }\r\n\r\n    return width;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Integer} index Index of the slide\r\n   * @returns {Integer|null} Index of the page if found, or null\r\n   */\r\n  findPageForSlide(index) {\r\n    index = parseInt(index, 10) || 0;\r\n\r\n    const page = this.pages.find((page) => {\r\n      return page.indexes.indexOf(index) > -1;\r\n    });\r\n\r\n    return page ? page.index : null;\r\n  }\r\n\r\n  /**\r\n   * Slide to next page, if possible\r\n   */\r\n  slideNext() {\r\n    this.slideTo(this.pageIndex + 1);\r\n  }\r\n\r\n  /**\r\n   * Slide to previous page, if possible\r\n   */\r\n  slidePrev() {\r\n    this.slideTo(this.pageIndex - 1);\r\n  }\r\n\r\n  /**\r\n   * Slides carousel to given page\r\n   * @param {Number} page - New index of active page\r\n   * @param {Object} [params] - Additional options\r\n   */\r\n  slideTo(page, params = {}) {\r\n    const { x = this.setPage(page, true) * -1, y = 0, friction = this.option(\"friction\") } = params;\r\n\r\n    if (this.Panzoom.content.x === x && !this.Panzoom.velocity.x && friction) {\r\n      return;\r\n    }\r\n\r\n    this.Panzoom.panTo({\r\n      x,\r\n      y,\r\n      friction,\r\n      ignoreBounds: true,\r\n    });\r\n\r\n    if (this.state === \"ready\" && this.Panzoom.state === \"ready\") {\r\n      this.trigger(\"settle\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initialise main Panzoom instance\r\n   */\r\n  initPanzoom() {\r\n    if (this.Panzoom) {\r\n      this.Panzoom.destroy();\r\n    }\r\n\r\n    // Create fresh object containing options for Pazoom instance\r\n    const options = extend(\r\n      true,\r\n      {},\r\n      {\r\n        // Track element will be set as Panzoom $content\r\n        content: this.$track,\r\n        wrapInner: false,\r\n        resizeParent: false,\r\n\r\n        // Disable any user interaction\r\n        zoom: false,\r\n        click: false,\r\n\r\n        // Right now, only horizontal navigation is supported\r\n        lockAxis: \"x\",\r\n\r\n        x: this.pages.length ? this.pages[this.page].left * -1 : 0,\r\n        centerOnStart: false,\r\n\r\n        // Make `textSelection` option more easy to customize\r\n        textSelection: () => this.option(\"textSelection\", false),\r\n\r\n        // Disable dragging if content (e.g. all slides) fits inside viewport\r\n        panOnlyZoomed: function () {\r\n          return this.content.width <= this.viewport.width;\r\n        },\r\n      },\r\n      this.option(\"Panzoom\")\r\n    );\r\n\r\n    // Create new Panzoom instance\r\n    this.Panzoom = new Panzoom(this.$container, options);\r\n\r\n    this.Panzoom.on({\r\n      // Bubble events\r\n      \"*\": (name, ...details) => this.trigger(`Panzoom.${name}`, ...details),\r\n      // The rest of events to be processed\r\n      afterUpdate: () => {\r\n        this.updatePage();\r\n      },\r\n      beforeTransform: this.onBeforeTransform.bind(this),\r\n      touchEnd: this.onTouchEnd.bind(this),\r\n      endAnimation: () => {\r\n        this.trigger(\"settle\");\r\n      },\r\n    });\r\n\r\n    // The contents of the slides may cause the page scroll bar to appear, so the carousel width may change\r\n    // and slides have to be repositioned\r\n    this.updateMetrics();\r\n    this.manageSlideVisiblity();\r\n  }\r\n\r\n  updatePanzoom() {\r\n    if (!this.Panzoom) {\r\n      return;\r\n    }\r\n\r\n    this.Panzoom.content = {\r\n      ...this.Panzoom.content,\r\n      fitWidth: this.contentWidth,\r\n      origWidth: this.contentWidth,\r\n      width: this.contentWidth,\r\n    };\r\n\r\n    if (this.pages.length > 1 && this.option(\"infiniteX\", this.option(\"infinite\"))) {\r\n      this.Panzoom.boundX = null;\r\n    } else if (this.pages.length) {\r\n      this.Panzoom.boundX = {\r\n        from: this.pages[this.pages.length - 1].left * -1,\r\n        to: this.pages[0].left * -1,\r\n      };\r\n    }\r\n\r\n    if (this.option(\"infiniteY\", this.option(\"infinite\"))) {\r\n      this.Panzoom.boundY = null;\r\n    } else {\r\n      this.Panzoom.boundY = {\r\n        from: 0,\r\n        to: 0,\r\n      };\r\n    }\r\n\r\n    this.Panzoom.handleCursor();\r\n  }\r\n\r\n  manageSlideVisiblity() {\r\n    const contentWidth = this.contentWidth;\r\n    const viewportWidth = this.viewportWidth;\r\n\r\n    let currentX = this.Panzoom ? this.Panzoom.content.x * -1 : this.pages.length ? this.pages[this.page].left : 0;\r\n\r\n    const preload = this.option(\"preload\");\r\n    const infinite = this.option(\"infiniteX\", this.option(\"infinite\"));\r\n\r\n    const paddingLeft = parseFloat(getComputedStyle(this.$viewport, null).getPropertyValue(\"padding-left\"));\r\n    const paddingRight = parseFloat(getComputedStyle(this.$viewport, null).getPropertyValue(\"padding-right\"));\r\n\r\n    // Check visibility of each slide\r\n    this.slides.forEach((slide) => {\r\n      let leftBoundary, rightBoundary;\r\n\r\n      let hasDiff = 0;\r\n\r\n      // #1 - slides in current viewport; this does not include infinite items\r\n      leftBoundary = currentX - paddingLeft;\r\n      rightBoundary = currentX + viewportWidth + paddingRight;\r\n\r\n      leftBoundary -= preload * (viewportWidth + paddingLeft + paddingRight);\r\n      rightBoundary += preload * (viewportWidth + paddingLeft + paddingRight);\r\n\r\n      const insideCurrentInterval = slide.left + slide.width > leftBoundary && slide.left < rightBoundary;\r\n\r\n      // #2 - infinite items inside current viewport; from previous interval\r\n      leftBoundary = currentX + contentWidth - paddingLeft;\r\n      rightBoundary = currentX + contentWidth + viewportWidth + paddingRight;\r\n\r\n      // Include slides that have to be preloaded\r\n      leftBoundary -= preload * (viewportWidth + paddingLeft + paddingRight);\r\n\r\n      const insidePrevInterval = infinite && slide.left + slide.width > leftBoundary && slide.left < rightBoundary;\r\n\r\n      // #2 - infinite items inside current viewport; from next interval\r\n      leftBoundary = currentX - contentWidth - paddingLeft;\r\n      rightBoundary = currentX - contentWidth + viewportWidth + paddingRight;\r\n\r\n      // Include slides that have to be preloaded\r\n      leftBoundary -= preload * (viewportWidth + paddingLeft + paddingRight);\r\n\r\n      const insideNextInterval = infinite && slide.left + slide.width > leftBoundary && slide.left < rightBoundary;\r\n\r\n      // Create virtual slides that should be visible or preloaded, remove others\r\n      if (insidePrevInterval || insideCurrentInterval || insideNextInterval) {\r\n        this.createSlideEl(slide);\r\n\r\n        if (insideCurrentInterval) {\r\n          hasDiff = 0;\r\n        }\r\n\r\n        if (insidePrevInterval) {\r\n          hasDiff = -1;\r\n        }\r\n\r\n        if (insideNextInterval) {\r\n          hasDiff = 1;\r\n        }\r\n\r\n        // Bring preloaded slides back to viewport, if needed\r\n        if (slide.left + slide.width > currentX && slide.left <= currentX + viewportWidth + paddingRight) {\r\n          hasDiff = 0;\r\n        }\r\n      } else {\r\n        this.removeSlideEl(slide);\r\n      }\r\n\r\n      slide.hasDiff = hasDiff;\r\n    });\r\n\r\n    // Reposition slides for continuity\r\n    let nextIndex = 0;\r\n    let nextPos = 0;\r\n\r\n    this.slides.forEach((slide, index) => {\r\n      let updatedX = 0;\r\n\r\n      if (slide.$el) {\r\n        if (index !== nextIndex || slide.hasDiff) {\r\n          updatedX = nextPos + slide.hasDiff * contentWidth;\r\n        } else {\r\n          nextPos = 0;\r\n        }\r\n\r\n        slide.$el.style.left = Math.abs(updatedX) > 0.1 ? `${nextPos + slide.hasDiff * contentWidth}px` : \"\";\r\n\r\n        nextIndex++;\r\n      } else {\r\n        nextPos += slide.width;\r\n      }\r\n    });\r\n\r\n    this.markSelectedSlides();\r\n  }\r\n\r\n  /**\r\n   * Creates main DOM element for virtual slides,\r\n   * lazy loads images inside regular slides\r\n   * @param {Object} slide\r\n   */\r\n  createSlideEl(slide) {\r\n    if (!slide) {\r\n      return;\r\n    }\r\n\r\n    if (slide.$el) {\r\n      let curentIndex = slide.$el.dataset.index;\r\n\r\n      if (!curentIndex || parseInt(curentIndex, 10) !== slide.index) {\r\n        slide.$el.dataset.index = slide.index;\r\n\r\n        // Lazy load images\r\n        // ===\r\n        slide.$el.querySelectorAll(\"[data-lazy-srcset]\").forEach((node) => {\r\n          node.srcset = node.dataset.lazySrcset;\r\n        });\r\n\r\n        slide.$el.querySelectorAll(\"[data-lazy-src]\").forEach((node) => {\r\n          let lazySrc = node.dataset.lazySrc;\r\n\r\n          if (node instanceof HTMLImageElement) {\r\n            node.src = lazySrc;\r\n          } else {\r\n            node.style.backgroundImage = `url('${lazySrc}')`;\r\n          }\r\n        });\r\n\r\n        // Lazy load slide background image\r\n        // ===\r\n        let lazySrc;\r\n\r\n        if ((lazySrc = slide.$el.dataset.lazySrc)) {\r\n          slide.$el.style.backgroundImage = `url('${lazySrc}')`;\r\n        }\r\n\r\n        slide.state = \"ready\";\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    const div = document.createElement(\"div\");\r\n\r\n    div.dataset.index = slide.index;\r\n    div.classList.add(...(this.option(\"prefix\") + this.option(\"classNames.slide\")).split(\" \"));\r\n\r\n    if (slide.customClass) {\r\n      div.classList.add(...slide.customClass.split(\" \"));\r\n    }\r\n\r\n    if (slide.html) {\r\n      div.innerHTML = slide.html;\r\n    }\r\n\r\n    const allElelements = [];\r\n\r\n    this.slides.forEach((slide, index) => {\r\n      if (slide.$el) {\r\n        allElelements.push(index);\r\n      }\r\n    });\r\n\r\n    // Find a place in DOM to insert an element\r\n    const goal = slide.index;\r\n    let refSlide = null;\r\n\r\n    if (allElelements.length) {\r\n      let refIndex = allElelements.reduce((prev, curr) =>\r\n        Math.abs(curr - goal) < Math.abs(prev - goal) ? curr : prev\r\n      );\r\n      refSlide = this.slides[refIndex];\r\n    }\r\n\r\n    this.$track.insertBefore(\r\n      div,\r\n      refSlide && refSlide.$el ? (refSlide.index < slide.index ? refSlide.$el.nextSibling : refSlide.$el) : null\r\n    );\r\n\r\n    slide.$el = div;\r\n\r\n    this.trigger(\"createSlide\", slide, goal);\r\n\r\n    return slide;\r\n  }\r\n\r\n  /**\r\n   * Removes main DOM element of given slide\r\n   * @param {Object} slide\r\n   */\r\n  removeSlideEl(slide) {\r\n    if (slide.$el && !slide.isDom) {\r\n      this.trigger(\"removeSlide\", slide);\r\n\r\n      slide.$el.remove();\r\n      slide.$el = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggles selected class name and aria-hidden attribute for slides based on visibility\r\n   */\r\n  markSelectedSlides() {\r\n    const selectedClass = this.option(\"classNames.slideSelected\");\r\n    const attr = \"aria-hidden\";\r\n\r\n    this.slides.forEach((slide, index) => {\r\n      const $el = slide.$el;\r\n\r\n      if (!$el) {\r\n        return;\r\n      }\r\n\r\n      const page = this.pages[this.page];\r\n\r\n      if (page && page.indexes && page.indexes.indexOf(index) > -1) {\r\n        if (selectedClass && !$el.classList.contains(selectedClass)) {\r\n          $el.classList.add(selectedClass);\r\n          this.trigger(\"selectSlide\", slide);\r\n        }\r\n\r\n        $el.removeAttribute(attr);\r\n      } else {\r\n        if (selectedClass && $el.classList.contains(selectedClass)) {\r\n          $el.classList.remove(selectedClass);\r\n          this.trigger(\"unselectSlide\", slide);\r\n        }\r\n\r\n        $el.setAttribute(attr, true);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Perform all calculations and center current page\r\n   */\r\n  updatePage() {\r\n    this.updateMetrics();\r\n\r\n    this.slideTo(this.page, { friction: 0 });\r\n  }\r\n\r\n  /**\r\n   * Process `Panzoom.beforeTransform` event to remove slides moved out of viewport and\r\n   * to create necessary ones\r\n   */\r\n  onBeforeTransform() {\r\n    if (this.option(\"infiniteX\", this.option(\"infinite\"))) {\r\n      this.manageInfiniteTrack();\r\n    }\r\n\r\n    this.manageSlideVisiblity();\r\n  }\r\n\r\n  /**\r\n   * Seamlessly flip position of infinite carousel, if needed; this way x position stays low\r\n   */\r\n  manageInfiniteTrack() {\r\n    const contentWidth = this.contentWidth;\r\n    const viewportWidth = this.viewportWidth;\r\n\r\n    if (!this.option(\"infiniteX\", this.option(\"infinite\")) || this.pages.length < 2 || contentWidth < viewportWidth) {\r\n      return;\r\n    }\r\n\r\n    const panzoom = this.Panzoom;\r\n\r\n    let isFlipped = false;\r\n\r\n    if (panzoom.content.x < (contentWidth - viewportWidth) * -1) {\r\n      panzoom.content.x += contentWidth;\r\n\r\n      this.pageIndex = this.pageIndex - this.pages.length;\r\n\r\n      isFlipped = true;\r\n    }\r\n\r\n    if (panzoom.content.x > viewportWidth) {\r\n      panzoom.content.x -= contentWidth;\r\n\r\n      this.pageIndex = this.pageIndex + this.pages.length;\r\n\r\n      isFlipped = true;\r\n    }\r\n\r\n    if (isFlipped && panzoom.state === \"pointerdown\") {\r\n      panzoom.resetDragPosition();\r\n    }\r\n\r\n    return isFlipped;\r\n  }\r\n\r\n  /**\r\n   * Process `Panzoom.touchEnd` event; slide to next/prev page if needed\r\n   * @param {object} panzoom\r\n   */\r\n  onTouchEnd(panzoom, event) {\r\n    const dragFree = this.option(\"dragFree\");\r\n\r\n    // If this is a quick horizontal flick, slide to next/prev slide\r\n    if (\r\n      !dragFree &&\r\n      this.pages.length > 1 &&\r\n      panzoom.dragOffset.time < 350 &&\r\n      Math.abs(panzoom.dragOffset.y) < 1 &&\r\n      Math.abs(panzoom.dragOffset.x) > 5\r\n    ) {\r\n      this[panzoom.dragOffset.x < 0 ? \"slideNext\" : \"slidePrev\"]();\r\n      return;\r\n    }\r\n\r\n    // Set the slide at the end of the animation as the current one,\r\n    // or slide to closest page\r\n    if (dragFree) {\r\n      const [, nextPageIndex] = this.getPageFromPosition(panzoom.transform.x * -1);\r\n      this.setPage(nextPageIndex);\r\n    } else {\r\n      this.slideToClosest();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Slides to the closest page (useful, if carousel is changed manually)\r\n   * @param {Object} [params] - Object containing additional options\r\n   */\r\n  slideToClosest(params = {}) {\r\n    let [, nextPageIndex] = this.getPageFromPosition(this.Panzoom.content.x * -1);\r\n\r\n    this.slideTo(nextPageIndex, params);\r\n  }\r\n\r\n  /**\r\n   * Returns index of closest page to given x position\r\n   * @param {Number} xPos\r\n   */\r\n  getPageFromPosition(xPos) {\r\n    const pageCount = this.pages.length;\r\n    const center = this.option(\"center\");\r\n\r\n    if (center) {\r\n      xPos += this.viewportWidth * 0.5;\r\n    }\r\n\r\n    const interval = Math.floor(xPos / this.contentWidth);\r\n\r\n    xPos -= interval * this.contentWidth;\r\n\r\n    let slide = this.slides.find((slide) => slide.left <= xPos && slide.left + slide.width > xPos);\r\n\r\n    if (slide) {\r\n      let pageIndex = this.findPageForSlide(slide.index);\r\n\r\n      return [pageIndex, pageIndex + interval * pageCount];\r\n    }\r\n\r\n    return [0, 0];\r\n  }\r\n\r\n  /**\r\n   * Changes active page\r\n   * @param {Number} page - New index of active page\r\n   * @param {Boolean} toClosest - to closest page based on scroll distance (for infinite navigation)\r\n   */\r\n  setPage(page, toClosest) {\r\n    let nextPosition = 0;\r\n    let pageIndex = parseInt(page, 10) || 0;\r\n\r\n    const prevPage = this.page,\r\n      prevPageIndex = this.pageIndex,\r\n      pageCount = this.pages.length;\r\n\r\n    const contentWidth = this.contentWidth;\r\n    const viewportWidth = this.viewportWidth;\r\n\r\n    page = ((pageIndex % pageCount) + pageCount) % pageCount;\r\n\r\n    if (this.option(\"infiniteX\", this.option(\"infinite\")) && contentWidth > viewportWidth) {\r\n      const nextInterval = Math.floor(pageIndex / pageCount) || 0,\r\n        elemDimWidth = contentWidth;\r\n\r\n      nextPosition = this.pages[page].left + nextInterval * elemDimWidth;\r\n\r\n      if (toClosest === true && pageCount > 2) {\r\n        let currPosition = this.Panzoom.content.x * -1;\r\n\r\n        // * Find closest interval\r\n        const decreasedPosition = nextPosition - elemDimWidth,\r\n          increasedPosition = nextPosition + elemDimWidth,\r\n          diff1 = Math.abs(currPosition - nextPosition),\r\n          diff2 = Math.abs(currPosition - decreasedPosition),\r\n          diff3 = Math.abs(currPosition - increasedPosition);\r\n\r\n        if (diff3 < diff1 && diff3 <= diff2) {\r\n          nextPosition = increasedPosition;\r\n          pageIndex += pageCount;\r\n        } else if (diff2 < diff1 && diff2 < diff3) {\r\n          nextPosition = decreasedPosition;\r\n          pageIndex -= pageCount;\r\n        }\r\n      }\r\n    } else {\r\n      page = pageIndex = Math.max(0, Math.min(pageIndex, pageCount - 1));\r\n\r\n      nextPosition = this.pages.length ? this.pages[page].left : 0;\r\n    }\r\n\r\n    this.page = page;\r\n    this.pageIndex = pageIndex;\r\n\r\n    if (prevPage !== null && page !== prevPage) {\r\n      this.prevPage = prevPage;\r\n      this.prevPageIndex = prevPageIndex;\r\n\r\n      this.trigger(\"change\", page, prevPage);\r\n    }\r\n\r\n    return nextPosition;\r\n  }\r\n\r\n  /**\r\n   * Clean up\r\n   */\r\n  destroy() {\r\n    this.state = \"destroy\";\r\n\r\n    this.slides.forEach((slide) => {\r\n      this.removeSlideEl(slide);\r\n    });\r\n\r\n    this.slides = [];\r\n\r\n    this.Panzoom.destroy();\r\n\r\n    this.detachPlugins();\r\n  }\r\n}\r\n\r\n// Expose version\r\nCarousel.version = \"__VERSION__\";\r\n\r\n// Static properties are a recent addition that dont work in all browsers yet\r\nCarousel.Plugins = Plugins;\r\n","export default {\r\n  NEXT: \"Next slide\",\r\n  PREV: \"Previous slide\",\r\n  GOTO: \"Go to slide #%d\",\r\n};\r\n","import { extend } from \"../../../shared/utils/extend.js\";\nimport { Carousel } from \"../../../Carousel/Carousel.js\";\n\nconst defaults = {\n  // The minimum number of images in the gallery to display thumbnails\n  minSlideCount: 2,\n\n  // Minimum screen height to display thumbnails\n  minScreenHeight: 500,\n\n  // Automatically show thumbnails when opened\n  autoStart: true,\n\n  // Keyboard shortcut to toggle thumbnail container\n  key: \"t\",\n\n  // Customize Carousel instance\n  Carousel: {},\n};\n\nexport class Thumbs {\n  constructor(fancybox) {\n    this.fancybox = fancybox;\n\n    this.$container = null;\n    this.state = \"init\";\n\n    for (const methodName of [\"onPrepare\", \"onClosing\", \"onKeydown\"]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n\n    this.events = {\n      prepare: this.onPrepare,\n      closing: this.onClosing,\n      keydown: this.onKeydown,\n    };\n  }\n\n  /**\n   * Process `prepare` event to build the layout\n   */\n  onPrepare() {\n    // Get slides, skip if the total number is less than the minimum\n    const slides = this.getSlides();\n\n    if (slides.length < this.fancybox.option(\"Thumbs.minSlideCount\")) {\n      this.state = \"disabled\";\n      return;\n    }\n\n    if (\n      this.fancybox.option(\"Thumbs.autoStart\") === true &&\n      this.fancybox.Carousel.Panzoom.content.height >= this.fancybox.option(\"Thumbs.minScreenHeight\")\n    ) {\n      this.build();\n    }\n  }\n\n  /**\n   * Process `closing` event to disable all events\n   */\n  onClosing() {\n    if (this.Carousel) {\n      this.Carousel.Panzoom.detachEvents();\n    }\n  }\n\n  /**\n   * Process `keydown` event to enable thumbnail list toggling using keyboard key\n   * @param {Object} fancybox\n   * @param {String} key\n   */\n  onKeydown(fancybox, key) {\n    if (key === fancybox.option(\"Thumbs.key\")) {\n      this.toggle();\n    }\n  }\n\n  /**\n   * Build layout and init thumbnail Carousel\n   */\n  build() {\n    if (this.$container) {\n      return;\n    }\n\n    // Create wrapping element and append to layout\n    const $container = document.createElement(\"div\");\n\n    $container.classList.add(\"fancybox__thumbs\");\n\n    this.fancybox.$carousel.parentNode.insertBefore($container, this.fancybox.$carousel.nextSibling);\n\n    // Initialise thumbnail carousel with all slides\n    this.Carousel = new Carousel(\n      $container,\n      extend(\n        true,\n        {\n          Dots: false,\n          Navigation: false,\n          Sync: {\n            friction: 0,\n          },\n          infinite: false,\n          center: true,\n          fill: true,\n          dragFree: true,\n          slidesPerPage: 1,\n          preload: 1,\n        },\n        this.fancybox.option(\"Thumbs.Carousel\"),\n        {\n          Sync: {\n            target: this.fancybox.Carousel,\n          },\n          slides: this.getSlides(),\n        }\n      )\n    );\n\n    // Slide carousel on wheel event\n    this.Carousel.Panzoom.on(\"wheel\", (panzoom, event) => {\n      event.preventDefault();\n\n      this.fancybox[event.deltaY < 0 ? \"prev\" : \"next\"]();\n    });\n\n    this.$container = $container;\n\n    this.state = \"visible\";\n  }\n\n  /**\n   * Process all fancybox slides to get all thumbnail images\n   */\n  getSlides() {\n    const slides = [];\n\n    for (const slide of this.fancybox.items) {\n      const thumb = slide.thumb;\n\n      if (thumb) {\n        slides.push({\n          html: `<div class=\"fancybox__thumb\" style=\"background-image:url('${thumb}')\"></div>`,\n          customClass: `has-thumb has-${slide.type || \"image\"}`,\n        });\n      }\n    }\n\n    return slides;\n  }\n\n  /**\n   * Toggle visibility of thumbnail list\n   * Tip: you can use `Fancybox.getInstance().plugins.Thumbs.toggle()` from anywhere in your code\n   */\n  toggle() {\n    if (this.state === \"visible\") {\n      this.hide();\n    } else if (this.state === \"hidden\") {\n      this.show();\n    } else {\n      this.build();\n    }\n  }\n\n  /**\n   * Show thumbnail list\n   */\n  show() {\n    if (this.state === \"hidden\") {\n      this.$container.style.display = \"\";\n\n      this.Carousel.Panzoom.attachEvents();\n\n      this.state = \"visible\";\n    }\n  }\n\n  /**\n   * Hide thumbnail list\n   */\n  hide() {\n    if (this.state === \"visible\") {\n      this.Carousel.Panzoom.detachEvents();\n\n      this.$container.style.display = \"none\";\n\n      this.state = \"hidden\";\n    }\n  }\n\n  /**\n   * Reset the state\n   */\n  cleanup() {\n    if (this.Carousel) {\n      this.Carousel.destroy();\n      this.Carousel = null;\n    }\n\n    if (this.$container) {\n      this.$container.remove();\n      this.$container = null;\n    }\n\n    this.state = \"init\";\n  }\n\n  attach() {\n    this.fancybox.on(this.events);\n  }\n\n  detach() {\n    this.fancybox.off(this.events);\n\n    this.cleanup();\n  }\n}\n\n// Expose defaults\nThumbs.defaults = defaults;\n","import { extend } from \"../../../shared/utils/extend.js\";\n\nconst buildURLQuery = (src, obj) => {\n  const url = new URL(src);\n  const params = new URLSearchParams(url.search);\n\n  let rez = new URLSearchParams();\n\n  for (const [key, value] of [...params, ...Object.entries(obj)]) {\n    // Youtube\n    if (key === \"t\") {\n      rez.set(\"start\", parseInt(value));\n    } else {\n      rez.set(key, value);\n    }\n  }\n\n  // Convert to 'foo=1&bar=2&baz=3'\n  rez = rez.toString();\n\n  // Vimeo\n  // https://vimeo.zendesk.com/hc/en-us/articles/360000121668-Starting-playback-at-a-specific-timecode\n  let matches = src.match(/#t=((.*)?\\d+s)/);\n\n  if (matches) {\n    rez += `#t=${matches[1]}`;\n  }\n\n  return rez;\n};\n\nconst defaults = {\n  // General options for any video content (Youtube, Vimeo, HTML5 video)\n  video: {\n    autoplay: true,\n    ratio: 16 / 9,\n  },\n  // Youtube embed parameters\n  youtube: {\n    autohide: 1,\n    fs: 1,\n    rel: 0,\n    hd: 1,\n    wmode: \"transparent\",\n    enablejsapi: 1,\n    html5: 1,\n  },\n  // Vimeo embed parameters\n  vimeo: {\n    hd: 1,\n    show_title: 1,\n    show_byline: 1,\n    show_portrait: 0,\n    fullscreen: 1,\n  },\n  // HTML5 video parameters\n  html5video: {\n    tpl: `<video class=\"fancybox__html5video\" playsinline controls controlsList=\"nodownload\" poster=\"{{poster}}\">\n  <source src=\"{{src}}\" type=\"{{format}}\" />Sorry, your browser doesn't support embedded videos.</video>`,\n    format: \"\",\n  },\n};\n\nexport class Html {\n  constructor(fancybox) {\n    this.fancybox = fancybox;\n\n    for (const methodName of [\n      \"onInit\",\n      \"onReady\",\n\n      \"onCreateSlide\",\n      \"onRemoveSlide\",\n\n      \"onSelectSlide\",\n      \"onUnselectSlide\",\n\n      \"onRefresh\",\n\n      // For communication with iframed video (youtube/vimeo)\n      \"onMessage\",\n    ]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n\n    this.events = {\n      init: this.onInit,\n      ready: this.onReady,\n\n      \"Carousel.createSlide\": this.onCreateSlide,\n      \"Carousel.removeSlide\": this.onRemoveSlide,\n\n      \"Carousel.selectSlide\": this.onSelectSlide,\n      \"Carousel.unselectSlide\": this.onUnselectSlide,\n\n      \"Carousel.refresh\": this.onRefresh,\n    };\n  }\n\n  /**\n   * Check if each gallery item has type when fancybox starts\n   */\n  onInit() {\n    for (const slide of this.fancybox.items) {\n      this.processType(slide);\n    }\n  }\n\n  /**\n   * Set content type for the slide\n   * @param {Object} slide\n   */\n  processType(slide) {\n    // Add support for `new Fancybox({items : [{html : 'smth'}]});`\n    if (slide.html) {\n      slide.src = slide.html;\n      slide.type = \"html\";\n\n      delete slide.html;\n\n      return;\n    }\n\n    const src = slide.src || \"\";\n\n    let type = slide.type || this.fancybox.options.type,\n      rez = null;\n\n    if (src && typeof src !== \"string\") {\n      return;\n    }\n\n    if (\n      (rez = src.match(\n        /(?:youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(?:watch\\?(?:.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(?:.*)|[\\w-]{11}|\\?listType=(?:.*)&list=(?:.*))(?:.*)/i\n      ))\n    ) {\n      const params = buildURLQuery(src, this.fancybox.option(\"Html.youtube\"));\n      const videoId = encodeURIComponent(rez[1]);\n\n      slide.videoId = videoId;\n      slide.src = `https://www.youtube-nocookie.com/embed/${videoId}?${params}`;\n      slide.thumb = slide.thumb || `https://i.ytimg.com/vi/${videoId}/mqdefault.jpg`;\n      slide.vendor = \"youtube\";\n\n      type = \"video\";\n    } else if ((rez = src.match(/^.+vimeo.com\\/(?:\\/)?([\\d]+)(.*)?/))) {\n      const params = buildURLQuery(src, this.fancybox.option(\"Html.vimeo\"));\n      const videoId = encodeURIComponent(rez[1]);\n\n      slide.videoId = videoId;\n      slide.src = `https://player.vimeo.com/video/${videoId}?${params}`;\n      slide.vendor = \"vimeo\";\n\n      type = \"video\";\n    } else if (\n      (rez = src.match(\n        /(?:maps\\.)?google\\.([a-z]{2,3}(?:\\.[a-z]{2})?)\\/(?:(?:(?:maps\\/(?:place\\/(?:.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(?:\\?ll=))(.*)?/i\n      ))\n    ) {\n      slide.src = `//maps.google.${rez[1]}/?ll=${(rez[2]\n        ? rez[2] + \"&z=\" + Math.floor(rez[3]) + (rez[4] ? rez[4].replace(/^\\//, \"&\") : \"\")\n        : rez[4] + \"\"\n      ).replace(/\\?/, \"&\")}&output=${rez[4] && rez[4].indexOf(\"layer=c\") > 0 ? \"svembed\" : \"embed\"}`;\n\n      type = \"map\";\n    } else if ((rez = src.match(/(?:maps\\.)?google\\.([a-z]{2,3}(?:\\.[a-z]{2})?)\\/(?:maps\\/search\\/)(.*)/i))) {\n      slide.src = `//maps.google.${rez[1]}/maps?q=${rez[2].replace(\"query=\", \"q=\").replace(\"api=1\", \"\")}&output=embed`;\n\n      type = \"map\";\n    }\n\n    // Guess content type\n    if (!type) {\n      if (src.charAt(0) === \"#\") {\n        type = \"inline\";\n      } else if ((rez = src.match(/\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i))) {\n        type = \"html5video\";\n\n        slide.format = slide.format || \"video/\" + (rez[1] === \"ogv\" ? \"ogg\" : rez[1]);\n      } else if (src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)) {\n        type = \"image\";\n      } else if (src.match(/\\.(pdf)((\\?|#).*)?$/i)) {\n        type = \"pdf\";\n      }\n    }\n\n    slide.type = type || this.fancybox.option(\"defaultType\", \"image\");\n\n    if (type === \"html5video\" || type === \"video\") {\n      slide.video = extend({}, this.fancybox.option(\"Html.video\"), slide.video);\n\n      if (slide._width && slide._height) {\n        slide.ratio = parseFloat(slide._width) / parseFloat(slide._height);\n      } else {\n        slide.ratio = slide.ratio || slide.video.ratio || defaults.video.ratio;\n      }\n    }\n  }\n\n  /**\n   * Start loading content when Fancybox is ready\n   */\n  onReady() {\n    this.fancybox.Carousel.slides.forEach((slide) => {\n      if (slide.$el) {\n        this.setContent(slide);\n\n        if (slide.index === this.fancybox.getSlide().index) {\n          this.playVideo(slide);\n        }\n      }\n    });\n  }\n\n  /**\n   * Process `Carousel.createSlide` event to create image content\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onCreateSlide(fancybox, carousel, slide) {\n    if (this.fancybox.state !== \"ready\") {\n      return;\n    }\n\n    this.setContent(slide);\n  }\n\n  /**\n   * Retrieve and set slide content\n   * @param {Object} slide\n   */\n  loadInlineContent(slide) {\n    let $content;\n\n    if (slide.src instanceof HTMLElement) {\n      $content = slide.src;\n    } else if (typeof slide.src === \"string\") {\n      const tmp = slide.src.split(\"#\", 2);\n      const id = tmp.length === 2 && tmp[0] === \"\" ? tmp[1] : tmp[0];\n\n      $content = document.getElementById(id);\n    }\n\n    if ($content) {\n      if (slide.type === \"clone\" || $content.$placeHolder) {\n        $content = $content.cloneNode(true);\n        let attrId = $content.getAttribute(\"id\");\n\n        attrId = attrId ? `${attrId}--clone` : `clone-${this.fancybox.id}-${slide.index}`;\n\n        $content.setAttribute(\"id\", attrId);\n      } else {\n        const $placeHolder = document.createElement(\"div\");\n        $placeHolder.classList.add(\"fancybox-placeholder\");\n        $content.parentNode.insertBefore($placeHolder, $content);\n        $content.$placeHolder = $placeHolder;\n      }\n\n      this.fancybox.setContent(slide, $content);\n    } else {\n      this.fancybox.setError(slide, \"{{ELEMENT_NOT_FOUND}}\");\n    }\n  }\n\n  /**\n   * Makes AJAX request and sets response as slide content\n   * @param {Object} slide\n   */\n  loadAjaxContent(slide) {\n    const fancybox = this.fancybox;\n    const xhr = new XMLHttpRequest();\n\n    fancybox.showLoading(slide);\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState === XMLHttpRequest.DONE) {\n        if (fancybox.state === \"ready\") {\n          fancybox.hideLoading(slide);\n\n          if (xhr.status === 200) {\n            fancybox.setContent(slide, xhr.responseText);\n          } else {\n            fancybox.setError(slide, xhr.status === 404 ? \"{{AJAX_NOT_FOUND}}\" : \"{{AJAX_FORBIDDEN}}\");\n          }\n        }\n      }\n    };\n\n    xhr.open(\"GET\", slide.src);\n    xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n    xhr.send(slide.ajax || null);\n\n    slide.xhr = xhr;\n  }\n\n  /**\n   * Creates iframe as slide content, preloads if needed before displaying\n   * @param {Object} slide\n   */\n  loadIframeContent(slide) {\n    const fancybox = this.fancybox;\n    const $iframe = document.createElement(\"iframe\");\n\n    $iframe.className = \"fancybox__iframe\";\n\n    $iframe.setAttribute(\"id\", `fancybox__iframe_${fancybox.id}_${slide.index}`);\n\n    $iframe.setAttribute(\"allow\", \"autoplay; fullscreen\");\n    $iframe.setAttribute(\"scrolling\", \"auto\");\n\n    slide.$iframe = $iframe;\n\n    if (slide.type !== \"iframe\" || slide.preload === false) {\n      $iframe.setAttribute(\"src\", slide.src);\n\n      this.fancybox.setContent(slide, $iframe);\n\n      this.resizeIframe(slide);\n\n      return;\n    }\n\n    fancybox.showLoading(slide);\n\n    const $content = document.createElement(\"div\");\n    $content.style.visibility = \"hidden\";\n\n    this.fancybox.setContent(slide, $content);\n\n    $content.appendChild($iframe);\n\n    $iframe.onerror = () => {\n      fancybox.setError(slide, \"{{IFRAME_ERROR}}\");\n    };\n\n    $iframe.onload = () => {\n      fancybox.hideLoading(slide);\n\n      let isFirstLoad = false;\n\n      if (!$iframe.isReady) {\n        $iframe.isReady = true;\n        isFirstLoad = true;\n      }\n\n      if (!$iframe.src.length) {\n        return;\n      }\n\n      $iframe.parentNode.style.visibility = \"\";\n\n      this.resizeIframe(slide);\n\n      if (isFirstLoad) {\n        fancybox.revealContent(slide);\n      }\n    };\n\n    $iframe.setAttribute(\"src\", slide.src);\n  }\n\n  /**\n   * Set CSS max/min width/height properties of the content to have the correct aspect ratio\n   * @param {Object} slide\n   */\n  setAspectRatio(slide) {\n    const $content = slide.$content;\n    const ratio = slide.ratio;\n\n    if (!$content) {\n      return;\n    }\n\n    let width = slide._width;\n    let height = slide._height;\n\n    if (ratio || (width && height)) {\n      Object.assign($content.style, {\n        width: width && height ? \"100%\" : \"\",\n        height: width && height ? \"100%\" : \"\",\n        maxWidth: \"\",\n        maxHeight: \"\",\n      });\n\n      let maxWidth = $content.offsetWidth;\n      let maxHeight = $content.offsetHeight;\n\n      width = width || maxWidth;\n      height = height || maxHeight;\n\n      // Resize to fit\n      if (width > maxWidth || height > maxHeight) {\n        let maxRatio = Math.min(maxWidth / width, maxHeight / height);\n\n        width = width * maxRatio;\n        height = height * maxRatio;\n      }\n\n      // Recheck ratio\n      if (Math.abs(width / height - ratio) > 0.01) {\n        if (ratio < width / height) {\n          width = height * ratio;\n        } else {\n          height = width / ratio;\n        }\n      }\n\n      Object.assign($content.style, {\n        width: `${width}px`,\n        height: `${height}px`,\n      });\n    }\n  }\n\n  /**\n   * Adjust the width and height of the iframe according to the content dimensions, or defined sizes\n   * @param {Object} slide\n   */\n  resizeIframe(slide) {\n    const $iframe = slide.$iframe;\n\n    if (!$iframe) {\n      return;\n    }\n\n    let width_ = slide._width || 0;\n    let height_ = slide._height || 0;\n\n    if (width_ && height_) {\n      slide.autoSize = false;\n    }\n\n    const $parent = $iframe.parentNode;\n    const parentStyle = $parent.style;\n\n    if (slide.preload !== false && slide.autoSize !== false) {\n      try {\n        const compStyles = window.getComputedStyle($parent),\n          paddingX = parseFloat(compStyles.paddingLeft) + parseFloat(compStyles.paddingRight),\n          paddingY = parseFloat(compStyles.paddingTop) + parseFloat(compStyles.paddingBottom);\n\n        const document = $iframe.contentWindow.document,\n          $html = document.getElementsByTagName(\"html\")[0],\n          $body = document.body;\n\n        // Allow content to expand horizontally\n        parentStyle.width = \"\";\n\n        // Get rid of vertical scrollbar\n        $body.style.overflow = \"hidden\";\n\n        width_ = width_ || $html.scrollWidth + paddingX;\n\n        parentStyle.width = `${width_}px`;\n\n        $body.style.overflow = \"\";\n\n        parentStyle.flex = \"0 0 auto\";\n        parentStyle.height = `${$body.scrollHeight}px`;\n\n        height_ = $html.scrollHeight + paddingY;\n      } catch (error) {\n        //\n      }\n    }\n\n    if (width_ || height_) {\n      const newStyle = {\n        flex: \"0 1 auto\",\n      };\n\n      if (width_) {\n        newStyle.width = `${width_}px`;\n      }\n\n      if (height_) {\n        newStyle.height = `${height_}px`;\n      }\n\n      Object.assign(parentStyle, newStyle);\n    }\n  }\n\n  /**\n   * Process `Carousel.onRefresh` event,\n   * trigger iframe autosizing and set content aspect ratio for each slide\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   */\n  onRefresh(fancybox, carousel) {\n    carousel.slides.forEach((slide) => {\n      if (!slide.$el) {\n        return;\n      }\n\n      if (slide.$iframe) {\n        this.resizeIframe(slide);\n      }\n\n      if (slide.ratio) {\n        this.setAspectRatio(slide);\n      }\n    });\n  }\n\n  /**\n   * Process `Carousel.onCreateSlide` event to set content\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  setContent(slide) {\n    if (!slide || slide.isDom) {\n      return;\n    }\n\n    switch (slide.type) {\n      case \"html\":\n        this.fancybox.setContent(slide, slide.src);\n        break;\n\n      case \"html5video\":\n        this.fancybox.setContent(\n          slide,\n          this.fancybox\n            .option(\"Html.html5video.tpl\")\n            .replace(/\\{\\{src\\}\\}/gi, slide.src)\n            .replace(\"{{format}}\", slide.format || (slide.html5video && slide.html5video.format) || \"\")\n            .replace(\"{{poster}}\", slide.poster || slide.thumb || \"\")\n        );\n\n        break;\n\n      case \"inline\":\n      case \"clone\":\n        this.loadInlineContent(slide);\n        break;\n\n      case \"ajax\":\n        this.loadAjaxContent(slide);\n        break;\n\n      case \"pdf\":\n      case \"video\":\n      case \"map\":\n        slide.preload = false;\n\n      case \"iframe\":\n        this.loadIframeContent(slide);\n\n        break;\n    }\n\n    if (slide.ratio) {\n      this.setAspectRatio(slide);\n    }\n  }\n\n  /**\n   * Process `Carousel.onSelectSlide` event to start video\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onSelectSlide(fancybox, carousel, slide) {\n    if (fancybox.state === \"ready\") {\n      this.playVideo(slide);\n    }\n  }\n\n  /**\n   * Attempts to begin playback of the media\n   * @param {Object} slide\n   */\n  playVideo(slide) {\n    if (slide.type === \"html5video\" && slide.video.autoplay) {\n      try {\n        const $video = slide.$el.querySelector(\"video\");\n\n        if ($video) {\n          const promise = $video.play();\n\n          if (promise !== undefined) {\n            promise\n              .then(() => {\n                // Autoplay started\n              })\n              .catch((error) => {\n                // Autoplay was prevented.\n                $video.muted = true;\n                $video.play();\n              });\n          }\n        }\n      } catch (err) {}\n    }\n\n    if (slide.type !== \"video\" || !(slide.$iframe && slide.$iframe.contentWindow)) {\n      return;\n    }\n\n    // This function will be repeatedly called to check\n    // if video iframe has been loaded to send message to start the video\n    const poller = () => {\n      if (slide.state === \"done\" && slide.$iframe && slide.$iframe.contentWindow) {\n        let command;\n\n        if (slide.$iframe.isReady) {\n          if (slide.video && slide.video.autoplay) {\n            if (slide.vendor == \"youtube\") {\n              command = {\n                event: \"command\",\n                func: \"playVideo\",\n              };\n            } else {\n              command = {\n                method: \"play\",\n                value: \"true\",\n              };\n            }\n          }\n\n          if (command) {\n            slide.$iframe.contentWindow.postMessage(JSON.stringify(command), \"*\");\n          }\n\n          return;\n        }\n\n        if (slide.vendor === \"youtube\") {\n          command = {\n            event: \"listening\",\n            id: slide.$iframe.getAttribute(\"id\"),\n          };\n\n          slide.$iframe.contentWindow.postMessage(JSON.stringify(command), \"*\");\n        }\n      }\n\n      slide.poller = setTimeout(poller, 250);\n    };\n\n    poller();\n  }\n\n  /**\n   * Process `Carousel.onUnselectSlide` event to pause video\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onUnselectSlide(fancybox, carousel, slide) {\n    if (slide.type === \"html5video\") {\n      try {\n        slide.$el.querySelector(\"video\").pause();\n      } catch (error) {}\n\n      return;\n    }\n\n    let command = false;\n\n    if (slide.vendor == \"vimeo\") {\n      command = {\n        method: \"pause\",\n        value: \"true\",\n      };\n    } else if (slide.vendor === \"youtube\") {\n      command = {\n        event: \"command\",\n        func: \"pauseVideo\",\n      };\n    }\n\n    if (command && slide.$iframe && slide.$iframe.contentWindow) {\n      slide.$iframe.contentWindow.postMessage(JSON.stringify(command), \"*\");\n    }\n\n    clearTimeout(slide.poller);\n  }\n\n  /**\n   * Process `Carousel.onRemoveSlide` event to do clean up\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onRemoveSlide(fancybox, carousel, slide) {\n    // Abort ajax request if exists\n    if (slide.xhr) {\n      slide.xhr.abort();\n      slide.xhr = null;\n    }\n\n    // Unload iframe content if exists\n    if (slide.$iframe) {\n      slide.$iframe.onload = slide.$iframe.onerror = null;\n\n      slide.$iframe.src = \"//about:blank\";\n      slide.$iframe = null;\n    }\n\n    // Clear inline content\n    const $content = slide.$content;\n\n    if (slide.type === \"inline\" && $content) {\n      $content.classList.remove(\"fancybox__content\");\n\n      if ($content.style.display !== \"none\") {\n        $content.style.display = \"none\";\n      }\n    }\n\n    if (slide.$closeButton) {\n      slide.$closeButton.remove();\n      slide.$closeButton = null;\n    }\n\n    const $placeHolder = $content && $content.$placeHolder;\n\n    if ($placeHolder) {\n      $placeHolder.parentNode.insertBefore($content, $placeHolder);\n      $placeHolder.remove();\n      $content.$placeHolder = null;\n    }\n  }\n\n  /**\n   * Process `window.message` event to mark video iframe element as `ready`\n   * @param {Object} e - Event\n   */\n  onMessage(e) {\n    try {\n      let data = JSON.parse(e.data);\n\n      if (e.origin === \"https://player.vimeo.com\") {\n        if (data.event === \"ready\") {\n          for (let $iframe of document.getElementsByClassName(\"fancybox__iframe\")) {\n            if ($iframe.contentWindow === e.source) {\n              $iframe.isReady = 1;\n            }\n          }\n        }\n      } else if (e.origin === \"https://www.youtube-nocookie.com\") {\n        if (data.event === \"onReady\") {\n          document.getElementById(data.id).isReady = 1;\n        }\n      }\n    } catch (ex) {}\n  }\n\n  attach() {\n    this.fancybox.on(this.events);\n\n    window.addEventListener(\"message\", this.onMessage, false);\n  }\n\n  detach() {\n    this.fancybox.off(this.events);\n\n    window.removeEventListener(\"message\", this.onMessage, false);\n  }\n}\n\n// Expose defaults\nHtml.defaults = defaults;\n","import { extend } from \"../../../shared/utils/extend.js\";\r\n\r\nimport { Panzoom } from \"../../../Panzoom/Panzoom.js\";\r\n\r\nconst defaults = {\r\n  // Class name for slide element indicating that content can be zoomed in\r\n  canZoomInClass: \"can-zoom_in\",\r\n\r\n  // Class name for slide element indicating that content can be zoomed out\r\n  canZoomOutClass: \"can-zoom_out\",\r\n\r\n  // Do zoom animation from thumbnail image when starting or closing fancybox\r\n  zoom: true,\r\n\r\n  // Animate opacity while zooming\r\n  zoomOpacity: \"auto\", // \"auto\" | true | false,\r\n\r\n  // Zoom animation friction\r\n  zoomFriction: 0.82,\r\n\r\n  // Disable zoom animation if thumbnail is visible only partly\r\n  ignoreCoveredThumbnail: false,\r\n\r\n  // Enable guestures\r\n  touch: true,\r\n\r\n  // Action to be performed when user clicks on the image\r\n  click: \"toggleZoom\", // \"toggleZoom\" | \"next\" | \"close\" | null\r\n\r\n  // Action to be performed when double-click event is detected on the image\r\n  doubleClick: null, // \"toggleZoom\" | null\r\n\r\n  // Action to be performed when user rotates a wheel button on a pointing device\r\n  wheel: \"zoom\", // \"zoom\" | \"slide\" | \"close\" | null\r\n\r\n  // How image should be resized to fit its container\r\n  fit: \"contain\", // \"contain\" | \"contain-w\" | \"cover\"\r\n\r\n  // Should create wrapping element around the image\r\n  wrap: false,\r\n\r\n  // Custom Panzoom options\r\n  Panzoom: {\r\n    ratio: 1,\r\n  },\r\n};\r\n\r\nexport class Image {\r\n  constructor(fancybox) {\r\n    this.fancybox = fancybox;\r\n\r\n    for (const methodName of [\r\n      // Fancybox\r\n      \"onReady\",\r\n      \"onClosing\",\r\n      \"onDone\",\r\n\r\n      // Fancybox.Carousel\r\n      \"onPageChange\",\r\n      \"onCreateSlide\",\r\n      \"onRemoveSlide\",\r\n\r\n      // Image load/error\r\n      \"onImageStatusChange\",\r\n    ]) {\r\n      this[methodName] = this[methodName].bind(this);\r\n    }\r\n\r\n    this.events = {\r\n      ready: this.onReady,\r\n      closing: this.onClosing,\r\n      done: this.onDone,\r\n\r\n      \"Carousel.change\": this.onPageChange,\r\n      \"Carousel.createSlide\": this.onCreateSlide,\r\n      \"Carousel.removeSlide\": this.onRemoveSlide,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Handle `ready` event to start loading content\r\n   */\r\n  onReady() {\r\n    this.fancybox.Carousel.slides.forEach((slide) => {\r\n      if (slide.$el) {\r\n        this.setContent(slide);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handle `done` event to update cursor\r\n   * @param {Object} fancybox\r\n   * @param {Object} slide\r\n   */\r\n  onDone(fancybox, slide) {\r\n    this.handleCursor(slide);\r\n  }\r\n\r\n  /**\r\n   * Handle `closing` event to clean up all slides and to start zoom-out animation\r\n   * @param {Object} fancybox\r\n   */\r\n  onClosing(fancybox) {\r\n    clearTimeout(this.clickTimer);\r\n    this.clickTimer = null;\r\n\r\n    // Remove events\r\n    fancybox.Carousel.slides.forEach((slide) => {\r\n      if (slide.$image) {\r\n        slide.state = \"destroy\";\r\n      }\r\n\r\n      if (slide.Panzoom) {\r\n        slide.Panzoom.detachEvents();\r\n      }\r\n    });\r\n\r\n    // If possible, start the zoom animation, it will interrupt the default closing process\r\n    if (this.fancybox.state === \"closing\" && this.canZoom(fancybox.getSlide())) {\r\n      this.zoomOut();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Process `Carousel.createSlide` event to create image content\r\n   * @param {Object} fancybox\r\n   * @param {Object} carousel\r\n   * @param {Object} slide\r\n   */\r\n  onCreateSlide(fancybox, carousel, slide) {\r\n    if (this.fancybox.state !== \"ready\") {\r\n      return;\r\n    }\r\n\r\n    this.setContent(slide);\r\n  }\r\n\r\n  /**\r\n   * Handle `Carousel.removeSlide` event to do clean up the slide\r\n   * @param {Object} fancybox\r\n   * @param {Object} carousel\r\n   * @param {Object} slide\r\n   */\r\n  onRemoveSlide(fancybox, carousel, slide) {\r\n    if (slide.$image) {\r\n      slide.$el.classList.remove(fancybox.option(\"Image.canZoomInClass\"));\r\n\r\n      slide.$image.remove();\r\n      slide.$image = null;\r\n    }\r\n\r\n    if (slide.Panzoom) {\r\n      slide.Panzoom.destroy();\r\n      slide.Panzoom = null;\r\n    }\r\n\r\n    if (slide.$el && slide.$el.dataset) {\r\n      delete slide.$el.dataset.imageFit;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Build DOM elements and add event listeners\r\n   * @param {Object} slide\r\n   */\r\n  setContent(slide) {\r\n    // Check if this slide should contain an image\r\n    if (slide.isDom || slide.html || (slide.type && slide.type !== \"image\")) {\r\n      return;\r\n    }\r\n\r\n    if (slide.$image) {\r\n      return;\r\n    }\r\n\r\n    slide.type = \"image\";\r\n    slide.state = \"loading\";\r\n\r\n    // * Build layout\r\n    // Container\r\n    const $content = document.createElement(\"div\");\r\n    $content.style.visibility = \"hidden\";\r\n\r\n    // Image element\r\n    const $image = document.createElement(\"img\");\r\n\r\n    $image.addEventListener(\"load\", (event) => {\r\n      event.stopImmediatePropagation();\r\n\r\n      this.onImageStatusChange(slide);\r\n    });\r\n\r\n    $image.addEventListener(\"error\", () => {\r\n      this.onImageStatusChange(slide);\r\n    });\r\n\r\n    $image.src = slide.src;\r\n    $image.alt = \"\";\r\n    $image.draggable = false;\r\n\r\n    $image.classList.add(\"fancybox__image\");\r\n\r\n    if (slide.srcset) {\r\n      $image.setAttribute(\"srcset\", slide.srcset);\r\n    }\r\n\r\n    if (slide.sizes) {\r\n      $image.setAttribute(\"sizes\", slide.sizes);\r\n    }\r\n\r\n    slide.$image = $image;\r\n\r\n    const shouldWrap = this.fancybox.option(\"Image.wrap\");\r\n\r\n    if (shouldWrap) {\r\n      const $wrap = document.createElement(\"div\");\r\n      $wrap.classList.add(typeof shouldWrap === \"string\" ? shouldWrap : \"fancybox__image-wrap\");\r\n\r\n      $wrap.appendChild($image);\r\n\r\n      $content.appendChild($wrap);\r\n\r\n      slide.$wrap = $wrap;\r\n    } else {\r\n      $content.appendChild($image);\r\n    }\r\n\r\n    // Set data attribute if other that default\r\n    // for example, set `[data-image-fit=\"contain-w\"]`\r\n    slide.$el.dataset.imageFit = this.fancybox.option(\"Image.fit\");\r\n\r\n    // Append content\r\n    this.fancybox.setContent(slide, $content);\r\n\r\n    // Display loading icon\r\n    if ($image.complete || $image.error) {\r\n      this.onImageStatusChange(slide);\r\n    } else {\r\n      this.fancybox.showLoading(slide);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle image state change, display error or start revealing image\r\n   * @param {Object} slide\r\n   */\r\n  onImageStatusChange(slide) {\r\n    const $image = slide.$image;\r\n\r\n    if (!$image || slide.state !== \"loading\") {\r\n      return;\r\n    }\r\n\r\n    if (!($image.complete && $image.naturalWidth && $image.naturalHeight)) {\r\n      this.fancybox.setError(slide, \"{{IMAGE_ERROR}}\");\r\n\r\n      return;\r\n    }\r\n\r\n    this.fancybox.hideLoading(slide);\r\n\r\n    if (this.fancybox.option(\"Image.fit\") === \"contain\") {\r\n      this.initSlidePanzoom(slide);\r\n    }\r\n\r\n    // Add `wheel` and `click` event handler\r\n    slide.$el.addEventListener(\"wheel\", (event) => this.onWheel(slide, event), { passive: false });\r\n    slide.$content.addEventListener(\"click\", (event) => this.onClick(slide, event), { passive: false });\r\n\r\n    this.revealContent(slide);\r\n  }\r\n\r\n  /**\r\n   * Make image zoomable and draggable using Panzoom\r\n   * @param {Object} slide\r\n   */\r\n  initSlidePanzoom(slide) {\r\n    if (slide.Panzoom) {\r\n      return;\r\n    }\r\n\r\n    //* Initialize Panzoom\r\n    slide.Panzoom = new Panzoom(\r\n      slide.$el,\r\n      extend(true, this.fancybox.option(\"Image.Panzoom\", {}), {\r\n        viewport: slide.$wrap,\r\n        content: slide.$image,\r\n\r\n        width: slide._width,\r\n        height: slide._height,\r\n\r\n        wrapInner: false,\r\n\r\n        // Allow to select caption text\r\n        textSelection: true,\r\n\r\n        // Toggle gestures\r\n        touch: this.fancybox.option(\"Image.touch\"),\r\n\r\n        // This will prevent click conflict with fancybox main carousel\r\n        panOnlyZoomed: true,\r\n\r\n        // Disable default click / wheel events as custom event listeners will replace them,\r\n        // because click and wheel events should work without Panzoom\r\n        click: false,\r\n        wheel: false,\r\n      })\r\n    );\r\n\r\n    slide.Panzoom.on(\"startAnimation\", () => {\r\n      this.fancybox.trigger(\"Image.startAnimation\", slide);\r\n    });\r\n\r\n    slide.Panzoom.on(\"endAnimation\", () => {\r\n      if (slide.state === \"zoomIn\") {\r\n        this.fancybox.done(slide);\r\n      }\r\n\r\n      this.handleCursor(slide);\r\n\r\n      this.fancybox.trigger(\"Image.endAnimation\", slide);\r\n    });\r\n\r\n    slide.Panzoom.on(\"afterUpdate\", () => {\r\n      this.handleCursor(slide);\r\n\r\n      this.fancybox.trigger(\"Image.afterUpdate\", slide);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Start zoom-in animation if possible, or simply reveal content\r\n   * @param {Object} slide\r\n   */\r\n  revealContent(slide) {\r\n    // Animate only on first run\r\n    if (\r\n      this.fancybox.Carousel.prevPage === null &&\r\n      slide.index === this.fancybox.options.startIndex &&\r\n      this.canZoom(slide)\r\n    ) {\r\n      this.zoomIn();\r\n    } else {\r\n      this.fancybox.revealContent(slide);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get zoom info for selected slide\r\n   * @param {Object} slide\r\n   */\r\n  getZoomInfo(slide) {\r\n    const $thumb = slide.$thumb,\r\n      thumbRect = $thumb.getBoundingClientRect(),\r\n      thumbWidth = thumbRect.width,\r\n      thumbHeight = thumbRect.height,\r\n      //\r\n      contentRect = slide.$content.getBoundingClientRect(),\r\n      contentWidth = contentRect.width,\r\n      contentHeight = contentRect.height,\r\n      //\r\n      shiftedTop = contentRect.top - thumbRect.top,\r\n      shiftedLeft = contentRect.left - thumbRect.left;\r\n\r\n    // Check if need to update opacity\r\n    let opacity = this.fancybox.option(\"Image.zoomOpacity\");\r\n\r\n    if (opacity === \"auto\") {\r\n      opacity = Math.abs(thumbWidth / thumbHeight - contentWidth / contentHeight) > 0.1;\r\n    }\r\n\r\n    return {\r\n      top: shiftedTop,\r\n      left: shiftedLeft,\r\n      scale: contentWidth && thumbWidth ? thumbWidth / contentWidth : 1,\r\n      opacity: opacity,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Determine if it is possible to do zoom-in animation\r\n   */\r\n  canZoom(slide) {\r\n    const fancybox = this.fancybox,\r\n      $container = fancybox.$container;\r\n\r\n    if (window.visualViewport && window.visualViewport.scale !== 1) {\r\n      return false;\r\n    }\r\n\r\n    if (slide.Panzoom && !slide.Panzoom.content.width) {\r\n      return false;\r\n    }\r\n\r\n    if (!fancybox.option(\"Image.zoom\") || fancybox.option(\"Image.fit\") !== \"contain\") {\r\n      return false;\r\n    }\r\n\r\n    const $thumb = slide.$thumb;\r\n\r\n    if (!$thumb || slide.state === \"loading\") {\r\n      return false;\r\n    }\r\n\r\n    // * Check if thumbnail image is really visible\r\n    $container.classList.add(\"fancybox__no-click\");\r\n\r\n    const rect = $thumb.getBoundingClientRect();\r\n\r\n    let rez;\r\n\r\n    // Check if thumbnail image is actually visible on the screen\r\n    if (this.fancybox.option(\"Image.ignoreCoveredThumbnail\")) {\r\n      const visibleTopLeft = document.elementFromPoint(rect.left + 1, rect.top + 1) === $thumb;\r\n      const visibleBottomRight = document.elementFromPoint(rect.right - 1, rect.bottom - 1) === $thumb;\r\n\r\n      rez = visibleTopLeft && visibleBottomRight;\r\n    } else {\r\n      rez = document.elementFromPoint(rect.left + rect.width * 0.5, rect.top + rect.height * 0.5) === $thumb;\r\n    }\r\n\r\n    $container.classList.remove(\"fancybox__no-click\");\r\n\r\n    return rez;\r\n  }\r\n\r\n  /**\r\n   * Perform zoom-in animation\r\n   */\r\n  zoomIn() {\r\n    const fancybox = this.fancybox,\r\n      slide = fancybox.getSlide(),\r\n      Panzoom = slide.Panzoom;\r\n\r\n    const { top, left, scale, opacity } = this.getZoomInfo(slide);\r\n\r\n    fancybox.trigger(\"reveal\", slide);\r\n\r\n    // Scale and move to start position\r\n    Panzoom.panTo({\r\n      x: left * -1,\r\n      y: top * -1,\r\n      scale: scale,\r\n      friction: 0,\r\n      ignoreBounds: true,\r\n    });\r\n\r\n    slide.$content.style.visibility = \"\";\r\n\r\n    slide.state = \"zoomIn\";\r\n\r\n    if (opacity === true) {\r\n      Panzoom.on(\"afterTransform\", (panzoom) => {\r\n        if (slide.state === \"zoomIn\" || slide.state === \"zoomOut\") {\r\n          panzoom.$content.style.opacity = Math.min(1, 1 - (1 - panzoom.content.scale) / (1 - scale));\r\n        }\r\n      });\r\n    }\r\n\r\n    // Animate back to original position\r\n    Panzoom.panTo({\r\n      x: 0,\r\n      y: 0,\r\n      scale: 1,\r\n      friction: this.fancybox.option(\"Image.zoomFriction\"),\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Perform zoom-out animation\r\n   */\r\n  zoomOut() {\r\n    const fancybox = this.fancybox,\r\n      slide = fancybox.getSlide(),\r\n      Panzoom = slide.Panzoom;\r\n\r\n    if (!Panzoom) {\r\n      return;\r\n    }\r\n\r\n    slide.state = \"zoomOut\";\r\n    fancybox.state = \"customClosing\";\r\n\r\n    if (slide.$caption) {\r\n      slide.$caption.style.visibility = \"hidden\";\r\n    }\r\n\r\n    let friction = this.fancybox.option(\"Image.zoomFriction\");\r\n\r\n    const animatePosition = (event) => {\r\n      const { top, left, scale, opacity } = this.getZoomInfo(slide);\r\n\r\n      // Increase speed on the first run if opacity is not animated\r\n      if (!event && !opacity) {\r\n        friction *= 0.82;\r\n      }\r\n\r\n      Panzoom.panTo({\r\n        x: left * -1,\r\n        y: top * -1,\r\n        scale,\r\n        friction,\r\n        ignoreBounds: true,\r\n      });\r\n\r\n      // Gradually increase speed\r\n      friction *= 0.98;\r\n    };\r\n\r\n    // Page scrolling will cause thumbnail to change position on the display,\r\n    // therefore animation end position has to be recalculated after each page scroll\r\n    window.addEventListener(\"scroll\", animatePosition);\r\n\r\n    Panzoom.once(\"endAnimation\", () => {\r\n      window.removeEventListener(\"scroll\", animatePosition);\r\n      fancybox.destroy();\r\n    });\r\n\r\n    animatePosition();\r\n  }\r\n\r\n  /**\r\n   * Set the type of mouse cursor to indicate if content is zoomable\r\n   * @param {Object} slide\r\n   */\r\n  handleCursor(slide) {\r\n    if (slide.type !== \"image\" || !slide.$el) {\r\n      return;\r\n    }\r\n\r\n    const panzoom = slide.Panzoom;\r\n    const clickAction = this.fancybox.option(\"Image.click\", false, slide);\r\n    const touchIsEnabled = this.fancybox.option(\"Image.touch\");\r\n\r\n    const classList = slide.$el.classList;\r\n\r\n    const zoomInClass = this.fancybox.option(\"Image.canZoomInClass\");\r\n    const zoomOutClass = this.fancybox.option(\"Image.canZoomOutClass\");\r\n\r\n    classList.remove(zoomOutClass);\r\n    classList.remove(zoomInClass);\r\n\r\n    if (panzoom && clickAction === \"toggleZoom\") {\r\n      const canZoomIn =\r\n        panzoom && panzoom.content.scale === 1 && panzoom.option(\"maxScale\") - panzoom.content.scale > 0.01;\r\n\r\n      if (canZoomIn) {\r\n        classList.add(zoomInClass);\r\n      } else if (panzoom.content.scale > 1 && !touchIsEnabled) {\r\n        classList.add(zoomOutClass);\r\n      }\r\n    } else if (clickAction === \"close\") {\r\n      classList.add(zoomOutClass);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle `wheel` event\r\n   * @param {Object} slide\r\n   * @param {Object} event\r\n   */\r\n  onWheel(slide, event) {\r\n    if (this.fancybox.state !== \"ready\") {\r\n      return;\r\n    }\r\n\r\n    if (this.fancybox.trigger(\"Image.wheel\", event) === false) {\r\n      return;\r\n    }\r\n\r\n    switch (this.fancybox.option(\"Image.wheel\")) {\r\n      case \"zoom\":\r\n        if (slide.state === \"done\") {\r\n          slide.Panzoom && slide.Panzoom.zoomWithWheel(event);\r\n        }\r\n\r\n        break;\r\n\r\n      case \"close\":\r\n        this.fancybox.close();\r\n\r\n        break;\r\n\r\n      case \"slide\":\r\n        this.fancybox[event.deltaY < 0 ? \"prev\" : \"next\"]();\r\n\r\n        break;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle `click` and `dblclick` events\r\n   * @param {Object} slide\r\n   * @param {Object} event\r\n   */\r\n  onClick(slide, event) {\r\n    // Check that clicks should be allowed\r\n    if (this.fancybox.state !== \"ready\") {\r\n      return;\r\n    }\r\n\r\n    const panzoom = slide.Panzoom;\r\n\r\n    if (\r\n      panzoom &&\r\n      (panzoom.dragPosition.midPoint ||\r\n        panzoom.dragOffset.x !== 0 ||\r\n        panzoom.dragOffset.y !== 0 ||\r\n        panzoom.dragOffset.scale !== 1)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    if (this.fancybox.Carousel.Panzoom.lockAxis) {\r\n      return false;\r\n    }\r\n\r\n    const process = (action) => {\r\n      switch (action) {\r\n        case \"toggleZoom\":\r\n          event.stopPropagation();\r\n\r\n          slide.Panzoom && slide.Panzoom.zoomWithClick(event);\r\n\r\n          break;\r\n\r\n        case \"close\":\r\n          this.fancybox.close();\r\n\r\n          break;\r\n\r\n        case \"next\":\r\n          event.stopPropagation();\r\n\r\n          this.fancybox.next();\r\n\r\n          break;\r\n      }\r\n    };\r\n\r\n    const clickAction = this.fancybox.option(\"Image.click\");\r\n    const dblclickAction = this.fancybox.option(\"Image.doubleClick\");\r\n\r\n    if (dblclickAction) {\r\n      if (this.clickTimer) {\r\n        clearTimeout(this.clickTimer);\r\n        this.clickTimer = null;\r\n\r\n        process(dblclickAction);\r\n      } else {\r\n        this.clickTimer = setTimeout(() => {\r\n          this.clickTimer = null;\r\n          process(clickAction);\r\n        }, 300);\r\n      }\r\n    } else {\r\n      process(clickAction);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle `Carousel.change` event to reset zoom level for any zoomed in/out content\r\n   * and to revel content of the current page\r\n   * @param {Object} fancybox\r\n   * @param {Object} carousel\r\n   */\r\n  onPageChange(fancybox, carousel) {\r\n    const currSlide = fancybox.getSlide();\r\n\r\n    carousel.slides.forEach((slide) => {\r\n      if (!slide.Panzoom || slide.state !== \"done\") {\r\n        return;\r\n      }\r\n\r\n      if (slide.index !== currSlide.index) {\r\n        slide.Panzoom.panTo({\r\n          x: 0,\r\n          y: 0,\r\n          scale: 1,\r\n          friction: 0.8,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  attach() {\r\n    this.fancybox.on(this.events);\r\n  }\r\n\r\n  detach() {\r\n    this.fancybox.off(this.events);\r\n  }\r\n}\r\n\r\n// Expose defaults\r\nImage.defaults = defaults;\r\n","import { canUseDOM } from \"../../../shared/utils/canUseDOM.js\";\n\nexport class Hash {\n  constructor(fancybox) {\n    this.fancybox = fancybox;\n\n    for (const methodName of [\"onChange\", \"onClosing\"]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n\n    this.events = {\n      initCarousel: this.onChange,\n      \"Carousel.change\": this.onChange,\n      closing: this.onClosing,\n    };\n\n    this.hasCreatedHistory = false;\n    this.origHash = \"\";\n    this.timer = null;\n  }\n\n  /**\n   * Process `Carousel.ready` and `Carousel.change` events to update URL hash\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   */\n  onChange(fancybox) {\n    const carousel = fancybox.Carousel;\n\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n\n    const firstRun = carousel.prevPage === null;\n    const currentSlide = fancybox.getSlide();\n\n    const currentHash = new URL(document.URL).hash;\n\n    let newHash = false;\n\n    if (currentSlide.slug) {\n      newHash = \"#\" + currentSlide.slug;\n    } else {\n      const dataset = currentSlide.$trigger && currentSlide.$trigger.dataset;\n      const slug = fancybox.option(\"slug\") || (dataset && dataset.fancybox);\n\n      if (slug && slug.length && slug !== \"true\") {\n        newHash = \"#\" + slug + (carousel.slides.length > 1 ? \"-\" + (currentSlide.index + 1) : \"\");\n      }\n    }\n\n    if (firstRun) {\n      this.origHash = currentHash !== newHash ? currentHash : \"\";\n    }\n\n    if (newHash && currentHash !== newHash) {\n      this.timer = setTimeout(() => {\n        try {\n          window.history[firstRun ? \"pushState\" : \"replaceState\"](\n            {},\n            document.title,\n            window.location.pathname + window.location.search + newHash\n          );\n\n          if (firstRun) {\n            this.hasCreatedHistory = true;\n          }\n        } catch (e) {}\n      }, 300);\n    }\n  }\n\n  /**\n   * Process `closing` event to clean up\n   */\n  onClosing() {\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n\n    // Skip if closing is triggered by pressing  browser back button or by changing hash manually\n    if (this.hasSilentClose === true) {\n      return;\n    }\n\n    // Restore original url\n    try {\n      window.history.replaceState(\n        {},\n        document.title,\n        window.location.pathname + window.location.search + (this.origHash || \"\")\n      );\n\n      return;\n    } catch (e) {}\n  }\n\n  attach(fancybox) {\n    fancybox.on(this.events);\n  }\n\n  detach(fancybox) {\n    fancybox.off(this.events);\n  }\n\n  /**\n   * Start fancybox from current URL hash,\n   * this will be called on page load OR/AND after changing URL hash\n   * @param {Class} Fancybox\n   */\n  static startFromUrl() {\n    const Fancybox = Hash.Fancybox;\n\n    if (!Fancybox || Fancybox.getInstance() || Fancybox.defaults.Hash === false) {\n      return;\n    }\n\n    const { hash, slug, index } = Hash.getParsedURL();\n\n    if (!slug) {\n      return;\n    }\n\n    // Support custom slug\n    // ===\n    let selectedElem = document.querySelector(`[data-slug=\"${hash}\"]`);\n\n    if (selectedElem) {\n      selectedElem.dispatchEvent(new CustomEvent(\"click\", { bubbles: true, cancelable: true }));\n    }\n\n    if (Fancybox.getInstance()) {\n      return;\n    }\n\n    // If elements are not found by custom slug, use URL hash value as group name\n    // ===\n    const groupElems = document.querySelectorAll(`[data-fancybox=\"${slug}\"]`);\n\n    if (!groupElems.length) {\n      return;\n    }\n\n    if (index === null && groupElems.length === 1) {\n      selectedElem = groupElems[0];\n    } else if (index) {\n      selectedElem = groupElems[index - 1];\n    }\n\n    if (selectedElem) {\n      selectedElem.dispatchEvent(new CustomEvent(\"click\", { bubbles: true, cancelable: true }));\n    }\n  }\n\n  /**\n   * Handle `hash` change, change gallery item to current index or start/close current instance\n   */\n  static onHashChange() {\n    const { slug, index } = Hash.getParsedURL();\n\n    const Fancybox = Hash.Fancybox;\n    const instance = Fancybox && Fancybox.getInstance();\n\n    if (instance && instance.plugins.Hash) {\n      // Check if hash matches currently active gallery\n      if (slug) {\n        const carousel = instance.Carousel;\n\n        /**\n         * Support manually opened gallery\n         */\n        if (slug === instance.option(\"slug\")) {\n          return carousel.slideTo(index - 1);\n        }\n\n        /**\n         * Check if URL hash matches `data-slug` value of active element\n         */\n        for (let slide of carousel.slides) {\n          if (slide.slug && slide.slug === slug) {\n            return carousel.slideTo(slide.index);\n          }\n        }\n\n        /**\n         * Check if URL hash matches `data-fancybox` value of active element\n         */\n        const slide = instance.getSlide();\n        const dataset = slide.$trigger && slide.$trigger.dataset;\n\n        if (dataset && dataset.fancybox === slug) {\n          return carousel.slideTo(index - 1);\n        }\n      }\n\n      /**\n       * Close if no matching element found\n       */\n      instance.plugins.Hash.hasSilentClose = true;\n\n      instance.close();\n    }\n\n    /**\n     * Attempt to start\n     */\n    Hash.startFromUrl();\n  }\n\n  /**\n   * Add event bindings that will start new Fancybox instance based in the current URL\n   */\n  static create(Fancybox) {\n    Hash.Fancybox = Fancybox;\n\n    function proceed() {\n      window.addEventListener(\"hashchange\", Hash.onHashChange, false);\n\n      Hash.startFromUrl();\n    }\n\n    if (canUseDOM) {\n      window.requestAnimationFrame(() => {\n        if (/complete|interactive|loaded/.test(document.readyState)) {\n          proceed();\n        } else {\n          document.addEventListener(\"DOMContentLoaded\", proceed);\n        }\n      });\n    }\n  }\n\n  static destroy() {\n    window.removeEventListener(\"hashchange\", Hash.onHashChange, false);\n  }\n\n  /**\n   * Helper method to split URL hash into useful pieces\n   */\n  static getParsedURL() {\n    const hash = window.location.hash.substr(1),\n      tmp = hash.split(\"-\"),\n      index = tmp.length > 1 && /^\\+?\\d+$/.test(tmp[tmp.length - 1]) ? parseInt(tmp.pop(-1), 10) || null : null,\n      slug = tmp.join(\"-\");\n\n    return {\n      hash,\n      slug,\n      index,\n    };\n  }\n}\n","export const Fullscreen = {\r\n  pageXOffset: 0,\r\n  pageYOffset: 0,\r\n\r\n  element() {\r\n    return document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement;\r\n  },\r\n\r\n  activate(element) {\r\n    Fullscreen.pageXOffset = window.pageXOffset;\r\n    Fullscreen.pageYOffset = window.pageYOffset;\r\n\r\n    if (element.requestFullscreen) {\r\n      element.requestFullscreen(); // W3C spec\r\n    } else if (element.mozRequestFullScreen) {\r\n      element.mozRequestFullScreen(); // Firefox\r\n    } else if (element.webkitRequestFullscreen) {\r\n      element.webkitRequestFullscreen(); // Safari\r\n    } else if (element.msRequestFullscreen) {\r\n      element.msRequestFullscreen(); // IE/Edge\r\n    }\r\n  },\r\n\r\n  deactivate() {\r\n    if (document.exitFullscreen) {\r\n      document.exitFullscreen();\r\n    } else if (document.mozCancelFullScreen) {\r\n      document.mozCancelFullScreen();\r\n    } else if (document.webkitExitFullscreen) {\r\n      document.webkitExitFullscreen();\r\n    }\r\n  },\r\n};\r\n","export class Slideshow {\r\n  constructor(fancybox) {\r\n    this.fancybox = fancybox;\r\n    this.active = false;\r\n\r\n    this.handleVisibilityChange = this.handleVisibilityChange.bind(this);\r\n  }\r\n\r\n  isActive() {\r\n    return this.active;\r\n  }\r\n\r\n  setTimer() {\r\n    if (!this.active || this.timer) {\r\n      return;\r\n    }\r\n\r\n    const delay = this.fancybox.option(\"slideshow.delay\", 3000);\r\n\r\n    this.timer = setTimeout(() => {\r\n      this.timer = null;\r\n\r\n      if (\r\n        !this.fancybox.option(\"infinite\") &&\r\n        this.fancybox.getSlide().index === this.fancybox.Carousel.slides.length - 1\r\n      ) {\r\n        this.fancybox.jumpTo(0, { friction: 0 });\r\n      } else {\r\n        this.fancybox.next();\r\n      }\r\n    }, delay);\r\n\r\n    let $progress = this.$progress;\r\n\r\n    if (!$progress) {\r\n      $progress = document.createElement(\"div\");\r\n      $progress.classList.add(\"fancybox__progress\");\r\n\r\n      this.fancybox.$carousel.parentNode.insertBefore($progress, this.fancybox.$carousel);\r\n\r\n      this.$progress = $progress;\r\n\r\n      $progress.offsetHeight; /* trigger reflow */\r\n    }\r\n\r\n    $progress.style.transitionDuration = `${delay}ms`;\r\n    $progress.style.transform = \"scaleX(1)\";\r\n  }\r\n\r\n  clearTimer() {\r\n    clearTimeout(this.timer);\r\n    this.timer = null;\r\n\r\n    if (this.$progress) {\r\n      this.$progress.style.transitionDuration = \"\";\r\n      this.$progress.style.transform = \"\";\r\n\r\n      this.$progress.offsetHeight; /* trigger reflow */\r\n    }\r\n  }\r\n\r\n  activate() {\r\n    if (this.active) {\r\n      return;\r\n    }\r\n\r\n    this.active = true;\r\n    this.fancybox.$container.classList.add(\"has-slideshow\");\r\n\r\n    if (this.fancybox.getSlide().state === \"done\") {\r\n      this.setTimer();\r\n    }\r\n\r\n    document.addEventListener(\"visibilitychange\", this.handleVisibilityChange, false);\r\n  }\r\n\r\n  handleVisibilityChange() {\r\n    this.deactivate();\r\n  }\r\n\r\n  deactivate() {\r\n    this.active = false;\r\n\r\n    this.clearTimer();\r\n\r\n    this.fancybox.$container.classList.remove(\"has-slideshow\");\r\n\r\n    document.removeEventListener(\"visibilitychange\", this.handleVisibilityChange, false);\r\n  }\r\n\r\n  toggle() {\r\n    if (this.active) {\r\n      this.deactivate();\r\n    } else if (this.fancybox.Carousel.slides.length > 1) {\r\n      this.activate();\r\n    }\r\n  }\r\n}\r\n","import { isPlainObject } from \"../../../shared/utils/isPlainObject.js\";\r\nimport { extend } from \"../../../shared/utils/extend.js\";\r\n\r\nimport { Fullscreen } from \"../../../shared/utils/Fullscreen.js\";\r\nimport { Slideshow } from \"../../../shared/utils/Slideshow.js\";\r\n\r\nconst defaults = {\r\n  // What toolbar items to display\r\n  display: [\r\n    \"counter\",\r\n    //\"prev\",\r\n    //\"next\",\r\n    //\"download\",\r\n    \"zoom\",\r\n    \"slideshow\",\r\n    \"fullscreen\",\r\n    \"thumbs\",\r\n    \"close\",\r\n  ],\r\n\r\n  // Only create a toolbar item if there is at least one image in the group\r\n  autoEnable: true,\r\n\r\n  // Toolbar items; can be links, buttons or `div` elements\r\n  items: {\r\n    counter: {\r\n      position: \"left\",\r\n      type: \"div\",\r\n      class: \"fancybox__counter\",\r\n      html: '<span data-fancybox-index=\"\"></span>&nbsp;/&nbsp;<span data-fancybox-count=\"\"></span>',\r\n      attr: { tabindex: -1 },\r\n    },\r\n    prev: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--prev\",\r\n      label: \"PREV\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><path d=\"M15 4l-8 8 8 8\"/></svg>',\r\n      attr: { \"data-fancybox-prev\": \"\" },\r\n    },\r\n    next: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--next\",\r\n      label: \"NEXT\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><path d=\"M8 4l8 8-8 8\"/></svg>',\r\n      attr: { \"data-fancybox-next\": \"\" },\r\n    },\r\n    fullscreen: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--fullscreen\",\r\n      label: \"TOGGLE_FULLSCREEN\",\r\n      html: `<svg viewBox=\"0 0 24 24\">\r\n                <g><path d=\"M3 8 V3h5\"></path><path d=\"M21 8V3h-5\"></path><path d=\"M8 21H3v-5\"></path><path d=\"M16 21h5v-5\"></path></g>\r\n                <g><path d=\"M7 2v5H2M17 2v5h5M2 17h5v5M22 17h-5v5\"/></g>\r\n            </svg>`,\r\n      click: function (event) {\r\n        event.preventDefault();\r\n\r\n        if (Fullscreen.element()) {\r\n          Fullscreen.deactivate();\r\n        } else {\r\n          Fullscreen.activate(this.fancybox.$container);\r\n        }\r\n      },\r\n    },\r\n    slideshow: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--slideshow\",\r\n      label: \"TOGGLE_SLIDESHOW\",\r\n      html: `<svg viewBox=\"0 0 24 24\">\r\n                <g><path d=\"M6 4v16\"/><path d=\"M20 12L6 20\"/><path d=\"M20 12L6 4\"/></g>\r\n                <g><path d=\"M7 4v15M17 4v15\"/></g>\r\n            </svg>`,\r\n      click: function (event) {\r\n        event.preventDefault();\r\n\r\n        this.Slideshow.toggle();\r\n      },\r\n    },\r\n    zoom: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--zoom\",\r\n      label: \"TOGGLE_ZOOM\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><circle cx=\"10\" cy=\"10\" r=\"7\"></circle><path d=\"M16 16 L21 21\"></svg>',\r\n      click: function (event) {\r\n        event.preventDefault();\r\n\r\n        const panzoom = this.fancybox.getSlide().Panzoom;\r\n\r\n        if (panzoom) {\r\n          panzoom.toggleZoom();\r\n        }\r\n      },\r\n    },\r\n    download: {\r\n      type: \"link\",\r\n      label: \"DOWNLOAD\",\r\n      class: \"fancybox__button--download\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><path d=\"M12 15V3m0 12l-4-4m4 4l4-4M2 17l.62 2.48A2 2 0 004.56 21h14.88a2 2 0 001.94-1.51L22 17\"/></svg>',\r\n      click: function (event) {\r\n        event.stopPropagation();\r\n      },\r\n    },\r\n    thumbs: {\r\n      type: \"button\",\r\n      label: \"TOGGLE_THUMBS\",\r\n      class: \"fancybox__button--thumbs\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><circle cx=\"4\" cy=\"4\" r=\"1\" /><circle cx=\"12\" cy=\"4\" r=\"1\" transform=\"rotate(90 12 4)\"/><circle cx=\"20\" cy=\"4\" r=\"1\" transform=\"rotate(90 20 4)\"/><circle cx=\"4\" cy=\"12\" r=\"1\" transform=\"rotate(90 4 12)\"/><circle cx=\"12\" cy=\"12\" r=\"1\" transform=\"rotate(90 12 12)\"/><circle cx=\"20\" cy=\"12\" r=\"1\" transform=\"rotate(90 20 12)\"/><circle cx=\"4\" cy=\"20\" r=\"1\" transform=\"rotate(90 4 20)\"/><circle cx=\"12\" cy=\"20\" r=\"1\" transform=\"rotate(90 12 20)\"/><circle cx=\"20\" cy=\"20\" r=\"1\" transform=\"rotate(90 20 20)\"/></svg>',\r\n      click: function (event) {\r\n        event.stopPropagation();\r\n\r\n        const thumbs = this.fancybox.plugins.Thumbs;\r\n\r\n        if (thumbs) {\r\n          thumbs.toggle();\r\n        }\r\n      },\r\n    },\r\n    close: {\r\n      type: \"button\",\r\n      label: \"CLOSE\",\r\n      class: \"fancybox__button--close\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><path d=\"M20 20L4 4m16 0L4 20\"></path></svg>',\r\n      attr: { \"data-fancybox-close\": \"\", tabindex: 0 },\r\n    },\r\n  },\r\n};\r\n\r\nexport class Toolbar {\r\n  constructor(fancybox) {\r\n    this.fancybox = fancybox;\r\n\r\n    this.$container = null;\r\n    this.state = \"init\";\r\n\r\n    for (const methodName of [\r\n      \"onInit\",\r\n      \"onPrepare\",\r\n      \"onDone\",\r\n      \"onKeydown\",\r\n      \"onClosing\",\r\n      \"onChange\",\r\n      \"onSettle\",\r\n      \"onRefresh\",\r\n    ]) {\r\n      this[methodName] = this[methodName].bind(this);\r\n    }\r\n\r\n    this.events = {\r\n      init: this.onInit,\r\n      prepare: this.onPrepare,\r\n      done: this.onDone,\r\n      keydown: this.onKeydown,\r\n      closing: this.onClosing,\r\n\r\n      // Clear Slideshow when user strts to change current slide\r\n      \"Carousel.change\": this.onChange,\r\n\r\n      // Set timer after carousel changes current slide; deactive if last slide is reached\r\n      \"Carousel.settle\": this.onSettle,\r\n\r\n      // Deactivate Slideshow on user interaction\r\n      \"Carousel.Panzoom.touchStart\": () => this.onRefresh(),\r\n\r\n      \"Image.startAnimation\": (fancybox, slide) => this.onRefresh(slide),\r\n      \"Image.afterUpdate\": (fancybox, slide) => this.onRefresh(slide),\r\n    };\r\n  }\r\n\r\n  onInit() {\r\n    // Disable self if current group does not contain at least one image\r\n    if (this.fancybox.option(\"Toolbar.autoEnable\")) {\r\n      let hasImage = false;\r\n\r\n      for (const item of this.fancybox.items) {\r\n        if (item.type === \"image\") {\r\n          hasImage = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (!hasImage) {\r\n        this.state = \"disabled\";\r\n        return;\r\n      }\r\n    }\r\n\r\n    // Disable the creation of a close button, if one exists in the toolbar\r\n    for (const key of this.fancybox.option(\"Toolbar.display\")) {\r\n      const id = isPlainObject(key) ? key.id : key;\r\n\r\n      if (id === \"close\") {\r\n        this.fancybox.options.closeButton = false;\r\n\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  onPrepare() {\r\n    const fancybox = this.fancybox;\r\n    // Skip if disabled\r\n    if (this.state !== \"init\") {\r\n      return;\r\n    }\r\n\r\n    this.build();\r\n\r\n    this.update();\r\n\r\n    this.Slideshow = new Slideshow(fancybox);\r\n\r\n    if (!fancybox.Carousel.prevPage) {\r\n      if (fancybox.option(\"slideshow.autoStart\")) {\r\n        this.Slideshow.activate();\r\n      }\r\n\r\n      if (fancybox.option(\"fullscreen.autoStart\") && !Fullscreen.element()) {\r\n        try {\r\n          Fullscreen.activate(fancybox.$container);\r\n        } catch (error) {}\r\n      }\r\n    }\r\n  }\r\n\r\n  onFsChange() {\r\n    window.scrollTo(Fullscreen.pageXOffset, Fullscreen.pageYOffset);\r\n  }\r\n\r\n  onSettle() {\r\n    const fancybox = this.fancybox;\r\n    const slideshow = this.Slideshow;\r\n\r\n    if (slideshow && slideshow.isActive()) {\r\n      if (fancybox.getSlide().index === fancybox.Carousel.slides.length - 1 && !fancybox.option(\"infinite\")) {\r\n        slideshow.deactivate();\r\n      } else if (fancybox.getSlide().state === \"done\") {\r\n        slideshow.setTimer();\r\n      }\r\n    }\r\n  }\r\n\r\n  onChange() {\r\n    this.update();\r\n\r\n    if (this.Slideshow && this.Slideshow.isActive()) {\r\n      this.Slideshow.clearTimer();\r\n    }\r\n  }\r\n\r\n  onDone(fancybox, slide) {\r\n    const slideshow = this.Slideshow;\r\n\r\n    if (slide.index === fancybox.getSlide().index) {\r\n      this.update();\r\n\r\n      if (slideshow && slideshow.isActive()) {\r\n        if (!fancybox.option(\"infinite\") && slide.index === fancybox.Carousel.slides.length - 1) {\r\n          slideshow.deactivate();\r\n        } else {\r\n          slideshow.setTimer();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onRefresh(slide) {\r\n    if (!slide || slide.index === this.fancybox.getSlide().index) {\r\n      this.update();\r\n\r\n      if (this.Slideshow && this.Slideshow.isActive() && (!slide || slide.state === \"done\")) {\r\n        this.Slideshow.deactivate();\r\n      }\r\n    }\r\n  }\r\n\r\n  onKeydown(fancybox, key, event) {\r\n    if (key === \" \" && this.Slideshow) {\r\n      this.Slideshow.toggle();\r\n\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  onClosing() {\r\n    if (this.Slideshow) {\r\n      this.Slideshow.deactivate();\r\n    }\r\n\r\n    document.removeEventListener(\"fullscreenchange\", this.onFsChange);\r\n  }\r\n\r\n  /**\r\n   * Create link, button or `div` element for the toolbar\r\n   * @param {Object} obj\r\n   * @returns HTMLElement\r\n   */\r\n  createElement(obj) {\r\n    let $el;\r\n\r\n    if (obj.type === \"div\") {\r\n      $el = document.createElement(\"div\");\r\n    } else {\r\n      $el = document.createElement(obj.type === \"link\" ? \"a\" : \"button\");\r\n      $el.classList.add(\"carousel__button\");\r\n    }\r\n\r\n    $el.innerHTML = obj.html;\r\n\r\n    $el.setAttribute(\"tabindex\", obj.tabindex || 0);\r\n\r\n    if (obj.class) {\r\n      $el.classList.add(...obj.class.split(\" \"));\r\n    }\r\n\r\n    for (const prop in obj.attr) {\r\n      $el.setAttribute(prop, obj.attr[prop]);\r\n    }\r\n\r\n    if (obj.label) {\r\n      $el.setAttribute(\"title\", this.fancybox.localize(`{{${obj.label}}}`));\r\n    }\r\n\r\n    if (obj.click) {\r\n      $el.addEventListener(\"click\", obj.click.bind(this));\r\n    }\r\n\r\n    if (obj.id === \"prev\") {\r\n      $el.setAttribute(\"data-fancybox-prev\", \"\");\r\n    }\r\n\r\n    if (obj.id === \"next\") {\r\n      $el.setAttribute(\"data-fancybox-next\", \"\");\r\n    }\r\n\r\n    const $svg = $el.querySelector(\"svg\");\r\n\r\n    if ($svg) {\r\n      $svg.setAttribute(\"role\", \"img\");\r\n      $svg.setAttribute(\"tabindex\", \"-1\");\r\n      $svg.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\r\n    }\r\n\r\n    return $el;\r\n  }\r\n\r\n  /**\r\n   * Create all DOM elements\r\n   */\r\n  build() {\r\n    this.cleanup();\r\n\r\n    const all_items = this.fancybox.option(\"Toolbar.items\");\r\n    const all_groups = [\r\n      {\r\n        position: \"left\",\r\n        items: [],\r\n      },\r\n      {\r\n        position: \"center\",\r\n        items: [],\r\n      },\r\n      {\r\n        position: \"right\",\r\n        items: [],\r\n      },\r\n    ];\r\n\r\n    const thumbs = this.fancybox.plugins.Thumbs;\r\n\r\n    // 1st step - group toolbar elements by position\r\n    for (const key of this.fancybox.option(\"Toolbar.display\")) {\r\n      let id, item;\r\n\r\n      if (isPlainObject(key)) {\r\n        id = key.id;\r\n        item = extend({}, all_items[id], key);\r\n      } else {\r\n        id = key;\r\n        item = all_items[id];\r\n      }\r\n\r\n      if ([\"counter\", \"next\", \"prev\", \"slideshow\"].includes(id) && this.fancybox.items.length < 2) {\r\n        continue;\r\n      }\r\n\r\n      if (id === \"fullscreen\") {\r\n        if (!document.fullscreenEnabled || window.fullScreen) {\r\n          continue;\r\n        }\r\n\r\n        document.addEventListener(\"fullscreenchange\", this.onFsChange);\r\n      }\r\n\r\n      if (id === \"thumbs\" && (!thumbs || thumbs.state === \"disabled\")) {\r\n        continue;\r\n      }\r\n\r\n      if (!item) {\r\n        continue;\r\n      }\r\n\r\n      let position = item.position || \"right\";\r\n\r\n      let group = all_groups.find((obj) => obj.position === position);\r\n\r\n      if (group) {\r\n        group.items.push(item);\r\n      }\r\n    }\r\n\r\n    // 2st step - create DOM elements\r\n    const $container = document.createElement(\"div\");\r\n    $container.classList.add(\"fancybox__toolbar\");\r\n\r\n    for (const group of all_groups) {\r\n      if (group.items.length) {\r\n        const $wrap = document.createElement(\"div\");\r\n        $wrap.classList.add(\"fancybox__toolbar__items\");\r\n        $wrap.classList.add(`fancybox__toolbar__items--${group.position}`);\r\n\r\n        for (const obj of group.items) {\r\n          $wrap.appendChild(this.createElement(obj));\r\n        }\r\n\r\n        $container.appendChild($wrap);\r\n      }\r\n    }\r\n\r\n    // Add toolbar container to DOM\r\n    this.fancybox.$carousel.parentNode.insertBefore($container, this.fancybox.$carousel);\r\n\r\n    this.$container = $container;\r\n  }\r\n\r\n  /**\r\n   * Update element state depending on index of current slide\r\n   */\r\n  update() {\r\n    const slide = this.fancybox.getSlide();\r\n    const idx = slide.index;\r\n    const cnt = this.fancybox.items.length;\r\n\r\n    // Download links\r\n    // ====\r\n    const src = slide.downloadSrc || (slide.type === \"image\" && !slide.error ? slide.src : null);\r\n\r\n    for (const $el of this.fancybox.$container.querySelectorAll(\"a.fancybox__button--download\")) {\r\n      if (src) {\r\n        $el.removeAttribute(\"disabled\");\r\n        $el.removeAttribute(\"tabindex\");\r\n\r\n        $el.setAttribute(\"href\", src);\r\n        $el.setAttribute(\"download\", src);\r\n        $el.setAttribute(\"target\", \"_blank\");\r\n      } else {\r\n        $el.setAttribute(\"disabled\", \"\");\r\n        $el.setAttribute(\"tabindex\", -1);\r\n\r\n        $el.removeAttribute(\"href\");\r\n        $el.removeAttribute(\"download\");\r\n      }\r\n    }\r\n\r\n    // Zoom button\r\n    // ===\r\n    const panzoom = slide.Panzoom;\r\n    const canZoom = panzoom && panzoom.option(\"maxScale\") > panzoom.option(\"baseScale\");\r\n\r\n    for (const $el of this.fancybox.$container.querySelectorAll(\".fancybox__button--zoom\")) {\r\n      if (canZoom) {\r\n        $el.removeAttribute(\"disabled\");\r\n      } else {\r\n        $el.setAttribute(\"disabled\", \"\");\r\n      }\r\n    }\r\n\r\n    // Counter\r\n    // ====\r\n    for (const $el of this.fancybox.$container.querySelectorAll(\"[data-fancybox-index]\")) {\r\n      $el.innerHTML = slide.index + 1;\r\n    }\r\n\r\n    for (const $el of this.fancybox.$container.querySelectorAll(\"[data-fancybox-count]\")) {\r\n      $el.innerHTML = cnt;\r\n    }\r\n\r\n    // Disable previous/next links if gallery is not infinite and has reached start/end\r\n    // ===\r\n    if (!this.fancybox.option(\"infinite\")) {\r\n      for (const $el of this.fancybox.$container.querySelectorAll(\"[data-fancybox-prev]\")) {\r\n        if (idx === 0) {\r\n          $el.setAttribute(\"disabled\", \"\");\r\n        } else {\r\n          $el.removeAttribute(\"disabled\");\r\n        }\r\n      }\r\n\r\n      for (const $el of this.fancybox.$container.querySelectorAll(\"[data-fancybox-next]\")) {\r\n        if (idx === cnt - 1) {\r\n          $el.setAttribute(\"disabled\", \"\");\r\n        } else {\r\n          $el.removeAttribute(\"disabled\");\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  cleanup() {\r\n    if (this.Slideshow && this.Slideshow.isActive()) {\r\n      this.Slideshow.clearTimer();\r\n    }\r\n\r\n    if (this.$container) {\r\n      this.$container.remove();\r\n    }\r\n\r\n    this.$container = null;\r\n  }\r\n\r\n  attach() {\r\n    this.fancybox.on(this.events);\r\n  }\r\n\r\n  detach() {\r\n    this.fancybox.off(this.events);\r\n\r\n    this.cleanup();\r\n  }\r\n}\r\n\r\n// Expose defaults\r\nToolbar.defaults = defaults;\r\n","import { ScrollLock } from \"./ScrollLock/ScrollLock.js\";\nimport { Thumbs } from \"./Thumbs/Thumbs.js\";\nimport { Html } from \"./Html/Html.js\";\nimport { Image } from \"./Image/Image.js\";\nimport { Hash } from \"./Hash/Hash.js\";\nimport { Toolbar } from \"./Toolbar/Toolbar.js\";\n\nexport const Plugins = {\n  ScrollLock,\n  Thumbs,\n  Html,\n  Toolbar,\n  Image,\n  Hash,\n};\n","import { isScrollable } from \"../../../../src/shared/utils/isScrollable.js\";\n\nexport class ScrollLock {\n  constructor(fancybox) {\n    this.fancybox = fancybox;\n    this.viewport = null;\n\n    this.pendingUpdate = null;\n\n    for (const methodName of [\"onReady\", \"onResize\", \"onTouchstart\", \"onTouchmove\"]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n  }\n\n  /**\n   * Process `initLayout` event to attach event listeners and resize viewport if needed\n   */\n  onReady() {\n    //* Support Visual Viewport API\n    // https://developer.mozilla.org/en-US/docs/Web/API/Visual_Viewport_API\n    const viewport = window.visualViewport;\n\n    if (viewport) {\n      this.viewport = viewport;\n      this.startY = 0;\n\n      viewport.addEventListener(\"resize\", this.onResize);\n\n      this.updateViewport();\n    }\n\n    //* Prevent bouncing while scrolling on mobile devices\n    window.addEventListener(\"touchstart\", this.onTouchstart, { passive: false });\n    window.addEventListener(\"touchmove\", this.onTouchmove, { passive: false });\n\n    //* Prevent window scrolling with mouse wheel\n    window.addEventListener(\"wheel\", this.onWheel, { passive: false });\n  }\n\n  /**\n   * Handle `resize` event to call `updateViewport`\n   */\n  onResize() {\n    this.updateViewport();\n  }\n\n  /**\n   * Scale $container proportionally to actually fit inside browser,\n   * e.g., disable viewport zooming\n   */\n  updateViewport() {\n    const fancybox = this.fancybox,\n      viewport = this.viewport,\n      scale = viewport.scale || 1,\n      $container = fancybox.$container;\n\n    if (!$container) {\n      return;\n    }\n\n    let width = \"\",\n      height = \"\",\n      transform = \"\";\n\n    if (scale - 1 > 0.1) {\n      width = `${viewport.width * scale}px`;\n      height = `${viewport.height * scale}px`;\n      transform = `translate3d(${viewport.offsetLeft}px, ${viewport.offsetTop}px, 0) scale(${1 / scale})`;\n    }\n\n    $container.style.width = width;\n    $container.style.height = height;\n    $container.style.transform = transform;\n  }\n\n  /**\n   * Handle `touchstart` event to mark drag start position\n   * @param {Object} event\n   */\n  onTouchstart(event) {\n    this.startY = event.touches ? event.touches[0].screenY : event.screenY;\n  }\n\n  /**\n   * Handle `touchmove` event to fix scrolling on mobile devices (iOS)\n   * @param {Object} event\n   */\n  onTouchmove(event) {\n    const startY = this.startY;\n    const zoom = window.innerWidth / window.document.documentElement.clientWidth;\n\n    if (!event.cancelable) {\n      return;\n    }\n\n    if (event.touches.length > 1 || zoom !== 1) {\n      return;\n    }\n\n    const target = event.target;\n    const el = isScrollable(target);\n\n    if (!el) {\n      event.preventDefault();\n      return;\n    }\n\n    const style = window.getComputedStyle(el);\n    const height = parseInt(style.getPropertyValue(\"height\"), 10);\n\n    const curY = event.touches ? event.touches[0].screenY : event.screenY;\n\n    const isAtTop = startY <= curY && el.scrollTop === 0;\n    const isAtBottom = startY >= curY && el.scrollHeight - el.scrollTop === height;\n\n    if (isAtTop || isAtBottom) {\n      event.preventDefault();\n    }\n  }\n\n  /**\n   * Handle `wheel` event\n   */\n  onWheel(event) {\n    if (!isScrollable(event.target)) {\n      event.preventDefault();\n    }\n  }\n\n  /**\n   * Clean everything up\n   */\n  cleanup() {\n    if (this.pendingUpdate) {\n      cancelAnimationFrame(this.pendingUpdate);\n      this.pendingUpdate = null;\n    }\n\n    const viewport = this.viewport;\n\n    if (viewport) {\n      viewport.removeEventListener(\"resize\", this.onResize);\n      this.viewport = null;\n    }\n\n    window.removeEventListener(\"touchstart\", this.onTouchstart, false);\n    window.removeEventListener(\"touchmove\", this.onTouchmove, false);\n\n    window.removeEventListener(\"wheel\", this.onWheel, { passive: false });\n  }\n\n  attach() {\n    this.fancybox.on(\"initLayout\", this.onReady);\n  }\n\n  detach() {\n    this.fancybox.off(\"initLayout\", this.onReady);\n\n    this.cleanup();\n  }\n}\n","import { extend } from \"../shared/utils/extend.js\";\nimport { canUseDOM } from \"../shared/utils/canUseDOM.js\";\nimport { FOCUSABLE_ELEMENTS, setFocusOn } from \"../shared/utils/setFocusOn.js\";\n\nimport { Base } from \"../shared/Base/Base.js\";\n\nimport { Carousel } from \"../Carousel/Carousel.js\";\n\nimport { Plugins } from \"./plugins/index.js\";\n\n// Default language\nimport en from \"./l10n/en.js\";\n\n// Default settings\nconst defaults = {\n  // Index of active slide on the start\n  startIndex: 0,\n\n  // Number of slides to preload before and after active slide\n  preload: 1,\n\n  // Should navigation be infinite\n  infinite: true,\n\n  // Class name to be applied to the content to reveal it\n  showClass: \"fancybox-zoomInUp\", // \"fancybox-fadeIn\" | \"fancybox-zoomInUp\" | false\n\n  // Class name to be applied to the content to hide it\n  hideClass: \"fancybox-fadeOut\", // \"fancybox-fadeOut\" | \"fancybox-zoomOutDown\" | false\n\n  // Should backdrop and UI elements fade in/out on start/close\n  animated: true,\n\n  // If browser scrollbar should be hidden\n  hideScrollbar: true,\n\n  // Element containing main structure\n  parentEl: null,\n\n  // Custom class name or multiple space-separated class names for the container\n  mainClass: null,\n\n  // Set focus on first focusable element after displaying content\n  autoFocus: true,\n\n  // Trap focus inside Fancybox\n  trapFocus: true,\n\n  // Set focus back to trigger element after closing Fancybox\n  placeFocusBack: true,\n\n  // Action to take when the user clicks on the backdrop\n  click: \"close\", // \"close\" | \"next\" | null\n\n  // Position of the close button - over the content or at top right corner of viewport\n  closeButton: \"inside\", // \"inside\" | \"outside\"\n\n  // Allow user to drag content up/down to close instance\n  dragToClose: true,\n\n  // Enable keyboard navigation\n  keyboard: {\n    Escape: \"close\",\n    Delete: \"close\",\n    Backspace: \"close\",\n    PageUp: \"next\",\n    PageDown: \"prev\",\n    ArrowUp: \"next\",\n    ArrowDown: \"prev\",\n    ArrowRight: \"next\",\n    ArrowLeft: \"prev\",\n  },\n\n  // HTML templates for various elements\n  template: {\n    // Close button icon\n    closeButton:\n      '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" tabindex=\"-1\"><path d=\"M20 20L4 4m16 0L4 20\"/></svg>',\n    // Loading indicator icon\n    spinner:\n      '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"25 25 50 50\" tabindex=\"-1\"><circle cx=\"50\" cy=\"50\" r=\"20\"/></svg>',\n\n    // Main container element\n    main: null,\n  },\n\n  /* Note: If the `template.main` option is not provided, the structure is generated as follows by default:\n  <div class=\"fancybox__container\" role=\"dialog\" aria-modal=\"true\" aria-hidden=\"true\" aria-label=\"{{MODAL}}\" tabindex=\"-1\">\n    <div class=\"fancybox__backdrop\"></div>\n    <div class=\"fancybox__carousel\"></div>\n  </div>\n  */\n\n  // Localization of strings\n  l10n: en,\n};\n\n// Object that contains all active instances of Fancybox\nconst instances = new Map();\n\n// Number of Fancybox instances created, it is used to generate new instance \"id\"\nlet called = 0;\n\nclass Fancybox extends Base {\n  /**\n   * Fancybox constructor\n   * @constructs Fancybox\n   * @param {Object} [options] - Options for Fancybox\n   */\n  constructor(items, options = {}) {\n    // Quick hack to fix variable naming collision\n    items = items.map((item) => {\n      if (item.width) item._width = item.width;\n      if (item.height) item._height = item.height;\n\n      return item;\n    });\n\n    super(extend(true, {}, defaults, options));\n\n    this.bindHandlers();\n\n    this.state = \"init\";\n\n    this.setItems(items);\n\n    this.attachPlugins(Fancybox.Plugins);\n\n    // \"init\" event marks the start of initialization and is available to plugins\n    this.trigger(\"init\");\n\n    if (this.option(\"hideScrollbar\") === true) {\n      this.hideScrollbar();\n    }\n\n    this.initLayout();\n\n    this.initCarousel();\n\n    this.attachEvents();\n\n    instances.set(this.id, this);\n\n    // \"prepare\" event will trigger the creation of additional layout elements, such as thumbnails and toolbar\n    this.trigger(\"prepare\");\n\n    this.state = \"ready\";\n\n    // \"ready\" event will trigger the content to load\n    this.trigger(\"ready\");\n\n    // Reveal container\n    this.$container.setAttribute(\"aria-hidden\", \"false\");\n\n    // Set focus on the first focusable element inside this instance\n    if (this.option(\"trapFocus\")) {\n      this.focus();\n    }\n  }\n\n  /**\n   * Override `option` method to get value from the current slide\n   * @param {String} name option name\n   * @param  {...any} rest optional extra parameters\n   * @returns {any}\n   */\n  option(name, ...rest) {\n    const slide = this.getSlide();\n    const value = slide ? slide[name] : undefined;\n\n    if (value !== undefined) {\n      if (typeof value === \"function\") {\n        value = value.call(this, this, ...rest);\n      }\n\n      return value;\n    }\n\n    return super.option(name, ...rest);\n  }\n\n  /**\n   * Bind event handlers for referencability\n   */\n  bindHandlers() {\n    for (const methodName of [\n      \"onMousedown\",\n      \"onKeydown\",\n      \"onClick\",\n\n      \"onFocus\",\n\n      \"onCreateSlide\",\n      \"onSettle\",\n\n      \"onTouchMove\",\n      \"onTouchEnd\",\n\n      \"onTransform\",\n    ]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n  }\n\n  /**\n   * Set up a functions that will be called whenever the specified event is delivered\n   */\n  attachEvents() {\n    document.addEventListener(\"mousedown\", this.onMousedown);\n    document.addEventListener(\"keydown\", this.onKeydown, true);\n\n    // Trap keyboard focus inside of the modal\n    if (this.option(\"trapFocus\")) {\n      document.addEventListener(\"focus\", this.onFocus, true);\n    }\n\n    this.$container.addEventListener(\"click\", this.onClick);\n  }\n\n  /**\n   * Removes previously registered event listeners\n   */\n  detachEvents() {\n    document.removeEventListener(\"mousedown\", this.onMousedown);\n    document.removeEventListener(\"keydown\", this.onKeydown, true);\n\n    document.removeEventListener(\"focus\", this.onFocus, true);\n\n    this.$container.removeEventListener(\"click\", this.onClick);\n  }\n\n  /**\n   * Initialize layout; create main container, backdrop nd layout for main carousel\n   */\n  initLayout() {\n    this.$root = this.option(\"parentEl\") || document.body;\n\n    // Container\n    let mainTemplate = this.option(\"template.main\");\n\n    if (mainTemplate) {\n      this.$root.insertAdjacentHTML(\"beforeend\", this.localize(mainTemplate));\n\n      this.$container = this.$root.querySelector(\".fancybox__container\");\n    }\n\n    if (!this.$container) {\n      this.$container = document.createElement(\"div\");\n      this.$root.appendChild(this.$container);\n    }\n\n    // Normally we would not need this, but Safari does not support `preventScroll:false` option for `focus` method\n    // and that causes layout issues\n    this.$container.onscroll = () => {\n      this.$container.scrollLeft = 0;\n      return false;\n    };\n\n    Object.entries({\n      class: \"fancybox__container\",\n      role: \"dialog\",\n      tabIndex: \"-1\",\n      \"aria-modal\": \"true\",\n      \"aria-hidden\": \"true\",\n      \"aria-label\": this.localize(\"{{MODAL}}\"),\n    }).forEach((args) => this.$container.setAttribute(...args));\n\n    if (this.option(\"animated\")) {\n      this.$container.classList.add(\"is-animated\");\n    }\n\n    // Backdrop\n    this.$backdrop = this.$container.querySelector(\".fancybox__backdrop\");\n\n    if (!this.$backdrop) {\n      this.$backdrop = document.createElement(\"div\");\n      this.$backdrop.classList.add(\"fancybox__backdrop\");\n\n      this.$container.appendChild(this.$backdrop);\n    }\n\n    // Carousel\n    this.$carousel = this.$container.querySelector(\".fancybox__carousel\");\n\n    if (!this.$carousel) {\n      this.$carousel = document.createElement(\"div\");\n      this.$carousel.classList.add(\"fancybox__carousel\");\n\n      this.$container.appendChild(this.$carousel);\n    }\n\n    // Make instance reference accessible\n    this.$container.Fancybox = this;\n\n    // Make sure the container has an ID\n    this.id = this.$container.getAttribute(\"id\");\n\n    if (!this.id) {\n      this.id = this.options.id || ++called;\n      this.$container.setAttribute(\"id\", \"fancybox-\" + this.id);\n    }\n\n    // Add custom class name to main element\n    const mainClass = this.option(\"mainClass\");\n\n    if (mainClass) {\n      this.$container.classList.add(...mainClass.split(\" \"));\n    }\n\n    // Add class name for <html> element\n    document.documentElement.classList.add(\"with-fancybox\");\n\n    this.trigger(\"initLayout\");\n\n    return this;\n  }\n\n  /**\n   * Prepares slides for the corousel\n   * @returns {Array} Slides\n   */\n  setItems(items) {\n    const slides = [];\n\n    for (const slide of items) {\n      const $trigger = slide.$trigger;\n\n      if ($trigger) {\n        const dataset = $trigger.dataset || {};\n\n        slide.src = dataset.src || $trigger.getAttribute(\"href\") || slide.src;\n        slide.type = dataset.type || slide.type;\n\n        // Support items without `src`, e.g., when `data-fancybox` attribute added directly to `<img>` element\n        if (!slide.src && $trigger instanceof HTMLImageElement) {\n          slide.src = $trigger.currentSrc || slide.$trigger.src;\n        }\n      }\n\n      // Check for thumbnail element\n      let $thumb = slide.$thumb;\n\n      if (!$thumb) {\n        let origTarget = slide.$trigger && slide.$trigger.origTarget;\n\n        if (origTarget) {\n          if (origTarget instanceof HTMLImageElement) {\n            $thumb = origTarget;\n          } else {\n            $thumb = origTarget.querySelector(\"img:not([aria-hidden])\");\n          }\n        }\n\n        if (!$thumb && slide.$trigger) {\n          $thumb =\n            slide.$trigger instanceof HTMLImageElement\n              ? slide.$trigger\n              : slide.$trigger.querySelector(\"img:not([aria-hidden])\");\n        }\n      }\n\n      slide.$thumb = $thumb || null;\n\n      // Get thumbnail image source\n      let thumb = slide.thumb;\n\n      if (!thumb && $thumb) {\n        thumb = $thumb.currentSrc || $thumb.src;\n\n        if (!thumb && $thumb.dataset) {\n          thumb = $thumb.dataset.lazySrc || $thumb.dataset.src;\n        }\n      }\n\n      // Assume we have image, then use it as thumbnail\n      if (!thumb && slide.type === \"image\") {\n        thumb = slide.src;\n      }\n\n      slide.thumb = thumb || null;\n\n      // Add empty caption to make things simpler\n      slide.caption = slide.caption || \"\";\n\n      slides.push(slide);\n    }\n\n    this.items = slides;\n  }\n\n  /**\n   * Initialize main Carousel that will be used to display the content\n   * @param {Array} slides\n   */\n  initCarousel() {\n    this.Carousel = new Carousel(\n      this.$carousel,\n      extend(\n        true,\n        {},\n        {\n          prefix: \"\",\n\n          classNames: {\n            viewport: \"fancybox__viewport\",\n            track: \"fancybox__track\",\n            slide: \"fancybox__slide\",\n          },\n\n          textSelection: true,\n          preload: this.option(\"preload\"),\n\n          friction: 0.88,\n\n          slides: this.items,\n          initialPage: this.options.startIndex,\n          slidesPerPage: 1,\n\n          infiniteX: this.option(\"infinite\"),\n          infiniteY: true,\n\n          l10n: this.option(\"l10n\"),\n\n          Dots: false,\n          Navigation: {\n            classNames: {\n              main: \"fancybox__nav\",\n              button: \"carousel__button\",\n\n              next: \"is-next\",\n              prev: \"is-prev\",\n            },\n          },\n\n          Panzoom: {\n            textSelection: true,\n\n            panOnlyZoomed: () => {\n              return (\n                this.Carousel && this.Carousel.pages && this.Carousel.pages.length < 2 && !this.option(\"dragToClose\")\n              );\n            },\n\n            lockAxis: () => {\n              if (this.Carousel) {\n                let rez = \"x\";\n\n                if (this.option(\"dragToClose\")) {\n                  rez += \"y\";\n                }\n\n                return rez;\n              }\n            },\n          },\n\n          on: {\n            \"*\": (name, ...details) => this.trigger(`Carousel.${name}`, ...details),\n            init: (carousel) => (this.Carousel = carousel),\n            createSlide: this.onCreateSlide,\n            settle: this.onSettle,\n          },\n        },\n\n        this.option(\"Carousel\")\n      )\n    );\n\n    if (this.option(\"dragToClose\")) {\n      this.Carousel.Panzoom.on({\n        // Stop further touch event handling if content is scaled\n        touchMove: this.onTouchMove,\n\n        // Update backdrop opacity depending on vertical distance\n        afterTransform: this.onTransform,\n\n        // Close instance if drag distance exceeds limit\n        touchEnd: this.onTouchEnd,\n      });\n    }\n\n    this.trigger(\"initCarousel\");\n\n    return this;\n  }\n\n  /**\n   * Process `createSlide` event to create caption element inside new slide\n   */\n  onCreateSlide(carousel, slide) {\n    let caption = slide.caption || \"\";\n\n    if (typeof this.options.caption === \"function\") {\n      caption = this.options.caption.call(this, this, this.Carousel, slide);\n    }\n\n    if (typeof caption === \"string\" && caption.length) {\n      const $caption = document.createElement(\"div\");\n      const id = `fancybox__caption_${this.id}_${slide.index}`;\n\n      $caption.className = \"fancybox__caption\";\n      $caption.innerHTML = caption;\n      $caption.setAttribute(\"id\", id);\n\n      slide.$caption = slide.$el.appendChild($caption);\n\n      slide.$el.classList.add(\"has-caption\");\n      slide.$el.setAttribute(\"aria-labelledby\", id);\n    }\n  }\n\n  /**\n   * Handle Carousel `settle` event\n   */\n  onSettle() {\n    if (this.option(\"autoFocus\")) {\n      this.focus();\n    }\n  }\n\n  /**\n   * Handle focus event\n   * @param {Event} event - Focus event\n   */\n  onFocus(event) {\n    this.focus(event);\n  }\n\n  /**\n   * Handle click event on the container\n   * @param {Event} event - Click event\n   */\n  onClick(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    let eventTarget = event.target;\n\n    if (eventTarget.matches(\"[data-fancybox-close]\")) {\n      event.preventDefault();\n      Fancybox.close(false, event);\n\n      return;\n    }\n\n    if (eventTarget.matches(\"[data-fancybox-next]\")) {\n      event.preventDefault();\n      Fancybox.next();\n\n      return;\n    }\n\n    if (eventTarget.matches(\"[data-fancybox-prev]\")) {\n      event.preventDefault();\n      Fancybox.prev();\n\n      return;\n    }\n\n    // Skip if clicked inside content area\n    const content_class = \".fancybox__content\";\n\n    if (eventTarget.closest(content_class)) {\n      if (eventTarget.matches(content_class)) {\n        document.activeElement.blur();\n      }\n\n      return;\n    }\n\n    // Skip if text is selected\n    if (getSelection().toString().length) {\n      return;\n    }\n\n    if (this.trigger(\"click\", event) === false) {\n      return;\n    }\n\n    const action = this.option(\"click\");\n\n    switch (action) {\n      case \"close\":\n        this.close();\n        break;\n      case \"next\":\n        this.next();\n        break;\n    }\n  }\n\n  /**\n   * Handle panzoom `touchMove` event; Disable dragging if content of current slide is scaled\n   */\n  onTouchMove() {\n    const panzoom = this.getSlide().Panzoom;\n\n    return panzoom && panzoom.content.scale !== 1 ? false : true;\n  }\n\n  /**\n   * Handle panzoom `touchEnd` event; close when quick flick up/down is detected\n   * @param {Object} panzoom - Panzoom instance\n   */\n  onTouchEnd(panzoom) {\n    const distanceY = panzoom.dragOffset.y;\n\n    if (Math.abs(distanceY) >= 150 || (Math.abs(distanceY) >= 35 && panzoom.dragOffset.time < 350)) {\n      if (this.option(\"hideClass\")) {\n        this.getSlide().hideClass = `fancybox-throwOut${panzoom.content.y < 0 ? \"Up\" : \"Down\"}`;\n      }\n\n      this.close();\n    } else if (panzoom.lockAxis === \"y\") {\n      panzoom.panTo({ y: 0 });\n    }\n  }\n\n  /**\n   * Handle `afterTransform` event; change backdrop opacity based on current y position of panzoom\n   * @param {Object} panzoom - Panzoom instance\n   */\n  onTransform(panzoom) {\n    const $backdrop = this.$backdrop;\n\n    if ($backdrop) {\n      const yPos = Math.abs(panzoom.content.y);\n      const opacity = yPos < 1 ? \"\" : Math.max(0.33, Math.min(1, 1 - (yPos / panzoom.content.fitHeight) * 1.5));\n\n      this.$container.style.setProperty(\"--fancybox-ts\", opacity ? \"0s\" : \"\");\n      this.$container.style.setProperty(\"--fancybox-opacity\", opacity);\n    }\n  }\n\n  /**\n   * Handle `mousedown` event to mark that the mouse is in use\n   */\n  onMousedown() {\n    if (this.state === \"ready\") {\n      document.body.classList.add(\"is-using-mouse\");\n    }\n  }\n\n  /**\n   * Handle `keydown` event; trap focus\n   * @param {Event} event Keydown event\n   */\n  onKeydown(event) {\n    if (Fancybox.getInstance().id !== this.id) {\n      return;\n    }\n\n    document.body.classList.remove(\"is-using-mouse\");\n\n    const key = event.key;\n    const keyboard = this.option(\"keyboard\");\n\n    if (!keyboard || event.ctrlKey || event.altKey || event.shiftKey) {\n      return;\n    }\n\n    const classList = document.activeElement && document.activeElement.classList;\n    const isUIElement = classList && classList.contains(\"carousel__button\");\n\n    // Allow to close using Escape button\n    if (key !== \"Escape\" && !isUIElement) {\n      let ignoreElements =\n        event.target.isContentEditable ||\n        [\"BUTTON\", \"TEXTAREA\", \"OPTION\", \"INPUT\", \"SELECT\", \"VIDEO\"].indexOf(event.target.nodeName) !== -1;\n\n      if (ignoreElements) {\n        return;\n      }\n    }\n\n    if (this.trigger(\"keydown\", key, event) === false) {\n      return;\n    }\n\n    const action = keyboard[key];\n\n    if (typeof this[action] === \"function\") {\n      this[action]();\n    }\n  }\n\n  /**\n   * Get the active slide. This will be the first slide from the current page of the main carousel.\n   */\n  getSlide() {\n    const carousel = this.Carousel;\n\n    if (!carousel) return null;\n\n    const page = carousel.page === null ? carousel.option(\"initialPage\") : carousel.page;\n    const pages = carousel.pages || [];\n\n    if (pages.length && pages[page]) {\n      return pages[page].slides[0];\n    }\n\n    return null;\n  }\n\n  /**\n   * Place focus on the first focusable element inside current slide\n   * @param {Event} [event] - Focus event\n   */\n  focus(event) {\n    if (Fancybox.ignoreFocusChange) {\n      return;\n    }\n\n    if ([\"init\", \"closing\", \"customClosing\", \"destroy\"].indexOf(this.state) > -1) {\n      return;\n    }\n\n    if (event) {\n      event.preventDefault();\n    }\n\n    Fancybox.ignoreFocusChange = true;\n\n    const $container = this.$container;\n    const currentSlide = this.getSlide();\n    const $currentSlide = currentSlide.state === \"done\" ? currentSlide.$el : null;\n\n    const allFocusableElems = Array.from($container.querySelectorAll(FOCUSABLE_ELEMENTS));\n\n    let enabledElems = [];\n    let $firstEl;\n\n    for (let node of allFocusableElems) {\n      // Enable element if it's visible and\n      // is inside the current slide or is outside main carousel (for example, inside the toolbar)\n      const isNodeVisible = node.offsetParent;\n      const isNodeInsideCurrentSlide = $currentSlide && $currentSlide.contains(node);\n      const isNodeOutsideCarousel = !this.Carousel.$viewport.contains(node);\n\n      if (isNodeVisible && (isNodeInsideCurrentSlide || isNodeOutsideCarousel)) {\n        enabledElems.push(node);\n\n        if (node.dataset.origTabindex !== undefined) {\n          node.tabIndex = node.dataset.origTabindex;\n          node.removeAttribute(\"data-orig-tabindex\");\n        }\n\n        if (\n          node.hasAttribute(\"autoFocus\") ||\n          (!$firstEl && isNodeInsideCurrentSlide && !node.classList.contains(\"carousel__button\"))\n        ) {\n          $firstEl = node;\n        }\n      } else {\n        // Element is either hidden or is inside preloaded slide (e.g., not inside current slide, but next/prev)\n        node.dataset.origTabindex =\n          node.dataset.origTabindex === undefined ? node.getAttribute(\"tabindex\") : node.dataset.origTabindex;\n\n        node.tabIndex = -1;\n      }\n    }\n\n    if (!event) {\n      if (this.option(\"autoFocus\") && $firstEl) {\n        setFocusOn($firstEl);\n      } else if (enabledElems.indexOf(document.activeElement) < 0) {\n        setFocusOn($container);\n      }\n    } else {\n      if (enabledElems.indexOf(event.target) > -1) {\n        this.lastFocus = event.target;\n      } else {\n        if (this.lastFocus === $container) {\n          setFocusOn(enabledElems[enabledElems.length - 1]);\n        } else {\n          setFocusOn($container);\n        }\n      }\n    }\n\n    this.lastFocus = document.activeElement;\n\n    Fancybox.ignoreFocusChange = false;\n  }\n\n  /**\n   * Hide vertical page scrollbar and adjust right padding value of `body` element to prevent content from shifting\n   * (otherwise the `body` element may become wider and the content may expand horizontally).\n   */\n  hideScrollbar() {\n    if (!canUseDOM) {\n      return;\n    }\n\n    const scrollbarWidth = window.innerWidth - document.documentElement.getBoundingClientRect().width;\n    const id = \"fancybox-style-noscroll\";\n\n    let $style = document.getElementById(id);\n\n    if ($style) {\n      return;\n    }\n\n    if (scrollbarWidth > 0) {\n      $style = document.createElement(\"style\");\n\n      $style.id = id;\n      $style.type = \"text/css\";\n      $style.innerHTML = `.compensate-for-scrollbar {padding-right: ${scrollbarWidth}px;}`;\n\n      document.getElementsByTagName(\"head\")[0].appendChild($style);\n\n      document.body.classList.add(\"compensate-for-scrollbar\");\n    }\n  }\n\n  /**\n   * Stop hiding vertical page scrollbar\n   */\n  revealScrollbar() {\n    document.body.classList.remove(\"compensate-for-scrollbar\");\n\n    const el = document.getElementById(\"fancybox-style-noscroll\");\n\n    if (el) {\n      el.remove();\n    }\n  }\n\n  /**\n   * Remove content for given slide\n   * @param {Object} slide - Carousel slide\n   */\n  clearContent(slide) {\n    // * Clear previously added content and class name\n    this.Carousel.trigger(\"removeSlide\", slide);\n\n    if (slide.$content) {\n      slide.$content.remove();\n      slide.$content = null;\n    }\n\n    if (slide.$closeButton) {\n      slide.$closeButton.remove();\n      slide.$closeButton = null;\n    }\n\n    if (slide._className) {\n      slide.$el.classList.remove(slide._className);\n    }\n  }\n\n  /**\n   * Set new content for given slide\n   * @param {Object} slide - Carousel slide\n   * @param {HTMLElement|String} html - HTML element or string containing HTML code\n   * @param {Object} [opts] - Options\n   */\n  setContent(slide, html, opts = {}) {\n    let $content;\n\n    const $el = slide.$el;\n\n    if (html instanceof HTMLElement) {\n      if ([\"img\", \"iframe\", \"video\", \"audio\"].indexOf(html.nodeName.toLowerCase()) > -1) {\n        $content = document.createElement(\"div\");\n        $content.appendChild(html);\n      } else {\n        $content = html;\n      }\n    } else {\n      const $fragment = document.createRange().createContextualFragment(html);\n\n      $content = document.createElement(\"div\");\n      $content.appendChild($fragment);\n    }\n\n    if (slide.filter && !slide.error) {\n      $content = $content.querySelector(slide.filter);\n    }\n\n    if (!($content instanceof Element)) {\n      this.setError(slide, \"{{ELEMENT_NOT_FOUND}}\");\n\n      return;\n    }\n\n    // * Add class name indicating content type, for example `has-image`\n    slide._className = `has-${opts.suffix || slide.type || \"unknown\"}`;\n\n    $el.classList.add(slide._className);\n\n    // * Set content\n    $content.classList.add(\"fancybox__content\");\n\n    // Make sure that content is not hidden and will be visible\n    if ($content.style.display === \"none\" || getComputedStyle($content).getPropertyValue(\"display\") === \"none\") {\n      $content.style.display = slide.display || this.option(\"defaultDisplay\") || \"flex\";\n    }\n\n    if (slide.id) {\n      $content.setAttribute(\"id\", slide.id);\n    }\n\n    slide.$content = $content;\n\n    $el.prepend($content);\n\n    this.manageCloseButton(slide);\n\n    if (slide.state !== \"loading\") {\n      this.revealContent(slide);\n    }\n\n    return $content;\n  }\n\n  /**\n   * Create close button if needed\n   * @param {Object} slide\n   */\n  manageCloseButton(slide) {\n    const position = slide.closeButton === undefined ? this.option(\"closeButton\") : slide.closeButton;\n\n    if (!position || (position === \"top\" && this.$closeButton)) {\n      return;\n    }\n\n    const $btn = document.createElement(\"button\");\n\n    $btn.classList.add(\"carousel__button\", \"is-close\");\n    $btn.setAttribute(\"title\", this.options.l10n.CLOSE);\n    $btn.innerHTML = this.option(\"template.closeButton\");\n\n    $btn.addEventListener(\"click\", (e) => this.close(e));\n\n    if (position === \"inside\") {\n      // Remove existing one to avoid scope issues\n      if (slide.$closeButton) {\n        slide.$closeButton.remove();\n      }\n\n      slide.$closeButton = slide.$content.appendChild($btn);\n    } else {\n      this.$closeButton = this.$container.insertBefore($btn, this.$container.firstChild);\n    }\n  }\n\n  /**\n   * Make content visible for given slide and optionally start CSS animation\n   * @param {Object} slide - Carousel slide\n   */\n  revealContent(slide) {\n    this.trigger(\"reveal\", slide);\n\n    slide.$content.style.visibility = \"\";\n\n    // Add CSS class name that reveals content (default animation is \"fadeIn\")\n    let showClass = false;\n\n    if (\n      !(\n        slide.error ||\n        slide.state === \"loading\" ||\n        this.Carousel.prevPage !== null ||\n        slide.index !== this.options.startIndex\n      )\n    ) {\n      showClass = slide.showClass === undefined ? this.option(\"showClass\") : slide.showClass;\n    }\n\n    if (!showClass) {\n      this.done(slide);\n\n      return;\n    }\n\n    slide.state = \"animating\";\n\n    this.animateCSS(slide.$content, showClass, () => {\n      this.done(slide);\n    });\n  }\n\n  /**\n   * Add class name to given HTML element and wait for `animationend` event to execute callback\n   * @param {HTMLElement} $el\n   * @param {String} className\n   * @param {Function} callback - A callback to run\n   */\n  animateCSS($element, className, callback) {\n    if ($element) {\n      $element.dispatchEvent(new CustomEvent(\"animationend\", { bubbles: true, cancelable: true }));\n    }\n\n    if (!$element || !className) {\n      if (typeof callback === \"function\") {\n        callback();\n      }\n\n      return;\n    }\n\n    const handleAnimationEnd = function (event) {\n      if (event.currentTarget === this) {\n        $element.removeEventListener(\"animationend\", handleAnimationEnd);\n\n        if (callback) {\n          callback();\n        }\n\n        $element.classList.remove(className);\n      }\n    };\n\n    $element.addEventListener(\"animationend\", handleAnimationEnd);\n    $element.classList.add(className);\n  }\n\n  /**\n   * Mark given slide as `done`, e.g., content is loaded and displayed completely\n   * @param {Object} slide - Carousel slide\n   */\n  done(slide) {\n    slide.state = \"done\";\n\n    this.trigger(\"done\", slide);\n\n    // Trigger focus for current slide (and ignore preloaded slides)\n    const currentSlide = this.getSlide();\n\n    if (currentSlide && slide.index === currentSlide.index && this.option(\"autoFocus\")) {\n      this.focus();\n    }\n  }\n\n  /**\n   * Set error message as slide content\n   * @param {Object} slide - Carousel slide\n   * @param {String} message - Error message, can contain HTML code and template variables\n   */\n  setError(slide, message) {\n    slide.error = message;\n\n    this.hideLoading(slide);\n    this.clearContent(slide);\n\n    // Create new content\n    const div = document.createElement(\"div\");\n    div.classList.add(\"fancybox-error\");\n    div.innerHTML = this.localize(message || \"<p>{{ERROR}}</p>\");\n\n    this.setContent(slide, div, { suffix: \"error\" });\n  }\n\n  /**\n   * Create loading indicator inside given slide\n   * @param {Object} slide - Carousel slide\n   */\n  showLoading(slide) {\n    slide.state = \"loading\";\n\n    slide.$el.classList.add(\"is-loading\");\n\n    let $spinner = slide.$el.querySelector(\".fancybox__spinner\");\n\n    if ($spinner) {\n      return;\n    }\n\n    $spinner = document.createElement(\"div\");\n\n    $spinner.classList.add(\"fancybox__spinner\");\n    $spinner.innerHTML = this.option(\"template.spinner\");\n\n    $spinner.addEventListener(\"click\", () => {\n      if (!this.Carousel.Panzoom.velocity) this.close();\n    });\n\n    slide.$el.prepend($spinner);\n  }\n\n  /**\n   * Remove loading indicator from given slide\n   * @param {Object} slide - Carousel slide\n   */\n  hideLoading(slide) {\n    const $spinner = slide.$el && slide.$el.querySelector(\".fancybox__spinner\");\n\n    if ($spinner) {\n      $spinner.remove();\n\n      slide.$el.classList.remove(\"is-loading\");\n    }\n\n    if (slide.state === \"loading\") {\n      this.trigger(\"load\", slide);\n\n      slide.state = \"ready\";\n    }\n  }\n\n  /**\n   * Slide carousel to next page\n   */\n  next() {\n    const carousel = this.Carousel;\n\n    if (carousel && carousel.pages.length > 1) {\n      carousel.slideNext();\n    }\n  }\n\n  /**\n   * Slide carousel to previous page\n   */\n  prev() {\n    const carousel = this.Carousel;\n\n    if (carousel && carousel.pages.length > 1) {\n      carousel.slidePrev();\n    }\n  }\n\n  /**\n   * Slide carousel to selected page with optional parameters\n   * Examples:\n   *    Fancybox.getInstance().jumpTo(2);\n   *    Fancybox.getInstance().jumpTo(3, {friction: 0})\n   * @param  {...any} args - Arguments for Carousel `slideTo` method\n   */\n  jumpTo(...args) {\n    if (this.Carousel) this.Carousel.slideTo(...args);\n  }\n\n  /**\n   * Start closing the current instance\n   * @param {Event} [event] - Optional click event\n   */\n  close(event) {\n    if (event) event.preventDefault();\n\n    // First, stop further execution if this instance is already closing\n    // (this can happen if, for example, user clicks close button multiple times really fast)\n    if ([\"closing\", \"customClosing\", \"destroy\"].includes(this.state)) {\n      return;\n    }\n\n    // Allow callbacks and/or plugins to prevent closing\n    if (this.trigger(\"shouldClose\", event) === false) {\n      return;\n    }\n\n    this.state = \"closing\";\n\n    this.Carousel.Panzoom.destroy();\n\n    this.detachEvents();\n\n    this.trigger(\"closing\", event);\n\n    if (this.state === \"destroy\") {\n      return;\n    }\n\n    // Trigger default CSS closing animation for backdrop and interface elements\n    this.$container.setAttribute(\"aria-hidden\", \"true\");\n\n    this.$container.classList.add(\"is-closing\");\n\n    // Clear inactive slides\n    const currentSlide = this.getSlide();\n\n    this.Carousel.slides.forEach((slide) => {\n      if (slide.$content && slide.index !== currentSlide.index) {\n        this.Carousel.trigger(\"removeSlide\", slide);\n      }\n    });\n\n    // Start default closing animation\n    if (this.state === \"closing\") {\n      const hideClass = currentSlide.hideClass === undefined ? this.option(\"hideClass\") : currentSlide.hideClass;\n\n      this.animateCSS(\n        currentSlide.$content,\n        hideClass,\n        () => {\n          this.destroy();\n        },\n        true\n      );\n    }\n  }\n\n  /**\n   * Clean up after closing fancybox\n   */\n  destroy() {\n    if (this.state === \"destroy\") {\n      return;\n    }\n\n    this.state = \"destroy\";\n\n    this.trigger(\"destroy\");\n\n    const $trigger = this.option(\"placeFocusBack\") ? this.getSlide().$trigger : null;\n\n    // Destroy Carousel and then detach plugins;\n    // * Note: this order allows plugins to receive `removeSlide` event\n    this.Carousel.destroy();\n\n    this.detachPlugins();\n\n    this.Carousel = null;\n\n    this.options = {};\n    this.events = {};\n\n    this.$container.remove();\n\n    this.$container = this.$backdrop = this.$carousel = null;\n\n    if ($trigger) {\n      setFocusOn($trigger);\n    }\n\n    instances.delete(this.id);\n\n    const nextInstance = Fancybox.getInstance();\n\n    if (nextInstance) {\n      nextInstance.focus();\n      return;\n    }\n\n    document.documentElement.classList.remove(\"with-fancybox\");\n    document.body.classList.remove(\"is-using-mouse\");\n\n    this.revealScrollbar();\n  }\n\n  /**\n   * Create new Fancybox instance with provided options\n   * Example:\n   *   Fancybox.show([{ src : 'https://lipsum.app/id/1/300x225' }]);\n   * @param {Array} items - Gallery items\n   * @param {Object} [options] - Optional custom options\n   * @returns {Object} Fancybox instance\n   */\n  static show(items, options = {}) {\n    return new Fancybox(items, options);\n  }\n\n  /**\n   * Starts Fancybox if event target matches any opener or target is `trigger element`\n   * @param {Event} event - Click event\n   * @param {Object} [options] - Optional custom options\n   */\n  static fromEvent(event, options = {}) {\n    //  Allow other scripts to prevent starting fancybox on click\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    // Don't run if right-click\n    if (event.button && event.button !== 0) {\n      return;\n    }\n\n    // Ignore command/control + click\n    if (event.ctrlKey || event.metaKey || event.shiftKey) {\n      return;\n    }\n\n    let eventTarget = event.target;\n\n    // Support `trigger` element, e.g., start fancybox from different DOM element, for example,\n    // to have one preview image for hidden image gallery\n    let triggerGroupName;\n\n    if (\n      eventTarget.matches(\"[data-fancybox-trigger]\") ||\n      (eventTarget = eventTarget.closest(\"[data-fancybox-trigger]\"))\n    ) {\n      triggerGroupName = eventTarget && eventTarget.dataset && eventTarget.dataset.fancyboxTrigger;\n    }\n\n    if (triggerGroupName) {\n      const triggerItems = document.querySelectorAll(`[data-fancybox=\"${triggerGroupName}\"]`);\n      const triggerIndex = parseInt(eventTarget.dataset.fancyboxIndex, 10) || 0;\n\n      eventTarget = triggerItems.length ? triggerItems[triggerIndex] : eventTarget;\n    }\n\n    if (!eventTarget) {\n      eventTarget = event.target;\n    }\n\n    // * Try to find matching openener\n    let matchingOpener;\n    let target;\n\n    Array.from(Fancybox.openers.keys())\n      .reverse()\n      .some((opener) => {\n        target = eventTarget;\n\n        let found = false;\n\n        try {\n          if (target instanceof Element && (typeof opener === \"string\" || opener instanceof String)) {\n            // Chain closest() to event.target to find and return the parent element,\n            // regardless if clicking on the child elements (icon, label, etc)\n            found = target.matches(opener) || (target = target.closest(opener));\n          }\n        } catch (error) {}\n\n        if (found) {\n          event.preventDefault();\n          matchingOpener = opener;\n          return true;\n        }\n\n        return false;\n      });\n\n    let rez = false;\n\n    if (matchingOpener) {\n      options.event = event;\n      options.target = target;\n\n      target.origTarget = event.target;\n\n      rez = Fancybox.fromOpener(matchingOpener, options);\n\n      // Check if the mouse is being used\n      // Waiting for better browser support for `:focus-visible` -\n      // https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo\n      const nextInstance = Fancybox.getInstance();\n\n      if (nextInstance && nextInstance.state === \"ready\" && event.detail) {\n        document.body.classList.add(\"is-using-mouse\");\n      }\n    }\n\n    return rez;\n  }\n\n  /**\n   * Starts Fancybox using selector\n   * @param {String} opener - Valid CSS selector string\n   * @param {Object} [options] - Optional custom options\n   */\n  static fromOpener(opener, options = {}) {\n    // Callback function called once for each group element that\n    // 1) converts data attributes to boolean or JSON\n    // 2) removes values that could cause issues\n    const mapCallback = function (el) {\n      const falseValues = [\"false\", \"0\", \"no\", \"null\", \"undefined\"];\n      const trueValues = [\"true\", \"1\", \"yes\"];\n\n      const dataset = Object.assign({}, el.dataset);\n      const options = {};\n\n      for (let [key, value] of Object.entries(dataset)) {\n        if (key === \"fancybox\") {\n          continue;\n        }\n\n        if (key === \"width\" || key === \"height\") {\n          options[`_${key}`] = value;\n        } else if (typeof value === \"string\" || value instanceof String) {\n          if (falseValues.indexOf(value) > -1) {\n            options[key] = false;\n          } else if (trueValues.indexOf(options[key]) > -1) {\n            options[key] = true;\n          } else {\n            try {\n              options[key] = JSON.parse(value);\n            } catch (e) {\n              options[key] = value;\n            }\n          }\n        } else {\n          options[key] = value;\n        }\n      }\n\n      if (el instanceof Element) {\n        options.$trigger = el;\n      }\n\n      return options;\n    };\n\n    let items = [],\n      index = options.startIndex || 0,\n      target = options.target || null;\n\n    // Get options\n    // ===\n    options = extend({}, options, Fancybox.openers.get(opener));\n\n    // Get matching nodes\n    // ===\n    const groupAll = options.groupAll === undefined ? false : options.groupAll;\n\n    const groupAttr = options.groupAttr === undefined ? \"data-fancybox\" : options.groupAttr;\n    const groupValue = groupAttr && target ? target.getAttribute(`${groupAttr}`) : \"\";\n\n    if (!target || groupValue || groupAll) {\n      items = [].slice.call(document.querySelectorAll(opener));\n    }\n\n    if (target && !groupAll) {\n      if (groupValue) {\n        items = items.filter((el) => el.getAttribute(`${groupAttr}`) === groupValue);\n      } else {\n        items = [target];\n      }\n    }\n\n    if (!items.length) {\n      return false;\n    }\n\n    // Exit if current instance is triggered from the same element\n    // ===\n    const currentInstance = Fancybox.getInstance();\n\n    if (currentInstance && items.indexOf(currentInstance.options.$trigger) > -1) {\n      return false;\n    }\n\n    // Start Fancybox\n    // ===\n\n    // Get index of current item in the gallery\n    index = target ? items.indexOf(target) : index;\n\n    // Convert items in a format supported by fancybox\n    items = items.map(mapCallback);\n\n    // * Create new fancybox instance\n    return new Fancybox(\n      items,\n      extend({}, options, {\n        startIndex: index,\n        $trigger: target,\n      })\n    );\n  }\n\n  /**\n   * Attach a click handler function that starts Fancybox to the selected items, as well as to all future matching elements.\n   * @param {String} selector - Selector that should match trigger elements\n   * @param {Object} [options] - Custom options\n   */\n  static bind(selector, options = {}) {\n    function attachClickEvent() {\n      document.body.addEventListener(\"click\", Fancybox.fromEvent, false);\n    }\n\n    if (!canUseDOM) {\n      return;\n    }\n\n    if (!Fancybox.openers.size) {\n      if (/complete|interactive|loaded/.test(document.readyState)) {\n        attachClickEvent();\n      } else {\n        document.addEventListener(\"DOMContentLoaded\", attachClickEvent);\n      }\n    }\n\n    Fancybox.openers.set(selector, options);\n  }\n\n  /**\n   * Remove the click handler that was attached with `bind()`\n   * @param {String} selector - A selector which should match the one originally passed to .bind()\n   */\n  static unbind(selector) {\n    Fancybox.openers.delete(selector);\n\n    if (!Fancybox.openers.size) {\n      Fancybox.destroy();\n    }\n  }\n\n  /**\n   * Immediately destroy all instances (without closing animation) and clean up all bindings..\n   */\n  static destroy() {\n    let fb;\n\n    while ((fb = Fancybox.getInstance())) {\n      fb.destroy();\n    }\n\n    Fancybox.openers = new Map();\n\n    document.body.removeEventListener(\"click\", Fancybox.fromEvent, false);\n  }\n\n  /**\n   * Retrieve instance by identifier or the top most instance, if identifier is not provided\n   * @param {String|Numeric} [id] - Optional instance identifier\n   */\n  static getInstance(id) {\n    if (id) {\n      return instances.get(id);\n    }\n\n    const instance = Array.from(instances.values())\n      .reverse()\n      .find((instance) => {\n        if (![\"closing\", \"customClosing\", \"destroy\"].includes(instance.state)) {\n          return instance;\n        }\n\n        return false;\n      });\n\n    return instance || null;\n  }\n\n  /**\n   * Close all or topmost currently active instance.\n   * @param {boolean} [all] - All or only topmost active instance\n   * @param {any} [arguments] - Optional data\n   */\n  static close(all = true, args) {\n    if (all) {\n      for (const instance of instances.values()) {\n        instance.close(args);\n      }\n    } else {\n      const instance = Fancybox.getInstance();\n\n      if (instance) {\n        instance.close(args);\n      }\n    }\n  }\n\n  /**\n   * Slide topmost currently active instance to next page\n   */\n  static next() {\n    const instance = Fancybox.getInstance();\n\n    if (instance) {\n      instance.next();\n    }\n  }\n\n  /**\n   * Slide topmost currently active instance to previous page\n   */\n  static prev() {\n    const instance = Fancybox.getInstance();\n\n    if (instance) {\n      instance.prev();\n    }\n  }\n}\n\n// Expose version\nFancybox.version = \"__VERSION__\";\n\n// Expose defaults\nFancybox.defaults = defaults;\n\n// Expose openers\nFancybox.openers = new Map();\n\n// Add default plugins\nFancybox.Plugins = Plugins;\n\n// Auto init with default options\nFancybox.bind(\"[data-fancybox]\");\n\n// Prepare plugins\nfor (const [key, Plugin] of Object.entries(Fancybox.Plugins || {})) {\n  if (typeof Plugin.create === \"function\") {\n    Plugin.create(Fancybox);\n  }\n}\n\nexport { Fancybox };\n","export default {\r\n  CLOSE: \"Close\",\r\n  NEXT: \"Next\",\r\n  PREV: \"Previous\",\r\n  MODAL: \"You can close this modal content with the ESC key\",\r\n  ERROR: \"Something Went Wrong, Please Try Again Later\",\r\n  IMAGE_ERROR: \"Image Not Found\",\r\n  ELEMENT_NOT_FOUND: \"HTML Element Not Found\",\r\n  AJAX_NOT_FOUND: \"Error Loading AJAX : Not Found\",\r\n  AJAX_FORBIDDEN: \"Error Loading AJAX : Forbidden\",\r\n  IFRAME_ERROR: \"Error Loading Page\",\r\n  TOGGLE_ZOOM: \"Toggle zoom level\",\r\n  TOGGLE_THUMBS: \"Toggle thumbnails\",\r\n  TOGGLE_SLIDESHOW: \"Toggle slideshow\",\r\n  TOGGLE_FULLSCREEN: \"Toggle full-screen mode\",\r\n  DOWNLOAD: \"Download\",\r\n};\r\n","import Page from './shared/page.js';\nimport ScrollAnchor from './shared/scroll.anchor';\nimport SwiperSlider from './swiper/swiper-slider.js';\nimport Accordion from './accordion/accordion.js'\nimport { Fancybox } from '@fancyapps/ui/src/Fancybox/Fancybox.js';\nexport default class SchedaSuite extends Page {\n\n\tconstructor(el) {\n\t\tsuper(el);\n\t\tthis.init();\n\t\tthis.pageInit();\n\t}\n\n\tpageInit() {\n\t\tSwiperSlider.init();\n\t\tScrollAnchor.init();\n\t\tthis.initAccordion();\n\t}\n\n\tinitAccordion() {\n\t\tconst selectors = {\n\t\t\tbuttonAttribute: 'accordion-button',\n\t\t\tcontentAttribute: 'accordion-content',\n\t\t\tactiveClass: 'active'\n\t\t};\n\n\t\tconst settings = {\n\t\t\tcloseOthers: false,\n\t\t\ttoggleCurrent: false,\n\t\t\tdefaultElementId: ''\n\t\t}\n\n\t\tAccordion.init('accordion-component', selectors, settings);\n\t}\n}\n\nwindow.onload = () => {\n\tconst schedasuite = new SchedaSuite();\n};"]}